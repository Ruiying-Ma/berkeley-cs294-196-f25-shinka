{
  "unprocessed_programs": [],
  "meta_summary": "**Program Name: Timestamp-based LRU Cache Eviction**\n- **Implementation**: Maintains a global map of last-access timestamps (via cache_snapshot.access_count) per key and evicts the cached key with the minimum timestamp, breaking ties by cache iteration order. Metadata is updated on hits/inserts by setting the timestamp and removed on eviction.\n- **Performance**: Combined score 0.21 across 48 traces, with hit rates ranging from 0.0000 to 0.8680.\n- **Feedback**: Behaves as a classic LRU\u2014strong on temporal locality, weak on scans or oversized working sets. Eviction is O(n) due to scanning timestamps and has arbitrary tie-breaking, which can slightly affect consistency across workloads.\n**Program Identifier:** Generation 0 - Patch Name initial_program - Correct Program: True\n\n**Program Name: Segmented LRU with Probation/Protected**\n- **Implementation**: Two-segment LRU with a 66% protected partition and probation preferred for eviction; LRU victims are chosen by timestamp among in-cache keys. On hit, items in probation are promoted to protected, and the protected LRU is demoted when over capacity; timestamps use access_count and a legacy ledger is maintained.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging 0.0\u20130.875 (strong on locality-heavy traces 27/28/34/38, weak on scan-like 13\u201316/32).\n- **Feedback**: Probation-first eviction and promotion-on-second-touch effectively preserve re-referenced items. However, the static 66/34 split, lack of probation trimming/dynamic adaptation, and auto-protect on metadata misses can lead to pollution and poor results on scans or rapidly shifting workloads.\n**Program Identifier:** Generation 1 - Patch Name slru_promotion_with_demotions - Correct Program: True\n\n**Program Name: Decayed LFU with Ghost Bias**\n- **Implementation**: Uses exponential decay of per-key frequency with a capacity-scaled half-life (~1.5\u00d7 capacity), lazy score refresh on hits, and evicts the minimum decayed score with LRU tiebreak; a bounded ghost history boosts admission (base 1.2 vs 0.3) for recently evicted keys.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates spanning 0.0000\u20130.8778.\n- **Feedback**: Strong on locality-rich/recurring workloads but weak on scans and one-hit streams; tuning the half-life and admission base, or clearing ghost entries on re-admission, could reduce pollution and improve low-rate traces.\n**Program Identifier:** Generation 2 - Patch Name decaylfu_ghost - Correct Program: True\n\n**Program Name: ARC-based cache eviction**\n- **Implementation**: Implements ARC with T1/T2 (resident) and B1/B2 (ghost) as OrderedDict LRU lists, plus a global arc_p target for T1 size. Eviction follows ARC\u2019s replace() rule with ghost-informed adaptation, stale-key cleanup, and ghost lists bounded to 2\u00d7capacity.\n- **Performance**: Combined score 0.13 across 48 traces, with hit rates ranging from 0.0 to 0.62 (strong on several high-locality traces, weak on others).\n- **Feedback**: arc_p is adapted on ghost hits in both evict and update_after_insert, likely double-adjusting and destabilizing the target; consolidating adaptation to a single step would improve control. Missing full ARC capacity/ghost invariant handling may limit robustness, though ghost tracking and T1\u2192T2 promotion provide clear benefits on frequency-friendly workloads.\n**Program Identifier:** Generation 3 - Patch Name arc_adaptive_reuse - Correct Program: True\n\n**Program Name: Adaptive SLRU with dynamic protected fraction**\n- **Implementation**: Two-segment SLRU using OrderedDicts tracks probation (seen-once) and protected (hit-promoted) with LRU ordering; eviction prefers probation LRU, while rebalancing demotes protected LRU to meet a target protected fraction. The protected fraction adapts by \u00b10.02 (bounded 0.05\u20130.95), increasing on promotion hits and decreasing when evicting from protected; metadata is synced to the cache snapshot and stale entries are pruned.\n- **Performance**: Combined score 0.23 over 48 traces; per-trace hit rates varied widely (0.0\u20130.8874), with strong results on locality-rich traces and weak results on low-reuse/scan workloads.\n- **Feedback**: The scan-resistant probation-first eviction and promotion-on-hit help workloads with reuse, but small caches and scans suffer, partly due to integer-rounded protected targets and aggressive protected sizing. Global mutable state (segments and protected fraction) persists across runs, risking cross-trace contamination; reset metadata per run and consider gentler or workload-capped adaptation.\n**Program Identifier:** Generation 4 - Patch Name slru_with_adaptive_protected_ratio - Correct Program: True\n\n**Program Name: Segmented LRU (2Q-like) Eviction**\n- **Implementation**: Maintains probationary and protected sets with per-key last-access timestamps; new inserts start in probation and are promoted to protected on first hit. Eviction chooses the oldest by timestamp, preferring probation; metadata is pruned to match the current cache.\n- **Performance**: Combined score 0.23 over 48 traces (max 0.8874, min 0.0), strong on locality-heavy traces (e.g., 27: 0.7031, 28: 0.8874, 34: 0.7001, 38: 0.6342) but weak on many others.\n- **Feedback**: Probation-first eviction provides scan resistance and benefits repeated-locality workloads, but no explicit segment sizing or ghost queues plus promote-on-first-hit can over-protect items, harming recency-heavy/churny traces. Using oldest-by-timestamp over sets (no true LRU queues) limits adaptation, reflected by numerous sub-0.1 hit rates.\n**Program Identifier:** Generation 5 - Patch Name segmented_lru_2q - Correct Program: True\n\n**Program Name: Adaptive Segmented LRU with ARC-style ghosts**\n- **Implementation**: Two live segments (probation/protected) and two ghost lists (probation/protected) are tracked with per-key timestamps; the protected segment target size adapts via ghost hits and small promotion-driven increments. Eviction prefers the oldest in probation, then protected, with quota-enforced demotions and ghost lists trimmed to capacity.\n- **Performance**: Combined score 0.22 across 48 traces, with hit rates ranging from 0.0000 to 0.8860 (strong on reuse-heavy traces, weak on many others).\n- **Feedback**: Ghost feedback improves frequency sensitivity, but promoting unknown keys to protected and conservative adaptation can over-protect and reduce scan resistance, reflected in many low-hit traces. The set-based segments without strict per-segment LRU ordering may limit responsiveness compared to a full ARC implementation.\n**Program Identifier:** Generation 6 - Patch Name adaptive_slru_arc_ghosts - Correct Program: True\n\n**Program Name: Decayed LFU SLRU with Ghost Admission**\n- **Implementation**: Uses exponentially decayed LFU scores (half-life \u2248 1.5\u00d7capacity) with lazy per-key updates and a two-segment SLRU (80% protected). Evicts LRU from probation (tiebreak by lower decayed score) or the lowest decayed score from protected; ghost history biases recent evictees to be reinserted with higher base score directly into protected.\n- **Performance**: Combined score 0.24 over 48 traces; strong on locality-heavy traces (peaks up to 0.8872) but many traces remain low (\u22480\u20130.1).\n- **Feedback**: Large protected ratio plus ghost-biased admission benefits bursty/repeating workloads but hurts scans and fast churn. Capacity-scaled half-life and demotion by last_update may overprotect stale items; tuning protected ratio/half-life or tightening admission could improve robustness.\n**Program Identifier:** Generation 7 - Patch Name slru_with_freq_tiebreak_and_ghost_bias - Correct Program: True\n\n**Program Name: Adaptive Segmented LRU with Ghost Histories**\n- **Implementation**: Two-segment LRU (probation/protected) with ghost histories guides an adaptive protected ratio; metadata uses timestamped dicts, LRU victim selection scans segments, and ghosts are bounded to 2\u00d7capacity. Hits promote to protected, inserts default to probation unless seen in protected-ghost, and evictions feed corresponding ghosts to steer future ratio adjustments.\n- **Performance**: Combined score 0.22; hit rates vary widely (0.00\u20130.88), strong on locality-rich traces (e.g., 0.8787) but weak on scan/high-churn workloads.\n- **Feedback**: The initial protected bias (0.66) plus admitting metadata-miss hits to protected likely over-favors frequency, hurting scan resistance; the capacity-scaled adaptation step may be too slow to correct under rapid pattern shifts. Strengthening probation and faster ratio adjustment could improve low-locality cases without degrading reuse-heavy workloads.\n**Program Identifier:** Generation 8 - Patch Name slru_adaptive_ghosts - Correct Program: True\n\n**Program Name: Adaptive Segmented LRU with Ghost Histories**\n- **Implementation**: ARC-inspired two-segment (probation/protected) LRU with ghost histories guides an adaptive protected ratio (clamped 0.1\u20130.9). Admissions send ghost hits directly to protected, hits promote probation\u2192protected, demotions enforce segment caps, and eviction selects LRU within the chosen segment based on ghost hints or target sizes; ghost lists are bounded at 2\u00d7 capacity.\n- **Performance**: Combined score 0.24, with high hit rates on repetition-heavy traces (peaks ~0.87) but poor on scan/one-timer workloads (down to 0.0\u20130.1).\n- **Feedback**: The strong frequency bias (initial 0.66 plus promotions and protected-on-ghost admission) benefits reuse-heavy patterns but weakens scan resistance; moderating protected bias or refining admission could improve balance. LRU-in-cache victim selection and ghost trimming are safe, though metadata/cache divergence triggers a fallback victim choice that may be suboptimal.\n**Program Identifier:** Generation 9 - Patch Name adaptive_slru_ghost_guided - Correct Program: True\n\n**Program Name: Adaptive Segmented LRU with Ghost Feedback**\n- **Implementation**: Two-segment LRU (probation/protected) with per-key timestamps, ARC-style ghost lists for both segments, and an adaptive protected-size target that adjusts on ghost hits; eviction prefers the oldest probation member, falling back to the oldest protected when needed. Promotions on hit move keys from probation to protected and slightly increase the protected target; ghost hits adjust the target by a capped step and ghosts are trimmed to capacity.\n- **Performance**: Achieved a combined score of 0.22 over 48 traces, with hit rates ranging from 0.0000 to 0.8860 (notably strong on traces 27/28/34/38, weak on several scan-like workloads).\n- **Feedback**: Allowing eviction from protected when probation is empty and auto-protecting keys on metadata misses can reduce frequency benefits and cause churn; tightening protected no-evict behavior or stricter probation membership could help. Ghost-based adaptation works but the small step size may react slowly to rapid workload shifts.\n**Program Identifier:** Generation 10 - Patch Name arc_light_2q_with_ghosts - Correct Program: True\n\n**Program Name: Adaptive ARC-LRFU Cache with Ghost Feedback**\n- **Implementation**: Two-segment (probation/protected) design with ARC-style ghost caches guiding an adaptive protected quota. Eviction uses an LRFU-like score (decayed LFU minus age/cap) with periodic exponential decay, quota enforcement, and frequency seeding from ghost history.\n- **Performance**: Combined score 0.23 across 48 traces; hit rates vary widely from near-zero (e.g., traces 14, 32) to high (up to 0.887 on trace 28).\n- **Feedback**: Excels on recurring/frequency-heavy workloads (e.g., traces 27, 28, 34, 38), showing benefits from promotions and ghost-informed seeding. Underperforms on scan/low-locality or rapidly shifting phases, suggesting the need for stronger scan resistance or more aggressive decay/rebalancing of protected quota.\n**Program Identifier:** Generation 11 - Patch Name arc_lrfu_hybrid_with_decay - Correct Program: True\n\n**Program Name: Adaptive ARC-like SLRU Cache**\n- **Implementation**: Two SLRU segments (T1 probation, T2 protected) plus ghost histories (B1/B2) using OrderedDicts; adaptive p_target biases eviction (LRU from T1 if T1 > p or T2 empty, else from T2), with ghost-hit driven p adjustments and a global-LRU fallback via access-count timestamps. Hits promote T1\u2192T2 or refresh T2; inserts go to T1 unless found in ghosts (then to T2); ghost lists are trimmed to capacity.\n- **Performance**: Combined score 0.24 across 48 traces, peaking on locality-heavy workloads (up to 0.8915) but weak on scan-like traces (several below 0.06).\n- **Feedback**: Absence of ARC-style replacement/demotion on insert and reliance on fallback (from occasional metadata desync) likely reduce robustness on streaming patterns; p initialized at 0.3 with coarse step updates can mis-bias segment balance on volatile workloads. Enforcing segment sizes against p during insert/replacement and minimizing fallback dependency would likely improve stability and throughput.\n**Program Identifier:** Generation 12 - Patch Name arc_srlu_hybridadapt - Correct Program: True\n\n**Program Name: HeatGuard SLRU-F with decayed LFU and ghosts**\n- **Implementation**: Two SLRU segments (probation/protected) with adaptive quota via ARC-like ghost lists; eviction picks the min-heat item where heat blends lazily decayed LFU and age with segment-aware weights. Hits promote to protected and raise its target; demotion enforces the target, and admission seeds scores using ghost status and last-victim merit to curb pollution.\n- **Performance**: Combined score 0.23 across 48 traces; strong on reuse-heavy traces (peaks up to 0.887) but many traces are very low (several <0.06, including one at 0.0000).\n- **Feedback**: Ghost feedback and promotion stabilize multi-reuse performance, but the aggressive admission guard and capacity-tied decay with small adjust_step can under-admit newcomers and adapt slowly, hurting scan/bursty workloads. Consider relaxing down-seeding, shortening the decay horizon, or increasing the target-adjust step for faster responsiveness.\n**Program Identifier:** Generation 13 - Patch Name heatguard_slruf - Correct Program: True\n\n**Program Name: ARC-informed Segmented LRU**\n- **Implementation**: Two-segment LRU (probation/protected) tracked via per-key timestamps and sets; evicts oldest probation unless protected exceeds an adaptive target, then evicts oldest protected. ARC-style ghost lists adjust the protected target (\u00b1step) on ghost hits, with promotions on hit and metadata cleanup to mirror cache contents.\n- **Performance**: Combined score 0.22 across 48 traces, with hit rates spanning 0.0\u20130.8869, strong on reuse-heavy traces and weaker on sparse/scan-dominated workloads.\n- **Feedback**: Ghost feedback and target-aware evictions improved scan resistance and rewarded reuse, but monotonic target nudges on every hit and set-based LRU (timestamp min) can over-protect and misorder recency, hurting low-reuse or long-tail traces. Consider finer-grained target control and true per-segment LRU ordering to stabilize behavior across workloads.\n**Program Identifier:** Generation 14 - Patch Name slru_arc_guard - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Ghosts**\n- **Implementation**: Two-segment SLRU (probation/protected) with an adaptive protected fraction, guided by decayed frequency counters to choose between evicting probation vs protected LRU. Segment-aware ghost histories re-admit recent protected evictions directly to protected; periodic aging ties decay to capacity, with continuous metadata sync and rebalancing.\n- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged from 0.0000 to 0.8874 (strong on traces 27/28/34/38, weak on 14/32).\n- **Feedback**: Excels on locality-rich workloads with repeated reuse, but struggles on scans/low-reuse streams where the protected-heavy default and conservative frequency threshold can over-protect or adapt slowly. Ghost-protected improves quick re-admission, but ghost-probation isn\u2019t used for admission decisions, and capacity-tied decay may be mis-tuned for certain trace dynamics.\n**Program Identifier:** Generation 15 - Patch Name slru_ghost_tiny_admission - Correct Program: True\n\n**Program Name: Hybrid ARC+TinyLFU Cache Eviction**\n- **Implementation**: Two-segment ARC-style cache with ghost lists and decayed LFU; eviction priority blends frequency, age scaled by capacity, and a protected bonus. Windowed adaptivity adjusts protected target, decay half-life, and a scan mode (two-touch promotion), with proactive protected cooling and a last-victim\u2013based admission guard.\n- **Performance**: Combined score 0.22 across 48 traces, peaking at 0.87 hit rate on locality-heavy traces but falling to near 0 on scan/unique-heavy workloads.\n- **Feedback**: Ghost-driven adaptation and frequency seeding capture reuse well, but long windows (~5\u00d7capacity), capped cooling (2 demotions/call), and a strong admission guard after high-score evictions likely slow reaction to churn and penalize newcomers. Shorter windows, more aggressive cooling, and tempered guard thresholds could improve robustness on scans and mixed workloads.\n**Program Identifier:** Generation 16 - Patch Name hybrid_arc_tinylfu_sentry - Correct Program: True\n\n**Program Name: Adaptive ARC-like SLRU with ghost history**\n- **Implementation**: Implements an ARC-like two-segment SLRU (T1 probation, T2 protected) with B1/B2 ghost lists and a float p_target controlling T1 size. Eviction follows ARC\u2019s REPLACE rule and uses small LRU-window sampling ranked by per-key frequency and timestamp; admission is guarded by last-victim \u201cstrength,\u201d with fallback global LRU timestamps.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.0000\u20130.8915, with several mid-0.5 results and a few strong 0.64\u20130.89 cases.\n- **Feedback**: The adaptive p and promotion rules perform well on recurrent/locality-heavy workloads but show near-zero hits on several scan/low-locality traces, suggesting over-penalization of newcomers. Tuning p step sizes, the admission guard threshold, and sampling depth could improve robustness and reduce oscillations.\n**Program Identifier:** Generation 17 - Patch Name arc_srlu_tiny_guard_sampling - Correct Program: True\n\n**Program Name: Adaptive ARC-LRFU Cache**\n- **Implementation**: Segmented LRU (probation/protected) with ARC-style ghost lists adapts the protected quota; eviction uses an LRFU-like priority combining decayed frequency and recency. A rolling window tunes scan-mode (two-touch promotions), decay interval, admission bias (victim-strength-aware), proactive cooling, and ghost-strength seeding, with ghost lists bounded to capacity.\n- **Performance**: Combined score 0.22 across 48 traces; strong on reuse-heavy traces (up to 0.87) and moderate on several (~0.44\u20130.54), but near-zero on many scan/large-unique workloads.\n- **Feedback**: Ghost feedback plus decayed-LFU preserves frequent items well, but conservative scan guard and admission seeding can under-admit during high-uniqueness phases, causing collapses on traces 11\u201319 and 29\u201333. Easing two-touch promotion, retuning window thresholds, and less aggressive protected shrinkage may improve robustness.\n**Program Identifier:** Generation 18 - Patch Name arc_slfu_guard_v2 - Correct Program: True\n\n**Program Name: SLRU with Two-Touch Promotion and Quota**\n- **Implementation**: Implements a two-segment SLRU/2Q hybrid: new items enter probation, promote on hit (two-touch when protected \u2265 target), with per-key timestamps for LRU and demotion to maintain a 50% protected quota. Eviction prefers the oldest in probation; if protected exceeds target, evicts its oldest; metadata is cleaned and probation-hit counters guide promotions.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from 0.0 to 0.8684 (e.g., 0.8684 on trace_28, near-zero on multiple traces).\n- **Feedback**: Two-touch gating and quota enforcement reduce pollution and work well on reuse-heavy traces (e.g., 27, 28, 34, 38). A fixed 50% protected target and no ghost/adaptive tuning likely impair scan/low-reuse workloads, leading to many near-zero results.\n**Program Identifier:** Generation 19 - Patch Name slru_quota_two_touch_promotion - Correct Program: True\n\n**Program Name: Scan-aware ARC with TinyLFU sampling**\n- **Implementation**: Hybrid ARC with T1/T2 live sets and B1/B2 ghosts, adaptive target p updated with momentum; TinyLFU-like saturating counters (aged every capacity window) guide a sampled-LFU victim choice from T2. A sliding-window scan detector gates promotions (two-touch in scans) and inserts probation entries at LRU to limit pollution; metadata is kept in sync with cache via OrderedDict-based LRU lists and ghost bounding.\n- **Performance**: Combined score 0.23 across 48 traces, with highs up to 0.8694 (e.g., traces 27/28/34) but several very low or zero-hit cases (e.g., trace 14) and many in the 0.02\u20130.13 range.\n- **Feedback**: Frequency-guided T2 eviction and momentum-smoothed p help on workloads with repeated reuse, but scan-mode gating and LRU insertions can over-churn T1 and under-protect hot items on diverse/streaming traces. Segment balance is not strictly enforced and _sync_segments can inflate T1, suggesting benefits from tighter T1/T2 size control, tuned scan window/thresholds, and deeper T2 sampling.\n**Program Identifier:** Generation 20 - Patch Name arc_tinylfu_scan - Correct Program: True\n\n**Program Name: Decayed-LFU SLRU with Ghost Bias**\n- **Implementation**: Uses capacity-scaled exponential decay LFU scores with SLRU segments (probation/protected); evicts from probation by LRU with frequency tiebreak, and from protected by lowest decayed score with age tiebreak. ARC-like ghost histories bias readmission and adapt the protected ratio with momentum, while a sliding-window scan detector suppresses promotions/admissions during scans.\n- **Performance**: Combined score 0.22; hit rates ranged 0.0000\u20130.8730 across 48 traces, with strong results on locality-heavy traces but many low/near-zero cases.\n- **Feedback**: The frequency decay plus SLRU/ghost feedback helps recurring workloads, but high-churn/scan traces still thrash despite scan gating, producing near-zero hits on multiple traces. Consider tuning half-life, promotion thresholds, and protected ratio bounds to improve robustness under scans and rapid churn.\n**Program Identifier:** Generation 21 - Patch Name slru_dlfu_scan_arcblend - Correct Program: True\n\n**Program Name: ARC+SLRU with TinyLFU and scan-guard**\n- **Implementation**: Two-segment SLRU (probation/protected) with ARC-style ghost histories and p-target adaptation using momentum, plus TinyLFU-like decayed frequency counters and a sliding-window scan detector. Metadata is maintained via OrderedDict LRU order, periodic epoch aging, ghost trimming, and proactive p-adjustment on ghost hits.\n- **Performance**: Combined score 0.0; the program fails validation tests.\n- **Feedback**: The heavy use of module-level global state and on-the-fly metadata syncing likely causes state leaks across runs and desynchronization with the cache, leading to incorrect behavior. Stabilizing initialization/reset of globals per trace and ensuring strict API contract adherence for eviction/admission would be needed to make the approach viable.\n**Program Identifier:** Generation 22 - Patch Name arc_tinylfu_srlu_scan_momentum - Correct Program: False\n\n**Program Name: Adaptive SLRU with TinyLFU and scan detection**\n- **Implementation**: Segmented LRU with probation/protected lists, ARC-like ghost histories to adapt the protected fraction, and TinyLFU-style decayed frequency using epochs tied to capacity. Victim selection samples the oldest few entries from each segment and evicts the lowest decayed-frequency key, preferring probation; scan detection suppresses promotion/admission to protected and tunes the partition.\n- **Performance**: Combined score 0.23 across 48 traces, with strong results on locality-heavy traces (up to 0.8805) but near-zero hit rates on several scan/large-working-set traces.\n- **Feedback**: The high default protected fraction (0.8) biases toward retained reuse and helps on loops but hurts scan-like workloads despite the detector, leading to many low-hit traces. Ghost-driven adaptation and sampling work, but scan detection\u2019s window/thresholds and conservative decay/promote policies appear slow to respond, causing transient over-protection and churn.\n**Program Identifier:** Generation 23 - Patch Name slru_tinylfu_scan_arc_mix - Correct Program: True\n\n**Program Name: ARC+SLRU with Momentum and Scan Detection**\n- **Implementation**: Combines ARC\u2019s T1/T2 resident sets with B1/B2 ghost lists, adapting the T1 target p via momentum and ghost freshness. Adds Tiny-LFU counters with periodic aging, a sliding-window scan detector that raises promotion thresholds and biases evictions toward T1, and LRU maintenance via OrderedDicts.\n- **Performance**: Combined score 0.0; the program failed validation tests.\n- **Feedback**: Failures suggest API/logic mismatches, likely from persistent global state across runs and aggressive direct T2 admission plus scan-mode p tuning that can desynchronize metadata from residency. Reset state per run, avoid direct protection on insert, ensure evict always returns a resident key, and simplify/stabilize p updates to meet validation constraints.\n**Program Identifier:** Generation 24 - Patch Name arc_srlu_momentum_scan - Correct Program: False\n\n**Program Name: CLOCK-Pro with scan and ghost adaptation**\n- **Implementation**: Maintains a single CLOCK order (OrderedDict) with per-key reference bits and a hot/cold split; eviction clears ref bits, demotes hot\u2192cold, and evicts the first cold with ref=0 found by sweeping. Uses a bounded ghost history to bias admission/promotion and tune a dynamic hot_target, plus a sliding-window scan detector that shrinks hot_target and requires two touches before promotion during scans.\n- **Performance**: Combined score 0.21 across 48 traces, with hit rates ranging 0.0000\u20130.8732 (strong on locality-rich workloads, weaker on scan-heavy or low-reuse traces).\n- **Feedback**: Ghost-guided adaptation boosts recurring-key performance, but a bug prevents shrinking hot_target when a hot page is evicted (the item is removed from the hot set before the check), limiting corrective feedback under pressure. The scan response (hot_target \u224810% and two-touch promotion) reduces scan pollution but can be over-conservative, suppressing beneficial promotions and contributing to very low hit rates on several traces.\n**Program Identifier:** Generation 25 - Patch Name clock_pro_plus - Correct Program: True\n\n**Program Name: Adaptive SLRU with ARC Ghosts and Two-Touch**\n- **Implementation**: Two-segment SLRU (probation/protected) with timestamps for LRU order, conditional two-touch promotion when protected meets/exceeds a dynamic target, and ARC-style ghost lists that adjust the protected quota (step = max(1, cap//32)); protected overflow is demoted to probation and victims are chosen from probation first unless protected is oversized. Ghost lists are bounded to capacity and the target is nudged upward on successful reuse.\n- **Performance**: Combined score 0.22 across 48 traces; hit rates range from 0.0000 to 0.8769 with strong results on several high-locality traces but many low/near-zero cases.\n- **Feedback**: The two-touch gating and ghost-driven adaptation favor frequency and limit pollution, helping on repetitive/locality-heavy workloads, but the quota tuning (step size and +1 nudges) appears mis-calibrated for scan-like or rapidly shifting workloads, causing underperformance. Consider refining adaptation aggressiveness and promotion thresholds to better handle scans and diverse working sets.\n**Program Identifier:** Generation 26 - Patch Name slru_arc_guard - Correct Program: True\n\n**Program Name: SLRU with ARC ghosts and two-touch promotion**\n- **Implementation**: Segmented LRU with probation/protected sets, a quota-managed protected segment initialized at 50% capacity, and conditional two-touch promotion when protected is at/over target; protected LRU is demoted to maintain the quota. Eviction prefers probation but uses an age-aware override to evict very stale protected entries; ARC-style ghost histories (limited to 2\u00d7 capacity) adjust the protected target by \u00b1cap/16 on re-reference, with timestamps based on access_count.\n- **Performance**: Combined score to maximize: 0.20 across 48 traces, with hit rates ranging from 0.0000 to 0.7842 (strong on some reuse-heavy traces, very low on scan-like ones).\n- **Feedback**: Ghost-based target adaptation with small step size likely reacts too slowly to workload shifts, and the conservative two-touch promotion can depress hits under transient reuse. The age-aware override reduces protected pollution and enables high peaks, but broader consistency may require faster adaptation or relaxed promotion criteria.\n**Program Identifier:** Generation 27 - Patch Name slru_arc_ageaware - Correct Program: True\n\n**Program Name: Adaptive ARC with scan detection and SLFU**\n- **Implementation**: Two-segment ARC-style cache (T1 probation, T2 protected) with ghost histories (B1/B2) and momentum-based p adjustment weighted by ghost freshness; scan detection via a sliding window (hits, unique rate) throttles promotion and biases evictions. Eviction samples the oldest 3\u20135 items in T2 scored by tiny saturating frequency (0\u20137) with periodic aging and fallback timestamps.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from 0.0 to 0.8872 (strong on locality-heavy traces, weak on many others).\n- **Feedback**: The approach effectively shields multi-hit items and mitigates scans, evidenced by high rates on locality-rich traces. However, conservative scan-mode promotion and limited T2 sampling likely hinder warmup and mixed workloads, contributing to numerous near-zero traces; tuning window thresholds and admission/promotion rules may improve robustness.\n**Program Identifier:** Generation 28 - Patch Name arc_slfu_scan_momentum - Correct Program: True\n\n**Program Name: Adaptive ARC+SLRU with SLFU and scan guard**\n- **Implementation**: Uses two SLRU segments (T1 probation, T2 protected) with ARC-style ghost lists and adaptive p_target; tiny saturating LFU counters with periodic aging guide T2 sampling-based eviction and promotions, while a sliding-window scan detector (hit/unique rates) suppresses promotions, lowers p, and biases evictions to T1. Includes capacity inference, ghost freshness gating for direct T2 admission, and a fallback global LRU timestamp map.\n- **Performance**: Combined score 0.23 over 48 traces; hit rates ranged from 0.0 to 0.8876, with strong gains on locality/frequency-heavy traces (e.g., 0.8876, 0.7637, 0.7502) and very low results on several streaming/high-unique traces.\n- **Feedback**: The ARC adaptation plus ghost freshness gating and SLFU-guided T2 sampling help on reusable/locality workloads, reflected in high-hit traces. However, the scan detector\u2019s thresholds and large window can delay response, leading to poor protection against long scans or highly unique streams, where many traces show near-zero hit rates despite scan-mode p reductions.\n**Program Identifier:** Generation 29 - Patch Name arc_slfu_scan_sampling - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Ghosts**\n- **Implementation**: Segmented LRU (probation/protected) with epoch-decayed TinyLFU counters, segment-aware ghost histories, and an adaptively tuned protected fraction. Eviction samples LRU-side candidates from both segments and selects by (frequency, segment preference, recency); scan-mode applies two-touch gating and probation-biased admission.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.0\u20130.8874.\n- **Feedback**: Strong on locality-rich traces (e.g., 27/28/34/38) but weak on streamy/low-reuse workloads (e.g., 14\u201319, 22\u201324), implying scan detection and decay-window tuning may be too conservative. Limited candidate sampling (3/2) can yield suboptimal victims and protected churn despite adaptation.\n**Program Identifier:** Generation 30 - Patch Name slru_tinylfu_scan_sampling - Correct Program: True\n\n**Program Name: ARC-inspired Segmented LRU Cache**\n- **Implementation**: Implements ARC-style two-segment LRU with probation (T1) and protected (T2) tracked by last-access timestamps, plus B1/B2 ghost lists bounded by capacity. Eviction follows ARC REPLACE with adaptive p_target updated on ghost hits; hits promote to protected, new inserts go to probation unless a ghost hit (then to protected), with demotions to maintain targets.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging 0.0\u20130.8912 and strong results on locality-heavy traces (e.g., 0.8912, 0.8451, 0.7543).\n- **Feedback**: The protected-heavy bias and promoting unknown hits directly to protected help repeat-reference workloads but reduce scan resistance, yielding very low hit rates on many traces. Ghost histories track presence only and LRU is computed via timestamp scans, a simple approach that may reduce precision/efficiency and dampen adaptation stability.\n**Program Identifier:** Generation 31 - Patch Name arc_with_ghosts_and_adaptive_p - Correct Program: True\n\n**Program Name: ARC-inspired Segmented LRU with Freq Aging**\n- **Implementation**: ARC-style two-segment (probation/protected) cache with adaptive p and B1/B2 ghost lists, augmented by per-key frequency counters with periodic aging and a short guard window to resist scans. Eviction follows ARC\u2019s REPLACE decision, then selects a victim within the chosen segment by (frequency asc, timestamp asc); hits promote to protected and demote LRU to maintain targets.\n- **Performance**: Combined score 0.24 across 48 traces; strong on traces 27, 28, 34, 38 (\u22480.64\u20130.89) but weak on many others (e.g., 11\u201319, 29\u201337 often \u22640.1); all validations passed.\n- **Feedback**: Frequency-biased victim selection boosts reuse-heavy workloads but can penalize pure recency and scan-heavy patterns despite the guard, yielding bimodal results. Consider tighter probation control, more responsive ghost-driven p adaptation, or rebalancing frequency vs. recency to stabilize low-tail hit rates.\n**Program Identifier:** Generation 32 - Patch Name arc_lrfu_freq_guard - Correct Program: True\n\n**Program Name: Adaptive ARC-SLRU with aging and guard window**\n- **Implementation**: Two-segment SLRU (T1 probation, T2 protected) with ARC-style ghost lists (B1/B2) adapt a float p_target; eviction follows ARC\u2019s REPLACE to choose T1 vs T2, then picks the minimum (frequency, timestamp) within the chosen segment. Per-key frequencies are periodically halved, timestamps backstop LRU, a guard window biases new inserts to T1-LRU after strong T2 evictions, and T2 overflow is demoted to T1.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates range from near 0 on scan-like traces to 0.8912 on locality-rich sequences.\n- **Feedback**: Adaptive p and frequency-aware selection excel on recurring/locality-heavy workloads, but frequency bias plus guarded admission underperform on bursty/streaming traces (many near-zero hits). The aging cadence and within-segment freq-min victim choice trade off recency, contributing to weak results on scans.\n**Program Identifier:** Generation 33 - Patch Name arc_slru_freq_guard_aged - Correct Program: True\n\n**Program Name: ARC+SLRU with TinyLFU and Scan Guard**\n- **Implementation**: Two SLRU segments (T1 probation, T2 protected) with ARC-style ghost lists (B1/B2) storing last-evict timestamps and remembered TinyLFU strength; adaptive p controls T1 share, TinyLFU (0\u20137) with periodic aging, and a sliding-window scan detector that lowers p and delays promotion. Eviction prefers T1 during scans/overflow; otherwise samples among oldest T2 by lowest TinyLFU, with direct-to-T2 re-admission only for fresh ghosts; includes demotion to meet targets and a fallback global LRU.\n- **Performance**: Combined score 0.22; hit rates span 0.0000\u20130.8716 with strong results on high-locality traces (e.g., 27, 28, 34, 38) but many low/near-zero traces.\n- **Feedback**: The scan bias and T2 frequency sampling effectively curb pollution and reward reuse, driving strong performance on clustered/locality workloads. Conservative scan detection thresholds and strict \u201cfresh ghost\u201d gating for direct T2 admission likely under-admit on sparse/streaming or low-repeat workloads, contributing to numerous near-zero traces.\n**Program Identifier:** Generation 34 - Patch Name arc_slfu_ghost_strength_and_target_enforce - Correct Program: True\n\n**Program Name: Adaptive ARC+SLRU with Ghosts and Freq Sampling**\n- **Implementation**: Uses probation (T1) and protected (T2) OrderedDict segments with B1/B2 ghost histories and a float ARC-like p_target; eviction selects the lowest-frequency among a few LRU candidates via dynamic sampling, with per-key counters and periodic aging. Protected size is clamped by demoting to T1; admission guard plus a short guard window bias newcomers cold after evicting strong items, and a timestamped fallback LRU covers metadata desync.\n- **Performance**: Combined score 0.24 over 48 traces; hit rates ranged 0.0000\u20130.8817 with standout results on locality-heavy traces and poor results on scan-like ones.\n- **Feedback**: Large variance indicates the policy favors repeated locality but remains fragile to scans and cold starts despite the guard, suggesting p-adaptation and demotion/pressure rules may oscillate or overreact. Tuning p step sizes and segment-pressure thresholds, or strengthening admission/scan filtering, could improve robustness across diverse workloads.\n**Program Identifier:** Generation 35 - Patch Name arc_lrfu_aging_guard_rebalance - Correct Program: True\n\n**Program Name: ARC+SLRU with TinyLFU and scan defense**\n- **Implementation**: Combines ARC-style T1/T2 segments with ghost histories and a momentum-adapted p; eviction samples LRU candidates within segments and scores by (TinyLFU 3-bit freq, then timestamp), with periodic aging every capacity accesses. Adds scan detection that lowers p and gates T1\u2192T2 promotions to two touches, plus a guard window after evicting strong T2 entries; promotion-rate tracking modulates sampling and T2 demotion pressure.\n- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged 0.00\u20130.88, with several reuse-heavy traces >0.5 but many workloads near or below 0.03.\n- **Feedback**: Strong on repetitive/reuse patterns (benefiting from protected T2 and ghost-driven p adjustment) but weak on diverse/streaming traces, suggesting over-aggressive scan suppression and slow/oscillatory p adaptation. Consider relaxing two-touch gating, tuning scan thresholds/decay and p step sizes, and refining admission to better capture moderate reuse without over-penalizing non-scan bursts.\n**Program Identifier:** Generation 36 - Patch Name arc_srlu_tinylfu_scan_momentum - Correct Program: True\n\n**Program Name: Adaptive ARC-TinyLFU cache with scan detector**\n- **Implementation**: Uses segmented LRU (probation/protected) with ARC-like ghost histories and an adaptive protected share; TinyLFU counters with periodic aging guide protected victim sampling and promotions. A sliding-window scan detector gates promotion during scans and tilts the share toward recency; protected demotion maintains targets and ghosts are bounded to 2\u00d7capacity.\n- **Performance**: Combined score 0.21 across 48 traces; strong on frequent-reuse/looping workloads (peaks ~0.88) but weak on scan-like or low-reuse traces (often near 0).\n- **Feedback**: Frequency-biased protected sampling and ghost-driven adaptation capture reuse well, but the high default protected ratio and conservative scan gating (full window, two-touch promotion) likely under-serve recency-heavy/scanning workloads. Relaxing scan thresholds or promotion gating and retuning the protected share could lift the many low-hit traces while preserving strong cases.\n**Program Identifier:** Generation 37 - Patch Name hybrid_slarc_tlfu_scan - Correct Program: True\n\n**Program Name: ARC+SLRU with TinyLFU and Scan Guard**\n- **Implementation**: Hybrid ARC with probation/protected segments, ghost lists with freshness, 3-bit TinyLFU counters with periodic aging, and a sliding-window scan detector that triggers two-touch promotion and p-target reductions. Eviction samples oldest candidates per segment and selects by lowest frequency, while p is adjusted via momentum on ghost hits; protected size is trimmed by demotion toward targets.\n- **Performance**: Combined score 0.0; the program fails validation tests.\n- **Feedback**: The complex interplay (momentum-driven p updates, direct ghost re-admission to protected, and per-list ghost caps) breaks ARC invariants and can mis-size segments, leading to incorrect behavior. Two-touch gating and \u201ccold\u201d insert timestamps during scan mode may starve new items and destabilize replacement, and protected-size enforcement can fail when avoiding the most-recent key.\n**Program Identifier:** Generation 38 - Patch Name arc_srlu_tinylfu_scan_momentum - Correct Program: False\n\n**Program Name: HeatGuard SLRU-ARC Hybrid Eviction**\n- **Implementation**: Segmented (probation/protected) cache with heat-based victim selection blending decayed LFU and an anti-age term; ARC-like ghost histories adapt the protected ratio and admission (ghost hits go to protected) while a last-victim score gates frequency seeding. Protected quota is enforced by demoting the coldest protected items; ghosts are bounded (\u22642x capacity) and LFU half-life scales with capacity.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates spanning 0.0000\u20130.8650.\n- **Feedback**: Ghost-driven adaptation and frequency-weighted protection yield strong results on recurring workloads, but aggressive protection and seeding can overfit, hurting scan-like or low-reuse streams (several traces near 0\u20133% hit). Consider tempering direct-to-protected admission and increasing probation or decay aggressiveness to better handle phase shifts.\n**Program Identifier:** Generation 39 - Patch Name heatguard_hybrid_slru - Correct Program: True\n\n**Program Name: Hybrid ARC+LFU HeatGuard Cache**\n- **Implementation**: Segmented ARC-style cache with probation/protected lists and bounded ghost histories; eviction uses a per-segment heat metric blending exponentially decayed LFU and age, with adaptive protected share driven by ghost hits. Hits promote and bump LFU, demotion enforces protected quota via coldest-by-heat, and inserts use ghost-aware admission with last-victim score seeding; half-life scales with capacity.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates ranged 0.0000\u20130.8650, strong on recurring/looping workloads and weaker on scan-like or highly transient traces.\n- **Feedback**: Ghost-driven ratio adaptation and heat-based victim choice effectively capture reuse and limit pollution in repetitive patterns. Conservative admission and decay settings can under-serve bursty/one-shot keys, yielding very low hits on scans; tuning half-life and segment heat weights may improve consistency across traces.\n**Program Identifier:** Generation 40 - Patch Name arc_heatguard_fused - Correct Program: True\n\n**Program Name: Adaptive ARC-SLRU with frequency and scan guard**\n- **Implementation**: Two-segment SLRU (T1 probation, T2 protected) with ARC-style ghost lists and a float p_target updated via momentum and freshness-aware steps. Eviction picks lowest (frequency, timestamp), ages frequency periodically, detects scans via EWMA of hits/inserts to bias evictions to T1, and uses a short guard window after strong T2 evictions; protected size enforced by demotions.\n- **Performance**: Combined score 0.24; strong on recurring/looping workloads (e.g., 0.75\u20130.88 on traces 27, 28, 34, 38) but weak on sparse/streaming traces (many near zero).\n- **Feedback**: Frequency-aware selection and adaptive p with scan/guard logic effectively retain hot items and resist scans. The policy underperforms on heavy one-timers or large working sets where conservative admissions and p reductions can starve T2, yielding low hit rates.\n**Program Identifier:** Generation 41 - Patch Name arc_scan_guard_momentum - Correct Program: True\n\n**Program Name: ARC-like SLRU + TinyLFU with Scan Detection**\n- **Implementation**: Two-segment SLRU (T1 probation, T2 protected) with ARC-style ghost lists and adaptive p, augmented by a tiny-LFU (saturating) frequency counter. Sliding-window scan detection throttles T1\u2192T2 promotion and tilts p, with sampling-based victim selection and an admission guard based on last victim strength.\n- **Performance**: Combined score 0.0; the program fails validation tests.\n- **Feedback**: The implementation contains a critical bug: _t2_sample_size calls _get_targets(None), causing None dereferences and runtime failures. Additionally, heavy global state and metadata desynchronization paths increase fragility across runs, contributing to failing tests.\n**Program Identifier:** Generation 42 - Patch Name arc_slfu_scan_v2 - Correct Program: False\n\n**Program Name: Adaptive ARC with SLRU and Ghosts**\n- **Implementation**: Two resident segments (T1 probation, T2 protected) with two ghost lists (B1/B2) and an adaptive p_target updated on ghost hits; eviction chooses segment ARC-style and samples a few LRU candidates, picking the lowest frequency/timestamp, with per-key frequency aging, protected demotion to targets, and a guard window/admission guard based on last victim strength. Fallback LRU timestamps maintain robustness when metadata desyncs occur, and ghosts are capacity-bounded.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates vary widely (0.00\u20130.89), excelling on high-reuse traces but weak on low-locality/scan-like workloads.\n- **Feedback**: ARC-style adaptation and guarding effectively protect hot sets and handle recency/frequency trade-offs, yielding strong results on recurring workloads. However, aggressive guarding and p-steps plus fresh-only T2 re-admission can delay promotion under churn, contributing to many low or near-zero traces; tuning guard duration, p-step sizes, and demotion/promotion thresholds may improve stability.\n**Program Identifier:** Generation 43 - Patch Name arc_plus_fresh_ghosts_guarded_promo - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with LRFU sampling**\n- **Implementation**: Two-segment ARC (T1 probation, T2 protected) with timestamped ghost histories guides momentum-based p-target updates weighted by ghost freshness; victims are chosen via short LRFU sampling (aging saturating freq + timestamp). EWMA scan detection biases evictions to T1, delays promotion during scans, gently lowers p, and a strength-based admission guard plus T2 demotion maintain targets.\n- **Performance**: Combined score 0.26 across 48 traces (best hit rate 0.8852, worst 0.0000).\n- **Feedback**: Strong on locality-heavy traces but collapses on some scan/low-reuse workloads, implying scan bias/cold placement and p downshifts can be over-aggressive. The computed _guard_until is never used (guard relies on last_victim_strength only), suggesting a time-bounded guard and tempered p momentum could stabilize behavior across diverse traces.\n**Program Identifier:** Generation 44 - Patch Name sparc_lrfu_scan_guard - Correct Program: True\n\n**Program Name: Adaptive ARC Cache with Ghost Lists**\n- **Implementation**: Implements ARC in a single ARCPolicy using four OrderedDict segments (T1/T2 resident, B1/B2 ghost) with adaptive parameter p and REPLACE to choose eviction side; includes timestamp/frequency metadata, cache-state syncing, and ghost trimming bounded to 2c. Eviction picks the LRU of the chosen segment with defensive fallbacks to timestamps if metadata is missing.\n- **Performance**: Combined score 0.24; strong on several workloads (up to 0.8915) but many traces have low hit rates (down to 0.0).\n- **Feedback**: ARC\u2019s adaptation and ghost lists deliver good results on mixed recency/frequency traces. Low scores on many traces suggest potential metadata/cache desynchronization and aggressive resident-to-ghost demotion in update_after_insert; aligning resident accounting with actual evictions could improve stability across traces.\n**Program Identifier:** Generation 45 - Patch Name arc_plus_modular - Correct Program: True\n\n**Program Name: Scan-aware ARC-SLRU with freshness ghosts and momentum**\n- **Implementation**: ARC with SLRU segmentation (T1 probation/T2 protected) and timestamped B1/B2 ghosts to gauge freshness. Momentum-based, cooldown-throttled p updates driven by ghost hits and EWMA scan detection; eviction samples segment LRUs with aged 3-bit LRFU scores and allows cross-segment overrides, with an admission guard based on last victim strength.\n- **Performance**: Combined score 0.25 across 48 traces, with hit rates ranging from 0.0 to 0.8852 (strong on locality-heavy traces, weak on scan/streaming workloads).\n- **Feedback**: Freshness-aware re-admission and scan-biased eviction improved clustered/locality workloads, but numerous near-zero traces suggest over-bias toward T1 or slow p adaptation under long scans/large working sets. The admission guard uses last-victim strength and ignores the intended _guard_until window, which may over-penalize newcomers and contribute to low-hit traces.\n**Program Identifier:** Generation 46 - Patch Name arc_cross_override_pcooldown - Correct Program: True\n\n**Program Name: Adaptive SLRU-TinyLFU Cache**\n- Implementation: Two-segment SLRU with capacity-tied epoch decay (bit-shifted TinyLFU counters), segment-specific ghost histories, scan detection with two-touch gating, and dynamic protected-fraction tuning. Eviction samples the LRU side of both segments and uses an admission guard to avoid evicting items hotter than the incoming key.\n- Performance: Combined score 0.25 across 48 traces, with hit rates ranging from 0.0 to 0.8874\u2014strong on repeating/looped locality and weaker on scans or near-random workloads.\n- Feedback: Scan-aware two-touch gating and ghost-driven/admission-aware placement help on stable locality, but the high default protected ratio and small sampling can over-favor frequency and adapt slowly, hurting rapidly shifting traces. Faster protected-fraction adaptation and broader victim sampling may improve responsiveness.\n**Program Identifier:** Generation 47 - Patch Name incoming_aware_evict_and_arc_tuning - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and scan defense**\n- **Implementation**: Implements a two-segment SLRU via OrderedDict, augmented with epoch-based TinyLFU scoring, segment-specific ghost histories, and sampling-based eviction that avoids evicting items hotter than the incoming key. It adaptively tunes the protected fraction and applies scan detection with two-touch gating and probation-LRU insertion during scans.\n- **Performance**: Combined score 0.24 across 48 traces, with strong hit rates on locality-heavy traces (up to 0.886) but many low-hit traces (often 0.0\u20130.16).\n- **Feedback**: Frequency-aware admission and ghost-guided promotions help significantly on bursty and re-reference workloads. However, scan detection and protected-size adaptation appear conservative/laggy, causing thrashing on pure scans and low-locality streams (e.g., trace_14=0.0, several around ~0.02).\n**Program Identifier:** Generation 48 - Patch Name twotouch_guard_and_balanced_protected - Correct Program: True\n\n**Program Name: Hybrid SLRU-TinyLFU ARC with scan guard**\n- **Implementation**: Three resident LRU segments (P0/P1/H) with three ghost lists (G0/G1/GH), ARC-style adaptive p (with momentum/cooldown) to size probation, TinyLFU-like lazy aging via epochs, and EWMA-based scan detection that requires two touches to promote from P0 while active. Eviction samples early LRU candidates by (aged frequency asc, timestamp asc) and balances protected space with an H share cap.\n- **Performance**: Combined score 0.22 over 48 traces; hit rates ranged 0.0000\u20130.8874, with strong results on several mixed-reuse traces (e.g., 27/28/34/38) and very low on others.\n- **Feedback**: The design excels on recency+frequency workloads due to ghost feedback and frequency-gated promotions, but shows high variance and near-zero performance on many traces, indicating over-aggressive scan gating or p adaptation misfires. Replacement sampling and the fixed H share may also skew balance under some workloads, contributing to instability.\n**Program Identifier:** Generation 49 - Patch Name hybrid_slru_tinylfu_arc - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with momentum LRFU**\n- **Implementation**: Two resident ARC segments (T1 probation, T2 protected) with timestamped ghosts drive an adaptive p updated via momentum and cooldown, gated by EWMA-based scan detection. Eviction uses small LRFU sampling (3-bit aged freq) with cross-segment override; promotions are two-touch under scan/poor-locality and T2 is size-controlled via demotion.\n- **Performance**: Combined score 0.26 across 48 traces (hit rates 0.0\u20130.8735), strong on locality-rich traces (up to 0.87) and mid ~0.49\u20130.53 on several, but many low-reuse/scan-like traces fall below 0.2.\n- **Feedback**: Freshness-aware ghosts and momentum p help adapt and retain multi-touch items, boosting locality-heavy workloads. However, scan bias plus conservative promotion and p cooldown can overfill T1 and slow recovery, hurting moderate-reuse and scan patterns.\n**Program Identifier:** Generation 50 - Patch Name two_touch_promotion_and_aggressive_override - Correct Program: True\n\n**Program Name: Decayed-LFU SLRU with ARC ghosts**\n- **Implementation**: Two-segment SLRU (probation/protected) with adaptive protected share; exponential decayed LFU scores (half-life \u22481.5\u00d7capacity) drive promotion/demotion and victim choice. ARC-style ghost lists and last-ghost recency bias admissions and tune protected ratio; a guard window mitigates scan churn and ghost sizes are bounded.\n- **Performance**: Combined score 0.21; strong on locality-rich traces (e.g., 27=0.7646, 28=0.8672, 34=0.7309, 38=0.5976), moderate on 1\u201310 (~0.41\u20130.53), but near-zero on many scan/random traces (e.g., 14=0.0000, 33=0.0000).\n- **Feedback**: Protected-heavy bias (initial ratio 0.7, rapid promotions, ghost-based protected admission) and a relatively long half-life likely over-retain items, reducing scan resistance. Tuning protected share dynamics and admission aggressiveness could better balance recency and frequency across diverse workloads.\n**Program Identifier:** Generation 51 - Patch Name arc_adaptive_guarded_slru - Correct Program: True\n\n**Program Name: Adaptive SLRU-TinyLFU with Ghosts**\n- **Implementation**: Hybrid SLRU with probation/protected segments, TinyLFU-style decayed frequency per epoch, ARC-like ghost histories guiding segment choice and dynamic protected-fraction tuning. Uses sampling-based LRFU victim selection with an admission guard, scan detection with two-touch gating, capacity-tied decay windows, and continual rebalancing between segments.\n- **Performance**: Combined score 0.23 across 48 traces, with strong hit rates on locality-heavy traces (up to 0.86) but very low on scan/low-reuse workloads (~0\u20130.1).\n- **Feedback**: Adaptive protected sizing and admission guard preserve hot items well, boosting multi-hit workloads; however, the short scan-mode duration and high default protected fraction can under-react to scans/one-hit streams, hurting traces like 14\u201319. Tuning the scan trigger/duration, promotion thresholds, and decay window could improve robustness on low-reuse patterns without sacrificing locality performance.\n**Program Identifier:** Generation 52 - Patch Name arc_guided_segment_choice_and_admission_guard - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Scan Resistance**\n- **Implementation**: Two-segment SLRU (probation/protected) with OrderedDict LRUs, capacity-tied epoch decay TinyLFU counters, and segment-specific ghost histories guide re-admission and protected share. Eviction samples LRU tails, biases against evicting items hotter than the incoming object, detects scans via windowed uniqueness/hit-rate to enable two-touch gating, and adaptively tunes the protected fraction based on hits, ghosts, and eviction mix.\n- **Performance**: Combined score 0.24; hit rates span 0.0\u20130.8874 across 48 traces, with strong locality-heavy traces (e.g., 27, 28, 34, 38) but many low-hit cases.\n- **Feedback**: The adaptive protected bias and TinyLFU admission guard help preserve hot working sets, yielding high peaks, but many traces with low reuse or long scans remain weak, indicating under-triggered or short-lived scan mode and possibly over-protection. Tuning scan thresholds/duration and the protected fraction dynamics could improve robustness on diverse or bursty workloads.\n**Program Identifier:** Generation 53 - Patch Name window_scan_guard_and_segment_bias - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Ghosts**\n- **Implementation**: Combines SLRU (probation/protected) with epoch-decayed TinyLFU counts, ARC-style ghost histories, and an admission guard comparing incoming score to last victim. Uses scan-mode two-touch gating, dynamic protected fraction tuning, and sample-based LRFU-ish victim selection that avoids evicting hotter-than-incoming items.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging from 0.00 to 0.8790.\n- **Feedback**: Excels on skewed/repeating workloads (e.g., traces 27/28/34/38) due to promotion/admission heuristics and protected-biasing, but underperforms on scan/low-locality traces where two-touch gating and LRU-side admission delay useful retention. Sensitivity to decay window and protected fraction adaptation suggests further tuning or periodic refcount trimming could reduce cold-key pollution and improve robustness.\n**Program Identifier:** Generation 54 - Patch Name slru_tinylfu_guard_ghost_bias - Correct Program: True\n\n**Program Name: Hybrid ARC-LFU HeatGuard Cache**\n- **Implementation**: Two-segment (probation/protected) design with ARC-style ghost lists adapts the protected share; victims are chosen by a \u201cheat\u201d score blending exponentially decayed LFU with age, with heat-guided demotions to meet segment quotas. A lightweight scan detector (hit-rate EWMA + miss streak) boosts protection and prefers probation LRU evictions; ghosts are bounded and LFU half-life scales with capacity.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging from 0.0000 to 0.8650 (several mid\u2013high performers around 0.5\u20130.86 but many low outliers).\n- **Feedback**: Excels on recurring/frequency-heavy workloads where protected share and decayed LFU shine, but struggles on pure scans or highly unique streams despite the scan guard. Sensitivity to ratio tuning and decay/admission thresholds likely causes the long-tail low scores; loosening scan detection and calibrating decay/admission could improve robustness.\n**Program Identifier:** Generation 55 - Patch Name scan_guard_arc_heat - Correct Program: True\n\n**Program Name: HeatGuard SLRU with Ghost Feedback**\n- **Implementation**: Two-segment SLRU (probation/protected) with adaptive protected share tuned by ARC-like ghost histories; victims picked via a heat metric blending decayed LFU (capacity-scaled half-life) and age, with ghost-aware admission and a last-victim strength guard. Protected quota is enforced by demoting the coldest protected; ghost lists are size-bounded.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates ranged from 0.00 to 0.87 (notably strong on traces 27/28/34/38, moderate on 8\u201310).\n- **Feedback**: Ghost-driven ratio adaptation and heat-based selection handle mixed recency/frequency workloads well, yielding high wins on strong-locality traces. Weaknesses on scan-like or sparse-reuse traces (e.g., trace 14 and many <0.1) suggest benefit from stricter admission or faster decay to curb pollution and over-protection.\n**Program Identifier:** Generation 56 - Patch Name heatguard_bias_and_admission_guard - Correct Program: True\n\n**Program Name: Adaptive ARC-LFU with Aging and Guards**\n- **Implementation**: Combines ARC-style segmented LRU (probation/protected) with B1/B2 ghost histories and an adaptive p_target; eviction chooses a victim by minimizing a frequency-age \u201cheat\u201d score with segment-biased decay and periodically ages frequencies. Inserts use MRU vs LIP bias via timestamp backdating and a short guard window after protected evictions, while promotions/demotions enforce protected size targets and ghost-driven p updates.\n- **Performance**: Overall combined score 0.25 across 48 traces, peaking at 0.8922 (several >0.75) but with many low-hit workloads (<0.1, including one at 0.0).\n- **Feedback**: Excels on recency/reuse-heavy traces but degrades on scans and low-reuse patterns, suggesting the frequency aging cadence and p_target adaptation may be mis-tuned for bursty or streaming workloads. The O(n) victim search and dict-based LRU emulation via timestamps trade precision for simplicity and may contribute to uneven behavior despite the guard and insertion biases.\n**Program Identifier:** Generation 57 - Patch Name heat_based_victim_and_dynamic_insertion - Correct Program: True\n\n**Program Name: Adaptive ARC with ghost lists and freq sampling**\n- **Implementation**: Encapsulates ARC in an ARCPolicy with T1/T2 (resident) and B1/B2 (ghost) OrderedDicts, adaptive target p with momentum/throttling and EWMA hit-rate signal, and standard ARC REPLACE. Eviction samples the LRU tail and uses tiny saturating frequency counters and timestamps with cross-steering to avoid evicting hot T2 items; ghosts are trimmed to 2c and metadata is synced defensively.\n- **Performance**: Combined score 0.23; per-trace hit rates ranged 0.0000\u20130.8922 across 48 traces, strong on 27/28/34/38 and moderate (~0.44\u20130.54) on several, but many near-zero cases.\n- **Feedback**: Ghost-driven p updates and freq-aware sampling preserved hot items, producing excellent results on repetitive or stable workloads. Numerous near-zero traces indicate the EWMA-based bias toward increasing p under low-hit phases may overfavor recency, weakening scan resistance and performance on large or random working sets.\n**Program Identifier:** Generation 58 - Patch Name arc_freq_aware_sampling_and_adaptive_p - Correct Program: True\n\n**Program Name: ARC-inspired heat-scored segmented cache**\n- **Implementation**: ARC-style two-segment design (probation/protected) with ghost histories (B1/B2) and adaptive p; eviction selects the minimum \u201cheat\u201d (frequency minus age-weight) using per-key frequency with exponential aging, plus LIP-biased inserts and a short guard window to resist scans. Metadata tracks timestamps, promotes/demotes between segments, trims ghosts to capacity, and gently adjusts p on hits and ghost hits.\n- **Performance**: Combined score 0.25 across 48 traces, with highs up to 0.8922 (e.g., traces 27\u201328) but many low-hit cases below 0.1.\n- **Feedback**: The protected segment plus frequency-aware heat scoring work well on repetitive/hotset workloads, driving strong peak hit rates. However, adaptation appears too gentle for rapid shifts or scan-heavy traces (despite LIP and guard), leading to prolonged low-hit periods; consider more aggressive p updates or stronger scan resistance.\n**Program Identifier:** Generation 59 - Patch Name arc_heat_bias_with_guard_ewma - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and scan resistance**\n- **Implementation**: Segmented LRU (probation/protected) with epoch-decayed TinyLFU counts, segment-specific ghost histories, and adaptive protected sizing; eviction samples LRU-side candidates with LRFU-like scoring and an admission guard against evicting hotter items. Scan detection via windowed uniqueness triggers two-touch gating and probation-LRU insertion; metadata is synchronized and rebalanced on each access.\n- **Performance**: Combined score 0.24 across 48 traces; strong peaks on some workloads (up to 0.8874) but many traces show low or near-zero hit rates, yielding uneven performance.\n- **Feedback**: Excels on stable/hot working sets but struggles under heavy scans and low-locality patterns where admission/promotion conservatism can underutilize protection. Consider tuning decay window, protected fraction bounds/step, and sampling/shield thresholds to reduce over-penalizing new items and improve robustness across diverse traces.\n**Program Identifier:** Generation 60 - Patch Name slru_tlfu_lrfu_hybrid_v3 - Correct Program: True\n\n**Program Name: ARC-inspired adaptive cache with heat-based eviction**\n- **Implementation**: ARC-style segmented LRU with probation/protected sets and B1/B2 ghost histories, adapting target share p; evictions pick the lowest \u201cheat\u201d (frequency with periodic aging minus age penalty), with protected demotion by min(freq, ts). It adds scan awareness via hit-rate EWMA, a post-strong-eviction guard window, and LIP-biased cold insertions; ghosts drive p up/down on re-admissions.\n- **Performance**: Combined score 0.24; hit rates spanned 0.00\u20130.89 across 48 traces, strong on high-locality workloads (e.g., 27/28/34/38) but weak under scan/high-churn sequences (e.g., 11\u201319, 22\u201324, 29\u201333).\n- **Feedback**: Heat-based selection plus generous protected promotion can over-retain stale items when reuse is sparse; the scan detector (EWMA < 0.12) and LIP bias help but are conservative for long scans. Tighter p-adaptation, stronger insertion coldness under scans, and higher age penalty or faster frequency aging could improve robustness across diverse traces.\n**Program Identifier:** Generation 61 - Patch Name arc_heat_scan_aware - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and ARC ghosts**\n- **Implementation**: Segmented LRU (probation/protected) with capacity-tied epoch decay counters (TinyLFU-like), ARC-style ghost histories, and adaptive protected fraction. Adds scan detection, two-touch gating, admission guard comparing incoming vs victim scores, and LRU-side sampling for victim selection.\n- **Performance**: Combined score 0.23; high hit rates on locality-rich traces (up to 0.8651) and weak on scan-like or no-reuse traces (often <0.12, some 0.0).\n- **Feedback**: Ghost-biased adaptation and the admission guard effectively preserve hot items, driving strong results when reuse exists. However, aggressive scan-mode handling and cold-admission bias can under-admit on true scans or very short reuses, leading to very low hit rates in those workloads.\n**Program Identifier:** Generation 62 - Patch Name arc_bias_scan_tlfu_shield - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Ghosts**\n- **Implementation**: Segmented LRU with probation/protected OrderedDicts, adaptive protected fraction (ARC-like via ghost histories), and epoch-based TinyLFU counts for frequency. Victim selection samples LRU-side candidates from both segments with frequency-aware tie-breaking, includes scan detection with two-touch gating, and continuous metadata sync/rebalancing.\n- **Performance**: Combined score 0.25; strong on locality-rich traces (e.g., 27/28/34/38 at ~0.63\u20130.89) and moderate on several early traces (~0.40\u20130.54), but many workloads remain low, including near-zero hit rates.\n- **Feedback**: The adaptive protected tuning, ghost admissions, and scan resistance clearly help on bursty/stationary workloads, improving hit rates without heavy overhead. Underperformance on many traces suggests two-touch gating and a short ghost horizon (\u22642 epochs), small sample sizes, and conservative admissions may be overly restrictive; tuning decay window, adaptation step, and ghost window could improve robustness.\n**Program Identifier:** Generation 63 - Patch Name slru_tinylfu_ghost_adaptive - Correct Program: True\n\n**Program Name: Adaptive SLRU-TinyLFU with ARC ghosts**\n- **Implementation**: Combines SLRU (probation/protected) with decayed frequency counts, ARC-style segment-specific ghost lists, scan detection, and an adaptive protected fraction; eviction uses LRFU-like sampled scoring by frequency, age, segment, and recency. Metadata is maintained via OrderedDicts with two-touch gating in poor locality and TinyLFU-style admission bias against the last victim score.\n- **Performance**: Combined score 0.0; the program fails validation tests.\n- **Feedback**: A critical bug in eviction returns the candidate\u2019s recency index instead of its key (best[3] vs. best[4]), leading to invalid evictions and metadata desynchronization; fixing this is essential for correctness. Minor concerns include float/int comparison in admission bias and potentially overactive scan heuristics, but the primary failure stems from the incorrect victim key extraction.\n**Program Identifier:** Generation 64 - Patch Name slru_lrfu_age_tinylfu - Correct Program: False\n\n**Program Name: Windowed Tiny-SLRU with ARC ghosts**\n- **Implementation**: Implements a windowed SLRU (win/prob/prot) with a TinyLFU-like decayed frequency score, ARC-style B1/B2 ghosts to adapt window size, and sampling-based eviction comparing victim hotness to the incoming key. Includes scan detection and two-touch promotion gating, plus gentle protected-share rebalancing.\n- **Performance**: Across 48 traces it achieved a combined score of 0.25, with hit rates ranging from 0.0000 to 0.8894 (notably strong on traces 27/28/34/38).\n- **Feedback**: Adaptive ghosts and two-touch promotions protect hot/looping items, but low hit rates on highly unique/stream-like phases indicate scan detection/admission remains conservative. Protected/probation mix rebalancing improves stability yet still allows occasional protected evictions, contributing to mixed results.\n**Program Identifier:** Generation 65 - Patch Name wtiny_slru_arc - Correct Program: True\n\n**Program Name: Adaptive ARC-SLRU Cache with Ghosts**\n- **Implementation**: Maintains probation (T1) and protected (T2) segments with B1/B2 ghost history, adapting target share p via ARC rules; eviction uses ARC\u2019s REPLACE to choose a segment, then samples LRU candidates and evicts the lowest-frequency (aged, saturating) with timestamp tiebreak, with demotion to enforce targets and an admission guard after strong T2 evictions. Includes capacity inference, ghost trimming, and a fallback global-LRU timestamp map.\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates spanning 0.0000\u20130.8819 (strong on traces 27/28/34/38, weak on many others).\n- **Feedback**: ARC-style adaptation plus frequency-aware sampling boosts locality-heavy workloads, but many near-zero traces indicate misadaptation or over-resistance to scans from the guard window and slow frequency aging. Tuning p-step size, guard threshold/window, frequency cap/aging cadence, and sampling widths may improve responsiveness and robustness across workloads.\n**Program Identifier:** Generation 66 - Patch Name demotion_aging_guard_arc - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and ARC ghosts**\n- **Implementation**: Uses a segmented LRU (probation/protected) with epoch-decayed TinyLFU frequency counters, per-segment ghost histories, and an adaptive protected-size fraction. Victim selection samples LRU-side candidates from both segments and ranks by (frequency score, segment preference, age-biased recency); scan detection triggers two-touch gating and altered admissions.\n- **Performance**: Combined score 0.25 over 48 traces; hit rates ranged from 0.0000 (trace 14) to 0.8824 (trace 28), with several strong results on locality-rich traces (e.g., 0.8520, 0.7294, 0.6255) and weak results on diverse/scan-heavy traces.\n- **Feedback**: The ARC-like ghost feedback and adaptive protected fraction help when phases repeat and items re-reference, while two-touch gating limits scan pollution; together these yield strong wins on looping/locality workloads. However, aggressive scan gating and a large decay window can underreact or misclassify in highly diverse workloads, leading to very low hit rates; smoothing protected-fraction adjustments and refining scan thresholds could reduce oscillation and improve robustness.\n**Program Identifier:** Generation 67 - Patch Name slru_lrfu_ghost_boost - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU and Ghosts**\n- **Implementation**: Uses Segmented LRU (probation/protected via OrderedDict) with epoch-decayed TinyLFU counters, ARC-like ghost histories per segment, scan detection from unique-density and hit-rate to enable two-touch gating, adaptive protected fraction, and sampling-based victim choice preferring low-frequency probation keys. Metadata is rebalanced each access, with ghost-guided placement and protected resizing on hits/evictions.\n- **Performance**: Combined score 0.25 across 48 traces; several traces exceed 0.8 hit rate, while many scan/unique-heavy traces fall below 0.1 (including one at 0.0).\n- **Feedback**: The hybrid SLRU+TinyLFU+ghosts improves multi-touch reuse and resists scans moderately, but small candidate samples and conservative promotions can still cause protected evictions and poor results under highly unique or bursty access. Consider tuning the decay window and protected-share adaptation and strengthening scan-mode insertion throttling to reduce pollution and stabilize cross-trace performance.\n**Program Identifier:** Generation 68 - Patch Name slru_arc_hybrid_tuning - Correct Program: True\n\n**Program Name: ARC\u2013TinyLFU Hybrid with Scan-Aware Two-Touch**\n- **Implementation**: Implements ARC with probation/protected segments and timestamped ghosts, augmented by decayed-frequency (epoch-halving) counters and a momentum-based adaptive p. Eviction samples LRU-side candidates with an admission guard against evicting hotter-than-incoming keys; EWMA scan detection biases toward T1 and gates promotion via two touches, while fresh ghosts re-admit to T2 with seeded frequency.\n- **Performance**: Achieved combined score 0.26 over 48 traces (hit rates 0.0\u20130.883; strong on traces 27/28/34/38) and passes all validation tests.\n- **Feedback**: The recency/frequency fusion and scan-aware gating excel on multi-touch/locality-heavy workloads, but several traces (e.g., 11, 13\u201319) show near-zero hits, indicating over-aggressive probation bias or delayed promotion during scans. Tuning p-momentum, decay windows, and consistently leveraging the guard window could reduce extremes and improve robustness.\n**Program Identifier:** Generation 69 - Patch Name arc_slfu_hybrid_guard - Correct Program: True\n\n**Program Name: F-ARC: Freshness-weighted ARC with scan gating**\n- **Implementation**: ARC-style T1/T2 with B1/B2 ghosts and momentum-adaptive p; combines TinyLFU-like epoch-decayed reference counts with 3-bit saturating freq for two-touch promotion, sampled-LRFU T2 demotion, and guarded LRU-sampling eviction. Freshness-weighted ghost hits (via a median reuse-age window) drive admission and p updates, while EWMA-based scan detection adjusts decay windows and insertion/eviction bias.\n- **Performance**: Evaluated on 48 traces (combined score 0.25); hit rates varied from 0.0 to 0.8703, with strong results on locality-rich traces (e.g., 27=0.8103, 28=0.8703, 34=0.7474, 38=0.6198) but many workloads below 0.15.\n- **Feedback**: The freshness-weighted admission and decayed-frequency backbone excel on multi-touch/locality-heavy workloads but underperform on scans or low-reuse streams despite gating, suggesting p momentum and strict two-touch promotion can blunt recency responsiveness. Consider faster scan detection and relaxation of promotion thresholds under low-hit phases, plus tuning sampling/ghost bounds to avoid near-zero-hit regimes.\n**Program Identifier:** Generation 70 - Patch Name farc_freshwindow_lrfu - Correct Program: True\n\n**Program Name: Windowed Tiny-SLRU with ARC ghosts**\n- **Implementation**: Three LRU segments (window/probation/protected) with TinyLFU-style epoch-decayed counters, ARC-like B1/B2 ghost lists, two-touch promotion gating, scan detection, and sampling-based victim selection; adaptive window/protected ratios are tuned using ghost hits and eviction-mix feedback. Metadata is synchronized against the cache, with rebalancing to targets driven by _WIN_FRAC and _PROT_FRAC.\n- **Performance**: Combined score 0.0; fails validation tests.\n- **Feedback**: Module-level global state (segments, ghosts, counters) is never reset, likely causing cross-run contamination and contract violations; complex adaptation (early returns, duplicated eviction counters, ghost-driven admission) risks unstable behavior and invalid victim choices under small or shifting workloads.\n**Program Identifier:** Generation 71 - Patch Name cross_segment_guard_and_time_bounded_promotion - Correct Program: False\n\n**Program Name: Windowed Tiny-SLRU with ARC ghosts**\n- **Implementation**: Three-segment SLRU (window/probation/protected) with epoch-decayed TinyLFU scores and two-touch promotions, plus ARC-style B1/B2 ghosts to adapt the window size. A scan detector routes inserts to the window and biases eviction toward recency segments with sampled LRU victim selection that shields hot keys.\n- **Performance**: Combined score 0.26 over 48 traces; hit rates ranged from 0.0 to 0.8894 (strong on locality-heavy traces, weak on scan/unique-heavy ones).\n- **Feedback**: Ghost-driven adaptation and scan resistance reduced protected churn and improved bursty/locality traces, but conservative promotions (hot-threshold/two-touch) and a large decay window likely under-admit mid-frequency items, causing very low hits on mixed/short-lived workloads. Consider relaxing promotion thresholds or aging faster to react to phase changes.\n**Program Identifier:** Generation 72 - Patch Name tiny_wslru_scan_guard_and_tiny_admission - Correct Program: True\n\n**Program Name: ARC+TinyLFU with adaptive ghosts**\n- **Implementation**: Hybrid ARC (T1/T2 with B1/B2 ghosts) augmented by TinyLFU decayed counters, momentum-based p tuning, and an adaptive fresh-window learned from ghost reuse ages; includes scan detection/guard and sampled-LRFU demotion from protected T2. Evictions sample LRU sides with an admission guard that avoids evicting victims hotter than the incoming key.\n- **Performance**: Combined score 0.25 across 48 traces, with highs up to 0.8722 (traces 27\u201328) but many traces below 0.15.\n- **Feedback**: Adaptive fresh-window, scan guard, and LRFU demotion aid locality-heavy and scan-like workloads, but widespread low scores indicate p oscillation and/or overly strict T2 admission (w\u22650.5) leading to under-promotion and T1 churn on mixed/sparse patterns. Relaxing admission thresholds or smoothing p updates may improve robustness across diverse traces.\n**Program Identifier:** Generation 73 - Patch Name arc_tinylfu_fresh_scan_guard - Correct Program: True\n\n**Program Name: Windowed SLRU with ARC ghosts and TinyLFU decay**\n- **Implementation**: Uses three SLRU segments (window/probation/protected) with ARC-style B1/B2 ghost lists and epoch-decayed TinyLFU counters; includes a scan detector (unique-density + hit-rate) that biases admission to window, evicts from probation, adapts window/protected sizes via ghost hits and eviction mix, and applies two-touch promotion with a freshness window derived from ghost ages and sampled LRFU demotion/victim selection.\n- **Performance**: Combined score 0.25 over 48 traces, with strong hit rates on high-locality workloads (up to 0.8901) but many low/near-zero traces on others.\n- **Feedback**: Ghost-weighted adaptation and hot-item shielding effectively preserve frequent items, boosting reuse-heavy streams, but strict scan-mode and two-touch gating with conservative window bounds under-admit recency bursts, contributing to weak results on scan-like or short-lived workloads.\n**Program Identifier:** Generation 74 - Patch Name arc_tinylfu_s3_adaptive - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU Ghosts**\n- **Implementation**: Two-segment SLRU with epoch-decayed TinyLFU counters, ARC-like ghost histories, and adaptive protected fraction; victims are sampled from segment LRUs and ranked by decayed frequency, segment bias, and age. Includes scan detection and two-touch gating, epoch-based windowing, continuous rebalancing, and metadata synchronization.\n- **Performance**: Achieved combined score 0.25 across 48 traces, with peaks up to 0.852 (traces 27\u201328) but very low or near-zero hit rates on several workloads.\n- **Feedback**: Ghost-driven adaptation and LRFU-style scoring protect hot/re-referenced items well, yielding strong results on locality-rich traces. However, scan detection/two-touch thresholds and decay/window tuning appear conservative, allowing unique/scan-heavy streams to depress hit rates, suggesting further calibration of uniqueness thresholds, decay window, and probation admission positioning.\n**Program Identifier:** Generation 75 - Patch Name slru_tlfu_age_bias_and_stronger_scan_guard - Correct Program: True\n\n**Program Name: Adaptive SLRU with Ghosts and Decayed Frequency**\n- **Implementation**: Implements a Segmented LRU (probation/protected) with TinyLFU-like decayed counts, dual ghost histories (epoch and access-time) for segment-aware re-admission, and adaptive protected-fraction tuning. Eviction samples LRU ends from both segments and chooses the lowest decayed score with age/segment tie-breakers; scan detection, two-touch gating, and a dynamic freshness window temper promotions.\n- **Performance**: Combined score 0.25; hit rates ranged from 0.0 to 0.8862 across 48 traces.\n- **Feedback**: Strong on repetitive workloads (e.g., traces 27/28/34/38) due to frequency- and ghost-aware re-admission, but weak on low-locality/bursty streams where high protected bias and two-touch gating delay promotions, yielding many near-zero traces. Consider lowering the baseline protected fraction/step size and refining scan detection and freshness window bounds to stabilize behavior on mixed or transient-locality workloads.\n**Program Identifier:** Generation 76 - Patch Name fresh_window_lrfu_sampling - Correct Program: True\n\n**Program Name: Adaptive SLRU-TinyLFU with Ghosts**\n- **Implementation**: Segmented LRU (probation/protected) with an adaptive protected fraction, TinyLFU-like decayed frequency counters (epoch-tied to capacity), ARC-style ghost histories, and LRFU-inspired sampled victim selection. Adds scan detection via unique-density and two-touch gating, plus admission controlled by a last-victim-score bar with BIP-like bias for cold items.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates span 0.0\u20130.8843, strong on locality-heavy traces (e.g., 27/28/34/38) and weak on streaming/low-reuse traces (e.g., 11/14/15\u201319).\n- **Feedback**: Frequency- and ghost-informed promotion/admission boosts repeated-working-set performance, but the admission bar (last-victim-based) and protected-fraction adjustments can be volatile across workloads. Scan handling reduces pollution, yet pure scans and sparse reuse still suffer, indicating thresholds/decay and sampling may be too coarse for those patterns.\n**Program Identifier:** Generation 77 - Patch Name admission_compare_and_stream_guard - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with LRFU**\n- **Implementation**: Uses ARC-style T1 probation and T2 protected segments with timestamped B1/B2 ghosts; adapts target p via momentum updates moderated by EWMA hit/insert scan detection and cooldown. Eviction/admission rely on small LRFU samples and a freshness-bounded two-touch policy (aged saturating freq, protected-floor demotion, guarded cold inserts, and freshness-aware ghost re-admission).\n- **Performance**: Combined score 0.27 across 48 traces, with hits ranging 0.0000\u20130.8864; strong on multi-touch/locality-heavy traces (e.g., 27/28/34) and ~0.5 on several, but very low on many scan/one-hit workloads.\n- **Feedback**: The stability-focused choices protect hot sets but can react slowly to rapid phase shifts; conservative two-touch and guarded LRU inserts may suppress short-term recency gains under mild locality. Scan detection helps, yet near-zero results on streaming traces suggest EWMA thresholds/cooldowns and the protected floor may still under-adjust p for aggressive scans.\n**Program Identifier:** Generation 78 - Patch Name two_touch_freshness_and_protected_sampling - Correct Program: True\n\n**Program Name: LeCaR+TinyLFU cache with ghost feedback**\n- **Implementation**: Blends LRU and a decayed TinyLFU via LeCaR-style weight learning using dual ghost lists (GLRU/GLFU), with adaptive epoch decay, scan detection (unique-density and low hit-rate), admission guard via last-victim score, and MRU/LRU placement informed by ghost freshness. LFU victims are chosen from a small recency-biased sample, weights are normalized each epoch, and ghost sizes are capped at 2\u00d7 capacity.\n- **Performance**: Combined score 0.25 across 48 traces, with hit rates ranging from 0.0 to 0.8680\u2014strong on locality-rich traces, weak on scan-like/semi-random workloads.\n- **Feedback**: Ghost-based feedback and admission control improve peaks but variability suggests conservative scan detection and small LFU sampling allow cold pollution and slower adaptation on mixed workloads. Consider tuning LR/decay thresholds and ensuring global state resets per trace to avoid cross-trace effects.\n**Program Identifier:** Generation 79 - Patch Name lecar_tinylfu_mix - Correct Program: True\n\n**Program Name: ARC+TinyLFU FreshScan v2 Cache**\n- **Implementation**: ARC backbone with momentum-tuned p (sign-sensitive decay), TinyLFU decayed counters for admission and victim sampling, adaptive fresh-window from ghost reuse-age median, and EWMA-driven scan/guard windows. Includes sampled-LRFU demotion with protected floor/readmission immunity and a cross-segment override to avoid evicting items hotter than the incoming key.\n- **Performance**: Combined score 0.23 across 48 traces, with high hit rates on locality-heavy workloads (up to 0.8566) but near-zero on several scan/low-reuse traces.\n- **Feedback**: TinyLFU gating and cross-segment override effectively preserve hot sets, yielding strong peaks, while scan-mode biases and p momentum reduce but don\u2019t eliminate degradation on long scans or sparse workloads. Strict two-touch promotion during poor locality may delay T2 promotion and contribute to churn under heavy insert pressure.\n**Program Identifier:** Generation 80 - Patch Name arc_tinylfu_freshscan_v2 - Correct Program: True\n\n**Program Name: SP-ARC with TinyLFU and freshness ghosts**\n- **Implementation**: ARC variant with T1/T2 segments, momentum-adaptive p, TinyLFU decayed counters, and freshness-weighted B1/B2 ghosts using timestamped ages to guide admission and p updates. Adds EWMA-based scan detection/guard, sampled-LRFU demotion from T2 with a protected floor and short demotion immunity, plus adaptive decay windows and bounded ghosts.\n- **Performance**: Combined score 0.25 over 48 traces; hit rates range 0.00\u20130.872 (strong on traces 27/28/34, weak on many low-locality/adversarial traces).\n- **Feedback**: The design excels on stable multi-touch workloads via strong T2 protection and ghost-weighted readmission, but underperforms on scans and fast-shifting/short-reuse patterns, indicating scan detection and p adjustments may over-bias toward T1 or overcorrect. Tight ghost bounds and a relatively large freshness window can blunt responsiveness; tuning EWMA thresholds, ghost limits, and demotion immunity may improve robustness.\n**Program Identifier:** Generation 81 - Patch Name sparc_tinylfu_lrfu - Correct Program: True\n\n**Program Name: Tiny-SLRU + ARC Ghosts (scan-aware)**\n- **Implementation**: Three-segment SLRU (window/probation/protected) with TinyLFU-like decayed frequency, ARC-style B1/B2 ghost histories, and epoch-based freshness to drive two-touch promotions and window-size adaptation. Victim selection samples LRU sides across segments, shielding hot items, with scan detection that accelerates aging and constrains inserts to the window.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0 to 0.8893 with strong wins on mixed recency/frequency workloads but many low-hit traces underperformed.\n- **Feedback**: Strong scan guard and two-touch gating prevent protected pollution but likely under-promote items on short-reuse or bursty workloads, depressing mid-range traces; epoch/ghost-based tuning may be conservative relative to capacity and decay cadence. Relaxing probation promotion outside scans, tuning DECAY_WINDOW/freshness window, or widening sampling could improve balance between recency and frequency.\n**Program Identifier:** Generation 82 - Patch Name arc_directional_evict_and_two_touch_fix - Correct Program: True\n\n**Program Name: Windowed SLRU with ARC ghosts and TinyLFU**\n- **Implementation**: Three-segment SLRU (window/probation/protected) using OrderedDict LRUs, ARC-style B1/B2 ghost lists with epoch-based freshness weighting, and a TinyLFU-like decayed frequency counter. It adapts window size and protected share based on ghost hits, employs two-touch promotion with short eviction immunity, scan-mode resistance, and sampled LRFU demotions for protected.\n- **Performance**: Combined score 0.0; the program fails validation tests.\n- **Feedback**: The complex adaptive logic and persistent global state likely cause incorrect or non-deterministic behavior across runs (e.g., epoch/ghost/counter carryover), leading to invalid admission/eviction choices under the evaluator. Resetting state per run and simplifying adaptation (especially scan-mode gating, immunity, and dynamic ratios) would improve correctness and stability.\n**Program Identifier:** Generation 83 - Patch Name arc_ghost_bias_and_protected_immunity - Correct Program: False\n\n**Program Name: Momentum ARC+SLRU with Freshness Ghosts**\n- **Implementation**: Implements ARC with SLRU-style T1/T2 segments and freshness-aware ghosts (B1/B2 store eviction timestamps), plus small aged saturating frequency counters and LRU ordering. Eviction/admission use sampled scoring (freq, age) with temporary shields, time-bounded two-touch promotions, T2 demotion with a floor, and momentum-based p adjustments driven by EWMA scan detection and guard windows.\n- **Performance**: Combined score 0.27; strong on several locality-rich traces (e.g., 27=0.79, 28=0.89, 34=0.78, 38=0.63) but many traces are low (e.g., 14=0.00, 13\u22480.05), yielding mixed overall results.\n- **Feedback**: Scan-aware bias and two-touch gating limit T2 pollution and perform well on mixed locality, but momentum/cooldown for p and protected-floor/shields can slow adaptation and retain cold T2 items, hurting dynamic or low-locality workloads. Tuning scan triggers and p step/cooldown, reducing the T2 floor/shield span, or relaxing two-touch windows may improve responsiveness and broader performance.\n**Program Identifier:** Generation 84 - Patch Name ghost_fresh_readmission_shield_and_protected_floor - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with ghost freshness**\n- **Implementation**: Implements ARC partitioning over SLRU segments (T1 probation, T2 protected) with timestamped ghost histories for freshness-aware readmission, EWMA-based scan detection, momentum-driven p adjustments, and LRFU-style victim sampling using aged saturating frequencies and timestamps. Includes time-bounded two-touch promotion, temporary eviction shields, cross-segment victim override, and protected-floor demotion to maintain targets.\n- **Performance**: Combined score 0.0; the program failed validation tests.\n- **Feedback**: Failures likely stem from interface/state mismatches (e.g., metadata divergence from the cache core, victim/key return mismatches, or unreset global state) rather than algorithmic intent. The high complexity of adaptive controls (momentum p, scan windows, cross-segment overrides) increases the chance of invariant violations and correctness bugs, leading to invalid results.\n**Program Identifier:** Generation 85 - Patch Name arc_srlu_cross_override_and_fresh_gating - Correct Program: False\n\n**Program Name: W-TinyLFU SLRU with Adaptive Window**\n- **Implementation**: Implements a Window LRU for new items and a main SLRU split into probation/protected, with TinyLFU-like decayed counters (halved ~every capacity) guiding admission; EWMA-based scan detection adapts window/protected fractions and biases insert positions, with eviction-time admission planning and protected-size rebalancing. Evicted items\u2019 segment state and frequencies are removed (no ghosts), and frequency is capped at 15.\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates ranging 0.0\u20130.8694 and notably strong on locality-heavy traces (e.g., 27/28/34/38).\n- **Feedback**: While adaptive windowing and SLRU promotions capture locality, deleting frequency history on eviction and a slow EWMA (alpha=0.05) likely weaken admission under churn/scans; comparing only to probation\u2019s LRU can also misclassify hot newcomers. Preserving decayed freq for evicted keys or adding lightweight ghosts and speeding adaptation would likely improve low-reuse trace performance.\n**Program Identifier:** Generation 86 - Patch Name wtinylfu_slru - Correct Program: True\n\n**Program Name: Momentum ARC with Freshness-weighted Ghosts**\n- **Implementation**: Extends ARC with timestamped ghost lists, two-touch promotion bounded by a dynamic freshness window, TinyLFU-style decayed frequency counters, and momentum-based p adjustments with scan detection, guard windows, and a protected-floor demotion policy. Eviction uses ARC bias with adaptive sampling and cross-segment overrides by (freq, age) except during scan/guard phases.\n- **Performance**: Combined score 0.26 across 48 traces; strong on locality-rich traces (peaks up to 0.868) but weak on low-locality/streaming workloads (several near 0).\n- **Feedback**: Scan-aware bias and freshness-weighted re-admission improve resilience to scans and promote genuinely hot items, yielding high hits where reuse exists. However, aggressive guarding/demotion and background p decay can over-bias T1 under poor locality, suggesting tuning of EWMA thresholds, protected-floor size, and cooldown to avoid starving T2 on challenging traces.\n**Program Identifier:** Generation 87 - Patch Name fractal_arc_tinylfu - Correct Program: True\n\n**Program Name: SAFIR-ARC+TinyLFU (scan-aware ARC)**\n- **Implementation**: ARC with T1/T2 resident lists and timestamped B1/B2 ghosts, adaptive p updated via sign-sensitive momentum and scan/guard EWMAs. Readmission uses TinyLFU-decayed counters and a median-based freshness window; promotions are two-touch gated, T2 is controlled via sampled-LRFU demotion with immunity, and victims are chosen by incoming-aware LRU-side sampling.\n- **Performance**: Evaluated on 48 traces; combined score 0.25 with hit rates ranging 0.00\u20130.8742, strong on traces 27/28/34/38 and mid (~0.45\u20130.53) on several others, but low on many workloads.\n- **Feedback**: Scan-aware insertion and freshness-weighted ghost readmission effectively protect against scans and boost multi-touch/locality-heavy workloads. However, strict two-touch gating and amplified p-decreases during scans likely under-admit to T2 on sparse or low-reuse traces, contributing to numerous low hit rates; relaxing gating or momentum could improve balance.\n**Program Identifier:** Generation 88 - Patch Name safir_arc_tlfu - Correct Program: True\n\n**Program Name: Windowed ARC-TinyLFU SLRU Cache**\n- **Implementation**: Three-tier SLRU (window/probation/protected) with ARC-style B1/B2 ghosts, epoch-aged TinyLFU scoring, two-touch promotion, scan detection, and adaptive window/protected sizing; sampling-based victim selection honors protected demotion immunity and uses a freshness window derived from ghost ages. Metadata is synced with the real cache, and ghost hits steer both eviction direction and admission seeding.\n- **Performance**: Combined score 0.25 across 48 traces, with hit rates ranging from 0.0000 to 0.8893.\n- **Feedback**: Strong on locality-rich/repetitive traces, but weak on scans and high-churn/low-reuse workloads, indicating frequency gating and protected immunity can over-shield T2 and starve recency. Consider relaxing two-touch/immunity and allowing faster window/probation growth under churn to improve scan resistance and cold-start behavior.\n**Program Identifier:** Generation 89 - Patch Name slru_protection_immunity_and_prot_override - Correct Program: True\n\n**Program Name: Hybrid ARC/TinyLFU SLRU with LeCaR**\n- **Implementation**: Three segments (window/probation/protected) maintained via OrderedDict LRUs, with TinyLFU-style decayed counters, ARC B1/B2 ghost histories for directional replacement and window tuning, two-touch promotions, and LeCaR-style expert blending (LRU vs LFU) using expert ghosts and adaptive weights. Includes scan-mode guard, admission gating by last-victim score, and periodic rebalancing of window/protected targets.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates span 0.00\u20130.87 with strong results on 27/28/34/38 and >0.5 on 8\u201310, but many low-hit streams.\n- **Feedback**: The blend of recency/frequency with two-touch gating captures bursty and repeat access well, but scan detection/admission and conservative weight updates underperform on streaming/low-reuse workloads (e.g., 11, 14\u201322, 29\u201333, 35\u201346). Protected bias and complex adaptation can over-protect in churny inputs, leading to protected evictions and suppressed hit rates.\n**Program Identifier:** Generation 90 - Patch Name slru_lecar_hybrid - Correct Program: True\n\n**Program Name: ARC+SLRU TinyLFU with adaptive momentum**\n- **Implementation**: Two-segment ARC (T1 probation, T2 protected) fused with TinyLFU-decayed counters and a 3-bit freq, EWMA scan detector, and sign-sensitive momentum to adapt p; ghost histories timestamp evictions and a median-calibrated freshness window drives tiered admissions (T2, graced T1 MRU, or T1 LRU) with frequency seeding. Eviction samples segment LRUs and selects via an incoming-aware LRFU tuple; protected demotion uses sampling with a median guard, per-key immunity, and a dynamic protected floor.\n- **Performance**: Combined score 0.20 over 48 traces, with hit rates spanning 0.0000\u20130.7666 (notable highs around 0.50\u20130.77 but many lows ~0.02\u20130.12).\n- **Feedback**: Freshness-tiered ghost reuse plus momentum-driven p captured bursty/multi-touch locality (driving the high outliers), while scan/T1 biases sometimes overreacted, producing very low hits on scans or oversized working sets. Slightly relaxing T1 preference, increasing ghost bounds, or smoothing decay/thresholds could stabilize adaptation and improve worst-case traces.\n**Program Identifier:** Generation 91 - Patch Name arc_slfu_guard_v3 - Correct Program: True\n\n**Program Name: Windowed TinyLFU SLRU**\n- **Implementation**: Implements a W-TinyLFU admission policy with SLRU segments using OrderedDicts for window/probation/protected, a 4-hash Count-Min Sketch with power-of-two width and periodic decay, timestamps for tie-breaking, and EWMA-based scan sensing to bias insert/eviction. Admission compares the incoming CMS estimate against sampled probation LRU tail; hits promote to protected and protected is demoted when above target.\n- **Performance**: Combined score 0.0; the program failed validation.\n- **Feedback**: Likely fails due to a Python compatibility/runtime issue (use of the walrus operator in evict) and assumptions about cache internals, leading to import or logic errors. Additionally, segment targets are only partially enforced and probation sampling is deterministic, which may degrade decision quality.\n**Program Identifier:** Generation 92 - Patch Name wtlfu_slru - Correct Program: False\n\n**Program Name: ARC-TinyLFU hybrid with scan-aware gating**\n- **Implementation**: Implements an ARC-style two-segment cache (T1 probation, T2 protected) with ghost histories (B1/B2) storing eviction timestamps, TinyLFU-like decayed counters with epoch halving, EWMA-based scan detection, momentum-based p-adaptation, admission guard, two-touch gating, and no-demote shields; victims are sampled from LRU sides with a decayed-score guard. Capacity drives decay windows and several time-based heuristics; re-admission uses ghost freshness weighting with fast-promotion seeds.\n- **Performance**: Combined score 0.0; the program is marked incorrect and fails validation tests.\n- **Feedback**: The extensive heuristics likely introduce correctness issues (e.g., global state not reset across runs, shields blocking evictions, unused guard_until, and segment/cache desynchronization leading to invalid decisions), causing validation failures despite sophisticated design. Simplify and harden state management, ensure evict always selects a current resident consistently with segments, and temper momentum/scan biases to preserve ARC invariants.\n**Program Identifier:** Generation 93 - Patch Name arc_tinylfu_fresh_tiers_and_shielding - Correct Program: False\n\n**Program Name: Fractal ARC with TinyLFU and scan-awareness**\n- **Implementation**: ARC with probation/protected segments plus timestamped ghosts, decayed TinyLFU counters, and momentum-based p updates; EWMA-driven scan detection, two-touch promotions with freshness windows/fast-promote, protected-floor demotions, shielded evictions, and cross-segment sampled victim selection by (freq, age).\n- **Performance**: Combined score 0.26 over 48 traces, with hit rates spanning 0.00\u20130.87 and strong results on locality-rich workloads but weak on several low-locality/scan-heavy traces.\n- **Feedback**: Scan/guard heuristics and ghost-weighted p-updates help when re-reference freshness exists, but cooldown/momentum can slow p adaptation during rapid phase shifts and the protected-floor plus two-touch under poor locality can over-retain T2, hurting pure recency workloads. Tuning cooldown, protected floor, and admission/promotion thresholds could reduce the many sub-0.1 traces while preserving high-end wins.\n**Program Identifier:** Generation 94 - Patch Name fast_promotion_and_ghost_gating - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with Ghost Freshness**\n- **Implementation**: Two ARC segments (T1 probation, T2 protected) with ghost histories storing eviction timestamps; momentum- and cooldown-based adaptive p, EWMA-based scan detection, 3-bit saturating frequencies with periodic aging, LRFU-style sampled victim selection, and guarded promotions/demotions with freshness-tiered readmission. Includes cross-segment override by (freq, age), no-demote/fast-promote shields, and ghost-bound maintenance.\n- **Performance**: Combined score 0.25 over 48 traces; strong on several workloads (peaks up to 0.8638) but very low on others (down to 0.0000), indicating high variance across patterns.\n- **Feedback**: Freshness-weighted ghost hits and protected demotion guards boost multi-touch locality, but aggressive scan bias and p momentum/cooldown likely slow recovery and overcool T1 on sparse/streaming traces, leading to near-zero hit rates. Easing cold-insert bias and shortening cooldowns after scans could stabilize adaptation and improve worst-case behavior.\n**Program Identifier:** Generation 95 - Patch Name slru_arc_tiered_ghost_p_momentum - Correct Program: True\n\n**Program Name: Fractal ARC with Freshness-Weighted Ghosts**\n- **Implementation**: ARC variant with T1/T2 segments and timestamped B1/B2 ghosts; momentum-based p updates guided by EWMA scan detection, TinyLFU-style decayed frequencies, two-touch/fast-promotion logic, shielded hot items, adaptive T2 demotion (median-guarded), and cross-segment victim sampling with scan/guard gating. Ghost freshness drives readmission tiering and p adjustments; scans bias evictions to T1 and throttle promotion.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.000 (trace 14) to 0.826 (trace 28), excelling on high-locality traces but degrading sharply on scan-heavy/low-locality workloads.\n- **Feedback**: Scan-aware and guard mechanisms protect T2 and yield strong results on reuse-heavy traces, but aggressive LRU-left placement for newcomers, strict two-touch under poor locality, and p momentum swings lead to severe drops on several streams. Softening two-touch during prolonged scans and tempering cross-segment overrides/momentum could stabilize performance without sacrificing top-end hits.\n**Program Identifier:** Generation 96 - Patch Name fractal_arc_tinylfu_v2 - Correct Program: True\n\n**Program Name: Scan-aware ARC+SLRU with freshness ghosts**\n- **Implementation**: Two resident segments (T1 probation, T2 protected) with ARC-style adaptive target p updated via momentum and scan-aware damping; ghost histories store eviction timestamps to compute freshness-weighted readmission with fast-promotion and no-demote grace windows. Eviction samples a few LRU candidates using LRFU-style (freq, timestamp) scoring with periodic frequency aging and selective T2 tail cooling; demotion keeps T2 within target while respecting no-demote.\n- **Performance**: Combined score 0.25; hit rates vary widely (peaks up to 0.8752, but many traces <0.15 and one at 0.0).\n- **Feedback**: The scheme excels on strong locality but struggles on diverse/low-reuse and scan-like workloads\u2014guarded T1-LRU admissions and aggressive/volatile p momentum can under-promote and thrash. Easing the admission guard and scan thresholds, reducing p momentum/damping asymmetry, and slightly broadening promotion criteria could stabilize performance across traces.\n**Program Identifier:** Generation 97 - Patch Name arc_srlu_fast_promo_no_demote_scan_tuning - Correct Program: True\n\n**Program Name: Scan-aware ARC with TinyLFU and Ghost Freshness**\n- **Implementation**: ARC with T1/T2 segments and timestamped B1/B2 ghosts, TinyLFU-style saturating counters with periodic aging, EWMA-based scan detection, and momentum-driven p-adaptation. It uses two-touch promotion with shields, freshness-weighted ghost readmission (fresh\u2192T2, medium\u2192T1 with fast-promotion, stale\u2192T1 LRU), cross-segment victim overrides, and median-guarded protected demotion with a dynamic T2 floor.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates vary widely (0.00\u20130.866), strong on locality-rich traces (e.g., 0.866, 0.744, 0.607) but weak on scan/low-reuse workloads.\n- **Feedback**: Freshness-aware ghosts and momentum p-updates improve stability and boost reuse-heavy workloads, while T2 floor and median-guarded demotion reduce thrashing. However, conservative two-touch and scan/guard biases that push newcomers to T1 LRU can depress performance on low-reuse or scan-like traces; relaxing EWMA thresholds/cooldowns and reducing T1 bias could improve worst-case behavior.\n**Program Identifier:** Generation 98 - Patch Name arc_tinylfu_scanmix_v6 - Correct Program: True\n\n**Program Name: Windowed SLRU with ARC Ghosts + TinyLFU**\n- **Implementation**: Three-tier SLRU (window/probation/protected) with ARC-style B1/B2 ghost lists stamped by epochs, TinyLFU-like decayed frequency, two-touch promotion gating, scan detection, demotion immunity, and adaptive window/protected ratios driven by ghost freshness; eviction samples LRUs from segments and biases decisions via ghost freshness and LFU score.\n- **Performance**: Combined score 0.25 across 48 traces, with hit rates spanning 0.0\u20130.8893 (strong on locality-rich traces but very low on many low-reuse/short-reuse traces).\n- **Feedback**: Ghost-aware directional replacement and scan guarding effectively preserve protected entries and excel under stable reuse, but aggressive two-touch gating and conservative hot thresholds delay promotions, hurting workloads with shorter reuse distances; easing promotion criteria or slightly enlarging the window/aging cadence could improve coverage of weak locality.\n**Program Identifier:** Generation 99 - Patch Name ghost_directed_evict_with_protected_immunity - Correct Program: True",
  "meta_scratch_pad": "## Successful Algorithmic Patterns\n- Scan-aware ARC+SLRU with freshness ghosts + LRFU sampling lifted mid-tier traces without sacrificing peaks.\n  - Current best: \u201cScan-aware ARC+SLRU with freshness-aware ghosts\u201d scored 0.27. It samples a few LRU entries from T1/T2 and ranks by (freq asc, age asc), biases evictions to T1 during scans/guards, and disables cross-segment overrides when scanning. This yields stable 1\u201310 performance (e.g., 1=0.5125, 5=0.5083, 9=0.5256, 10=0.5310) while preserving high peaks (27=0.7925, 28=0.8864, 34=0.7752, 38=0.6337).\n  - Similar 0.25\u20130.26 designs (\u201cFractal ARC with TinyLFU and scan-awareness\u201d 0.26; \u201cScan-aware ARC+SLRU with Ghost Freshness\u201d 0.25; \u201cWindowed SLRU with ARC Ghosts + TinyLFU\u201d 0.25) corroborate that small LRFU sampling plus T1-biased evictions during scans stabilizes mid-tier workloads.\n- Momentum-based p with cooldown and forced, freshness-weighted steps on ghost hits improved responsiveness while avoiding oscillation.\n  - The best program\u2019s _adjust_p applies cooldown for non-ghost updates and larger, freshness-scaled forced steps on B1/B2 hits; this correlates with better phase-change recovery than 0.24\u20130.25 peers that report sluggish or oscillatory p behavior (e.g., \u201cARC+SLRU TinyLFU with adaptive momentum\u201d 0.20 with overreactions; several 0.25 variants cite slow recovery due to momentum/cooldown asymmetry).\n- Freshness-weighted ghosts with direct T2 readmission and frequency seeding preserve hot sets and accelerate recovery.\n  - The best program re-admits fresh B1/B2 ghosts directly to T2 with seeded freq and shields; this aligns with sustained peaks (27\u201328/34/38). Comparable mechanisms in 0.26/0.25 programs (\u201cFractal ARC with TinyLFU and scan-awareness,\u201d \u201cScan-aware ARC+SLRU with Ghost Freshness\u201d) show the same effect on reuse-rich traces.\n- Conditional two-touch gating limited to poor-locality/scan phases avoided under-promotion.\n  - The best program only enforces two-touch when scanning, T1 > p, or hit EWMA is low; otherwise T1 hits promote immediately. This mitigates the under-promotion seen in several 0.24\u20130.25 SLRU/TinyLFU hybrids that apply strict two-touch universally.\n\n## Ineffective Approaches\n- Always-on/tight two-touch and over-protected T2 reduced adaptability and depressed recency-heavy/short-reuse performance.\n  - Multiple 0.25 variants (\u201cFractal ARC with Freshness-Weighted Ghosts,\u201d \u201cWindowed SLRU with ARC Ghosts + TinyLFU\u201d) report very low hits on scan-like/short-reuse traces due to aggressive two-touch and demotion guards. \u201cFractal ARC with TinyLFU and scan-awareness\u201d (0.26) notes protected-floor + two-touch can over-retain T2 under poor locality.\n- Overly aggressive scan bias or slow EWMA response caused prolonged cold admissions and near-zero hit rates on streaming traces.\n  - \u201cScan-aware ARC+SLRU with Ghost Freshness\u201d (0.25) and \u201cFractal ARC with Freshness-Weighted Ghosts\u201d (0.25) attribute collapses on several traces to aggressive scan bias and volatile momentum/cooldown behavior. Conversely, slow EWMA/aging in some TinyLFU hybrids (e.g., prior 0.24 designs) misclassifies newcomers and weakens admission under churn.\n- Complex adaptation without strict invariant management led to correctness failures (0.0 scores).\n  - \u201cWindowed TinyLFU SLRU\u201d (0.0) likely failed due to Python compatibility issues (walrus operator) and partial segment enforcement. \u201cARC-TinyLFU hybrid with scan-aware gating\u201d (0.0) suffered from shields blocking evictions and state desynchronization, violating ARC semantics.\n- LeCaR-style expert blending added complexity with limited gains on streaming/low-reuse.\n  - \u201cHybrid ARC/TinyLFU SLRU with LeCaR\u201d (0.24) shows strong burst/repeat handling but underperforms on streams and low-reuse (11, 14\u201322, 29\u201333, 35\u201346) due to conservative weight updates and over-protection in churny inputs.\n\n## Implementation Insights\n- Precise ARC mechanics with OrderedDict segments and timestamped ghosts underpin stability and correctness.\n  - The best program maintains T1/T2 and B1/B2 as OrderedDicts, stamps ghosts with eviction ts, and trims ghosts to capacity. This enforces ARC invariants and enables freshness-aware readmission, avoiding the state/eviction inconsistencies that caused 0.0 failures in more complex variants.\n- Lightweight, decayed frequency integrates cleanly with LRFU victim sampling.\n  - A 3-bit saturating counter (max=7) aged every ~cap accesses feeds (freq, age) scoring. The best program\u2019s _maybe_age + _score_key drive robust victim selection and correlate with strong mid-tier stability (e.g., 1\u201310 \u22480.4461\u20130.5310) versus naive LRU.\n- Momentum p-adjustment with cooldown and forced steps ties adaptation to real workload signals.\n  - _adjust_p clamps momentum, applies cooldown for non-ghost updates, and uses freshness-scaled forced steps on B1/B2 hits. This balances responsiveness and stability, reflected in quicker recovery on phase changes (peaks at 27=0.7925, 28=0.8864) compared to 0.24\u20130.25 designs that cite p oscillations or sluggishness.\n- Policy safeguards balance protection and agility.\n  - The best program leverages: scan/guard windows (bias T1 evictions; disable cross-segment overrides during scans), a small protected floor (~10\u201315% cap), temporary no-evict shields for promoted/re-admitted keys, and two-touch only under poor locality. These guardrails preserve hot sets without over-shielding, unlike variants where sticky floors/shields suppress recency.\n\n## Performance Analysis\n- The current best (0.27) improves mid-tier traces while preserving high-end peaks relative to 0.24\u20130.26 cohorts.\n  - Mid-tier lifts: traces 1\u201310 \u22480.4461\u20130.5310; notably 1=0.5125, 5=0.5083, 9=0.5256, 10=0.5310. Difficult but recoverable traces also improved: 20=0.2722, 21=0.4041, 25=0.3041, 26=0.3337, 44=0.3500, 47=0.4663.\n  - Peaks match or exceed peers: 27=0.7925, 28=0.8864, 34=0.7752, 38=0.6337, comparable to highs in 0.25\u20130.26 programs (e.g., \u201cScan-aware ARC+SLRU with Ghost Freshness\u201d peaks up to 0.8638; \u201cWindowed SLRU with ARC Ghosts + TinyLFU\u201d up to 0.8893).\n- Low-locality/scan streams remain weak across designs, but the best avoids widespread collapses beyond pure scans.\n  - The best has near-zero on scans (14=0.0000; 15\u201319 \u22480.02\u20130.025), in line with others. However, compared to variants reporting many sub-0.1 traces, it sustains better results on challenging but non-pure-scan workloads (e.g., 21=0.4041 vs several 0.25 designs citing lows ~0.02\u20130.12).\n- Designs with strong protection/two-touch bias show higher variance: excellent peaks but more lows on short-reuse or streaming inputs.\n  - 0.25 programs (\u201cFractal ARC with Freshness-Weighted Ghosts,\u201d \u201cScan-aware ARC+SLRU with freshness ghosts\u201d) report very low scores on several traces despite high peaks, consistent with feedback on over-protection and conservative promotion.\n- Correctness and invariant stability are decisive; complexity without tight hygiene nullifies gains.\n  - Two sophisticated designs scored 0.0 due to validation failures (\u201cWindowed TinyLFU SLRU,\u201d \u201cARC-TinyLFU hybrid with scan-aware gating\u201d), whereas the best program\u2019s strict ARC bookkeeping and bounded sampling translate its complexity into measurable gains (0.27).",
  "meta_recommendations": "1. Add sign-sensitive momentum with scan-aware ghost scaling for p-updates\n   - Track _p_last_sign and on a sign flip halve _p_momentum to damp oscillation; update momentum with different betas: \u03b2_ghost=0.7 for forced ghost hits, \u03b2_bg=0.3 for cooldowned background nudges. Scale step by freshness w (step *= 1 + 2w), and when now \u2264 _scan_until damp B1-driven increases by \u00d70.5 and amplify B2-driven decreases by \u00d71.2 to bias toward shrinking T1 during scans.\n\n2. Implement freshness-tiered ghost readmission with a fast-promotion grace window\n   - Compute w per ghost hit using per-list adaptive fresh_window (see Rec 4): if w \u2265 0.66, admit directly to _T2_protected and seed _freq = max(curr, 1 + round(4w)); if 0.33 \u2264 w < 0.66, admit to _T1_probation MRU and set _fast_promote_until[key] = now + fresh_window; else place at T1 LRU. In update_after_hit, if key in T1 and now \u2264 _fast_promote_until.get(key, 0), promote immediately to T2 and clear the flag.\n\n3. Stabilize protected demotion using a sample-median guard and no-demote shielding\n   - In _demote_protected_if_needed, sample 4\u20135 LRU candidates, compute median(freq) and median(age), and only demote if the chosen candidate has freq \u2264 median_freq and age \u2265 median_age; otherwise stop demoting this cycle. Add _no_demote_until and, on promotions and fresh ghost readmissions, set _no_demote_until[key] = now + fresh_window to skip demotion checks for those keys during their grace period.\n\n4. Make freshness windows and aging adaptive; accelerate staleness shedding during scans/poor locality\n   - Maintain rolling deques (size min(cap, 512)) of the last ghost eviction ages for B1/B2 and set fresh_window_B1/B2 = clamp(median_age, 0.25\u00d7cap, 1.0\u00d7cap), recomputed every cap accesses; use the appropriate window when computing w and shield spans. When now \u2264 _scan_until or _hit_ewma < 0.2, raise _EWMA_ALPHA to 0.15, call _maybe_age at 2\u00d7 rate (every cap//2), and decrement _freq by 1 for the bottom 10% of the T2 tail each cycle (dropping entries at 0) to shed stale protection faster.\n\n5. Tighten cross-segment override with dynamic min_seg and ghost-ratio gating\n   - Replace the fixed min_seg with min_seg = max(1, int(0.2\u00d7cap), int(0.5\u00d7min(len(_T1_probation), len(_T2_protected)))) and require a stronger margin when locality is poor: set _CROSS_EVICT_FREQ_MARGIN = 2 if _hit_ewma < 0.2. Track recent B1/B2 ghost hits in ring buffers of length cap and disable cross-segment overrides when recent B2 hits outnumber B1 by >1.2\u00d7 to avoid draining genuinely hot T2 during phase changes.",
  "meta_recommendations_history": [
    "1. Make the protected fraction adaptive using ghost/promotion feedback. Maintain short-window counters (e.g., over the last 5\u201310\u00d7capacity accesses) for: ghost re-references within half-life, probation\u2192protected promotions, and unique-insert rate. Adjust _PROTECTED_RATIO by \u00b10.05 per window: increase when ghost-hit-rate > 0.15 or promotion-rate > 0.25 (cap at 0.7), decrease when unique-insert-rate > 0.6 and recent hit-rate < 0.2 (floor at 0.2) to improve scan resistance without sacrificing reuse-heavy peaks.\n\n2. Tighten ghost-biased admission with segment-awareness and stricter recency thresholds. Record at eviction whether a key was in protected vs probation and increment a ghost touch count; on re-admission, place directly into protected only if it was previously protected and re-referenced within 0.5\u00d7half-life, otherwise insert into probation with a moderate boost (base \u2248 0.7 instead of 1.2). Additionally, under detected-scan mode (high unique-insert-rate), require two touches (decayed score \u2265 2.0) before promoting from probation to protected.\n\n3. Add a lightweight admission guard by comparing against the last victim\u2019s strength. When evicting, compute and store the evicted key\u2019s decayed score as last_victim_score; at the subsequent insert, if the incoming key lacks a recent ghost and last_victim_score is high (e.g., > 2.0), seed the new key with base = 0.0 in probation so it\u2019s preferentially evicted next. This simulates TinyLFU-style \u201cadmit by merit\u201d without bypassing insertion, reducing pollution from one-timers.\n\n4. Replace O(n) scans with efficient structures to stabilize decisions and reduce overhead. Use an OrderedDict (or linked-list) for probation to get true LRU in O(1) for hits/moves and eviction, and a lazy heap (heapq of (decayed_score, last_update, key)) for protected to evict the coldest by decayed score with LRU tiebreak, discarding stale heap entries on pop. This addresses the observed inconsistency from full-set scans while preserving the current decayed-LFU + SLRU behavior.\n\n5. Adapt the decay half-life and proactively cool protected on low scores. Start with half-life = 1.5\u00d7capacity, then adjust every window: shorten toward 0.8\u00d7capacity when churn (inserts/accesses) is high and hit-rate low, and lengthen toward 2.5\u00d7capacity when promotion-rate and ghost-hit-rate are high. In addition, periodically demote from protected any entries whose current decayed score falls below a small threshold (e.g., < 0.3) or below the 20th percentile of protected scores, preventing overprotection during scans without losing frequently reused items.",
    "1. Add a lightweight scan detector and tighten probation behavior under scans. Maintain a sliding window of size W = 2\u00d7capacity tracking unique_insert_rate and hit_rate; when unique_insert_rate > 0.6 and hit_rate < 0.2, enter scan_mode for the next W accesses. In scan_mode: insert newcomers at T1\u2019s LRU, require two touches before promoting to T2 (only promote when _freq[key] \u2265 2), aggressively decrease _p_target once per 100 accesses by 1.5\u00d7max(1.0, len(_B1_ghost)/max(1, len(_B2_ghost))) and cap T2 sampling to 1; restore defaults when the window no longer indicates a scan.\n\n2. Make ghost re-admission recency- and origin-aware instead of always direct-to-T2. Record eviction timestamps in ghosts (e.g., _B1_time, _B2_time); on insert, if key is in B2 or B1 and was seen within 0.5\u00d7capacity accesses, place into T2 with a higher seed frequency (B2\u2192freq = 3, B1\u2192freq = 2), else put into T1 MRU and promote only on the next hit. Weight the ARC p-step by ghost freshness: multiply the current inc/dec by w = clamp(0.75, 1.5, 1.0 - age/CapHalf), making fresher ghosts push p more.\n\n3. Keep frequency simple but add periodic aging to avoid stale bias. Use small saturating integer counters (e.g., cap each _freq[key] at 7) and every capacity accesses halve all frequencies in-place (_freq[k] //= 2). This preserves the current LRU-window sampling benefits while preventing long-ago hits from over-protecting keys during phase changes.\n\n4. Smooth and bound ARC p adjustments with momentum to stay responsive without overshoot. On ghost hits, compute step = min(max(1.0, ratio_other/this), 0.25\u00d7capacity) and maintain a momentum term: _p_momentum = 0.5\u00d7_p_momentum + sign\u00d7step, then set _p_target = clamp(_p_target + _p_momentum, 0, cap). This retains the proportional responsiveness that worked well while damping rapid oscillations that hurt volatile/scan-heavy traces in other variants.\n\n5. Adapt eviction sampling to workload and segment pressure. Keep T1 sampling small (1\u20132) for scan resistance, but make T2 sampling dynamic: set _T2_SAMPLE = 5 when len(_T2_protected) > cap - round(_p_target) and the recent promotion rate > 0.2, otherwise 3. This biases replacement to better identify the truly cold items in a crowded protected segment on reuse-heavy phases without paying unnecessary overhead during churn.",
    "1. Add a gentle, time-bounded scan detector that only tightens probation behavior briefly. Maintain a sliding window of W = capacity accesses tracking unique_insert_rate and hit_rate; when unique_insert_rate > 0.7 and hit_rate < 0.15, enter scan_mode for the next W accesses: insert newcomers at T1\u2019s LRU, require two touches before promoting to T2, set T1_SAMPLE=1, and decrease p once per 50 accesses by 1.5\u00d7max(1.0, len(B1)/max(1, len(B2))). Exit scan_mode automatically after W accesses if the condition no longer holds to avoid the over-conservative gating that caused near-zero traces in weaker variants.\n\n2. Make ghost re-admission freshness-aware and add momentum to p updates. Store eviction timestamps in B1/B2; on insert, if a ghost is \u201cfresh\u201d (age \u2264 0.5\u00d7capacity accesses), place into T2 and seed freq to 3 for B2 or 2 for B1, else place into T1 MRU and promote only on next hit. Scale the ARC step by freshness (w in [1.0, 1.5]) and update with momentum: p_mom = 0.5\u00d7p_mom + sign\u00d7min(step, 0.25\u00d7cap), then p = clamp(p + p_mom, 0, cap), preserving the current program\u2019s responsiveness while damping oscillations.\n\n3. Keep the simple per-key frequency but add lightweight periodic aging to prevent stale bias. Use saturating 3-bit counters (cap at 7) and every capacity accesses halve all frequencies in-place (_freq[k] //= 2). Also decay _last_victim_strength by half at the same cadence so the admission guard doesn\u2019t over-penalize newcomers after a phase shift.\n\n4. Adapt eviction sampling to segment pressure and recent dynamics. Keep T1_SAMPLE small (2 normally, 1 in scan_mode or when len(T1) > p + 0.1\u00d7cap) to resist scans, and make T2 sampling dynamic: set T2_SAMPLE = 5 when len(T2) > cap \u2212 round(p) and the promotion rate over the last cap/2 accesses > 0.2, else 3; reduce to 2 when recent hit_rate < 0.2. This preserves the best program\u2019s small-window LRFU benefits while improving identification of the coldest items in a crowded protected segment.\n\n5. Split protected into warm and hot sub-segments to better filter transient promotions. Implement T2_warm and T2_hot (OrderedDict): on first promotion from T1 go to T2_warm; a hit in T2_warm promotes to T2_hot; hits in T2_hot refresh recency. When REPLACE chooses T2, sample from T2_warm first; if T2_hot grows beyond 0.6\u00d7(cap \u2212 p), demote its LRU to T2_warm, preserving truly hot items while preventing just-promoted entries from displacing them.",
    "1. Add a gentle, time-bounded scan detector that only tightens probation briefly. Track a sliding window of W = capacity accesses with unique_insert_rate and hit_rate; if unique_insert_rate > 0.7 and hit_rate < 0.15, enter scan_mode for the next W accesses: insert newcomers at T1\u2019s LRU, require two touches before promoting to T2 (first T1 hit -> T1 MRU; second -> T2), set T1_SAMPLE=1, and bias REPLACE to pick T1 when ambiguous. While in scan_mode, decrease p once per 50 accesses by 1.5\u00d7max(1.0, len(B1)/max(1, len(B2))), and auto-exit when the trigger condition no longer holds.\n\n2. Make ghost re-admission freshness-aware and add momentum to p updates. Store eviction timestamps in B1/B2; on insert, if a ghost is fresh (age \u2264 0.5\u00d7capacity accesses), place into T2 and seed freq to 3 for B2 or 2 for B1, else place into T1 MRU and promote only on next hit. Scale the proportional p step by freshness (w in [1.0, 1.5]) and apply momentum: p_mom = 0.5\u00d7p_mom + sign\u00d7min(step, 0.25\u00d7cap); then p = clamp(p + p_mom, 0, cap), with a small cooldown (e.g., 10 accesses) between p updates.\n\n3. Add lightweight frequency aging and decay the admission guard to avoid stale bias. Use saturating 3-bit counters for _freq (cap at 7) and every capacity accesses halve all frequencies in-place (or via a lazy epoch scheme). At the same cadence, reduce _last_victim_strength by half so the LRU-placement guard quickly relaxes after phase shifts, preserving warm-up while keeping the current program\u2019s small-window LRFU benefits.\n\n4. Adapt eviction sampling sizes to segment pressure and recent dynamics while keeping the current scoring. Keep REPLACE unchanged, but set T1_SAMPLE=1 when len(T1) > p + 0.1\u00d7cap or in scan_mode, else 2; set T2_SAMPLE=5 when len(T2) > cap \u2212 round(p) or the promotion rate over the last cap/2 accesses > 0.2, else 3 (drop to 2 when recent hit_rate < 0.2). Continue scoring candidates by (freq asc, timestamp asc) to retain the best program\u2019s balance.\n\n5. Split protected into warm and hot sub-segments to better retain truly hot items without over-protecting new promotions. Implement T2_warm and T2_hot (OrderedDict): promotion from T1 goes to T2_warm; a hit in T2_warm promotes to T2_hot; hits in T2_hot refresh recency. When REPLACE chooses T2, sample from T2_warm first; if T2_hot grows beyond 0.6\u00d7(cap \u2212 p), demote its LRU to T2_warm, and send evictions from either sub-segment to B2 as today.",
    "1. Activate and decay the admission guard window to avoid over-penalizing newcomers. Use _guard_until explicitly in update_after_insert: if now <= _guard_until, place newcomers at T1 LRU and require two touches before T2 promotion (outside of scan). Also decay _last_victim_strength every ~cap/2 accesses (halve it) and clear the guard early when _hit_ewma rebounds (>0.25), addressing the \u201cunused guard\u201d issue and preventing prolonged cold-start suppression.\n\n2. Split T2 into warm and hot sub-segments to better retain truly hot items without over-protecting new promotions. Implement _T2_warm and _T2_hot (OrderedDict): T1 hit -> T2_warm; T2_warm hit -> T2_hot; hits in T2_hot refresh recency. In REPLACE, when evicting from T2, sample from T2_warm first; if T2_hot exceeds 0.6\u00d7(cap \u2212 round(p)), demote its LRU to T2_warm. Send evictions from either to B2, preserving ARC accounting.\n\n3. Add cooldown and friction to momentum-based p updates to stabilize adaptation. Use _p_last_update_tick to throttle adjustments: only apply _adjust_p if now \u2212 _p_last_update_tick \u2265 cap//20 (or unthrottled on ghost hits), and reduce per-step bound to 0.15\u00d7cap. Introduce sign-flip friction: if sign of update opposes current _p_momentum, zero momentum and apply half-sized step, which curbs overshoot while preserving the current proportional/momentum benefits.\n\n4. Enrich ghosts with a lightweight frequency snapshot and ratio-aware trimming. Store (evict_ts, freq_snapshot) in B1/B2; on ghost hits, seed _freq[key] = min(FREQ_MAX, max(freq_snapshot, 2 for B1, 3 for B2)) and decide readmission (fresh -> T2, stale -> T1) as today. Dynamically bound B1/B2 by p: enforce len(B1) \u2264 2\u00d7round(p) and len(B2) \u2264 2\u00d7(cap \u2212 round(p)); when over, trim the more overweight list first (pop LRU), improving responsiveness to churn.\n\n5. Make scan detection stricter and add a cool-off ramp-out. Keep the current EWMA trigger, but add a ring buffer of size W = cap that tracks per-access hit (1/0) and \u201cnew-to-history\u201d insert (1/0); enter scan_mode only when sum(new)/W > 0.7 and sum(hit)/W < 0.15 for the window. On exiting scan_mode, gradually restore p toward its pre-scan baseline using a slow EMA (e.g., every 20 accesses: p = 0.9\u00d7p + 0.1\u00d7p_baseline) and disable two-touch outside scans immediately, preventing lingering T1 bias after scans.",
    "1. Make ghost-driven p-updates and readmission continuously freshness-weighted and scan-aware. Replace the binary \u201cfresh\u201d check with w = max(0, 1 \u2212 age/fresh_window) and scale the step as step_scaled = step \u00d7 (1 + 2w); admit to T2 if w \u2265 0.5 else T1. Seed _freq[key] = max(_freq.get(key, 0), 1 + round(4w)); during scans, damp B1-driven increases (multiply step by 0.5) and amplify B2-driven decreases (\u00d71.2) to curb scan pollution while preserving momentum responsiveness.\n\n2. Tighten scan handling by disabling cross-segment overrides and accelerating aging while the scan window is active. Inside the scan window (now \u2264 _scan_until), skip the cross-segment victim override and always evict from T1 when non-empty; also double the aging cadence (age every max(1, _cap_est // 2) accesses) to shed stale frequency faster. Adapt _EWMA_ALPHA on-the-fly: set alpha = 0.15 when (_ins_ewma > 0.7 and _hit_ewma < 0.15), else 0.05, to trigger scans sooner and exit more cleanly.\n\n3. Use sampled LRFU for protected demotion instead of strict LRU in _demote_protected_if_needed. When T2 exceeds its target, sample the first 3\u20134 LRU entries from _T2_protected and demote the coldest by (freq asc, timestamp asc), keeping O(1) behavior. Optionally apply a small protected floor floor_T2 = int(0.1 \u00d7 (cap \u2212 round(p))) to avoid emptying T2 during transient p swings.\n\n4. Make two-touch promotion time-bounded to respect reuse distance. Require the second touch to arrive within fresh_window to promote from T1 to T2; if the second touch arrives later, reset _freq[key] = 1 and keep it in T1 MRU. Apply this stricter rule only when (_hit_ewma < 0.25) or len(T1) > round(p) to avoid starving warm-up outside poor-locality phases.\n\n5. Adapt the freshness window dynamically from ghost reuse distances. Maintain a rolling sample (size \u2248 cap) of recent ghost eviction ages and set fresh_window = clamp(median_age, 0.25\u00d7cap, 1.0\u00d7cap); recompute every cap accesses. Use this adaptive fresh_window for both ghost re-admission decisions and the time-bounded two-touch window, aligning the freshness sensitivity to the observed workload rather than a fixed ratio.",
    "1. Make ghost-driven p-updates and readmission continuously freshness-weighted and scan-aware. Compute w = max(0, 1 \u2212 age/fresh_window) from stored eviction timestamps, scale the step as step *= (1 + 2w), and admit to T2 if w \u2265 0.5 else T1. Seed frequency on readmission as _freq[key] = max(_freq.get(key, 0), 1 + round(4w)); during active scans, damp B1-driven increases by \u00d70.5 and amplify B2-driven decreases by \u00d71.2 to curb scan pollution while preserving the momentum logic.\n\n2. Tighten scan handling by disabling cross-segment overrides and accelerating aging while the scan window (or guard window) is active. Inside the scan window (now \u2264 _scan_until) or while now \u2264 _guard_until, skip the cross-segment victim override and always evict from T1 when non-empty; also double the aging cadence (age every max(1, _cap_est // 2) accesses). Switch EWMA adaptively: set _EWMA_ALPHA = 0.15 when (_ins_ewma > 0.7 and _hit_ewma < 0.15), else 0.05, so scans are detected sooner and exited cleanly.\n\n3. Use sampled LRFU for protected demotion with a small protected floor. In _demote_protected_if_needed, sample the first 3\u20134 LRU entries from _T2_protected and demote the coldest by (freq asc, timestamp asc) instead of strict LRU; add a floor floor_T2 = int(0.1 \u00d7 (cap \u2212 round(p))) so transient p swings don\u2019t drain T2 entirely. This preserves genuinely hot items while allowing colder protected entries to flow back to probation under pressure.\n\n4. Make two-touch promotion time-bounded to respect reuse distance. Require the second touch to arrive within fresh_window to promote from T1 to T2; if the second touch arrives later, reset _freq[key] = 1 and keep it in T1 MRU. Apply this stricter rule only when (_hit_ewma < 0.25) or len(T1) > round(p), keeping the current eager promotions during warm-up and high-locality phases.\n\n5. Adapt the freshness window dynamically from observed ghost reuse distances and use it universally. Maintain a rolling sample (size \u2248 cap) of recent ghost eviction ages and set fresh_window = clamp(median_age, 0.25\u00d7cap, 1.0\u00d7cap), recomputing every cap accesses. Use this adaptive fresh_window both for ghost readmission decisions (and p step scaling via w) and for the time-bounded two-touch window, aligning freshness sensitivity to the workload\u2019s current reuse profile.",
    "1. Make ghost-driven p-updates and readmission fully freshness-weighted and scan-aware. Compute w = max(0, 1 \u2212 age/fresh_window) for B1/B2 hits, scale the step as step *= (1 + 2w), and, during active scans, damp B1-driven increases by \u00d70.5 and amplify B2-driven decreases by \u00d71.2 in _adjust_p. Gate readmission by freshness: if w \u2265 0.5, admit to _T2_protected with _freq[key] = max(_freq.get(key, 0), 1 + round(4w)); else admit to _T1_probation MRU and start two-touch timer.\n\n2. Adapt the freshness window and scan responsiveness dynamically. Maintain a rolling sample (size \u2248 _cap_est) of recent ghost eviction ages and set fresh_window = clamp(median_age, 0.25\u00d7_cap_est, 1.0\u00d7_cap_est), recomputing every _cap_est accesses; use this for both ghost handling and the two-touch window. While now \u2264 _scan_until or _guard_until, set _EWMA_ALPHA = 0.15 (else 0.05) and accelerate aging by calling _maybe_age at half the normal interval (every max(1, _cap_est // 2)) to shed stale frequency faster during scans.\n\n3. Strengthen time-bounded two-touch only when gating is active, and reset stale frequency on late second touches. When require_two_touch is true and (now \u2212 first_ts) > fresh_window, keep the key in _T1_probation MRU and aggressively reset _freq[key] = 1 so old phase frequency doesn\u2019t force protection. Preserve current eager promotions when (_hit_ewma \u2265 0.25) and len(_T1_probation) \u2264 round(_p_target) to avoid the under-promotion failures seen in conservative SLRU/TinyLFU variants.\n\n4. Stabilize protected demotion with a dynamic floor and smarter sampling, and tighten cross-segment overrides. Set the protected floor to 10% of capacity normally, raising to 15% when _hit_ewma > 0.35, and pick demotion victims from a 3\u20135 key LRFU sample, demoting only those with freq \u2264 median(sample) to avoid draining genuinely hot items; also give freshly re-admitted-from-ghost keys immunity from demotion for fresh_window accesses (track a small \u201cno_demote_until[key]\u201d). For cross-segment overrides in evict(), increase min_seg when segments are small (e.g., min_seg = max(1, int(0.2\u00d7_cap_est), int(0.5\u00d7min(len(_T1_probation), len(_T2_protected))))), and require a stricter frequency margin during poor locality by setting _CROSS_EVICT_FREQ_MARGIN = 1 when _hit_ewma < 0.2.\n\n5. Refine momentum-based p adaptation with sign-sensitive decay and per-source coefficients. Use a higher momentum factor for ghost-forced updates (e.g., \u03b2_ghost = 0.7) and a lower one for cooldowned non-ghost nudges (\u03b2_bg = 0.3); when the adjust sign flips (from + to \u2212 or vice versa), decay _p_momentum by 50% to curb overshoot. Scale non-ghost step size by locality signal, e.g., step_bg = k \u00d7 (_ins_ewma \u2212 _hit_ewma) \u00d7 _cap_est (clamped to 0.25\u00d7_cap_est), to respond faster when scans dominate and back off when hit rates recover.",
    "1. Add sign-sensitive momentum and stronger freshness-weighted ghost steps for p. Track last sign of adjustment and halve _p_momentum on sign flips; use \u03b2_ghost=0.7 for forced (ghost) updates and \u03b2_bg=0.3 for cooldowned background nudges inside _adjust_p. At call sites, scale step by w=freshness (step *= 1 + 2w), and make scan-aware: damp B1-driven increases by \u00d70.5 and amplify B2-driven decreases by \u00d71.2 when now \u2264 _scan_until.\n\n2. Implement freshness-tiered ghost readmission with a fast-promotion grace window. Compute w per ghost hit using a per-ghost window (see Rec 4), then: if w \u2265 0.66 admit to _T2_protected and seed _freq = max(_, 1 + round(4w)); if 0.33 \u2264 w < 0.66 admit to _T1_probation MRU and set _fast_promote_until[key] = now + fresh_window to bypass two-touch once; else place at T1 LRU with normal two-touch. In update_after_hit, if key in T1 and now \u2264 _fast_promote_until.get(key,0), promote immediately to T2 and clear the flag.\n\n3. Stabilize protected demotion with sample-median guard and no-demote shielding. In _demote_protected_if_needed, sample 4\u20135 LRU candidates, compute median(freq) and median(age), and only demote if the chosen candidate has freq \u2264 median_freq and age \u2265 median_age; otherwise stop demoting this cycle. Add _no_demote_until dict and, on promotions and fresh ghost readmissions, set _no_demote_until[key] = now + fresh_window to skip demotion checks for those keys during their grace period.\n\n4. Make freshness windows and decay adaptive per-ghost and during scans. Maintain rolling deques of the last ~cap ghost eviction ages per list and set fresh_window_B1/B2 = clamp(median_age, 0.25\u00d7cap, 1.0\u00d7cap), recomputed every cap accesses; use the appropriate window when computing w for B1/B2 hits and for two-touch timing. When now \u2264 _scan_until or _hit_ewma < 0.2, set _EWMA_ALPHA = 0.15 and run _maybe_age at 2\u00d7 frequency (every cap//2), additionally decrement _freq by 1 for the bottom 10% of T2 tail each cycle to shed stale protection faster.\n\n5. Tighten cross-segment override with dynamic min_seg and ghost-ratio gating. Replace the fixed min_seg with min_seg = max(1, int(0.2\u00d7cap), int(0.5\u00d7min(len(_T1_probation), len(_T2_protected)))) and require a stronger margin when locality is poor: use _CROSS_EVICT_FREQ_MARGIN = 2 if _hit_ewma < 0.2. Also disable overrides when recent B2 ghost hits outnumber B1 (e.g., ratio > 1.2 over the last cap accesses), to avoid draining genuinely hot T2 during phase changes.",
    "1. Add sign-sensitive momentum with scan-aware ghost scaling for p-updates\n   - Track _p_last_sign and on a sign flip halve _p_momentum to damp oscillation; update momentum with different betas: \u03b2_ghost=0.7 for forced ghost hits, \u03b2_bg=0.3 for cooldowned background nudges. Scale step by freshness w (step *= 1 + 2w), and when now \u2264 _scan_until damp B1-driven increases by \u00d70.5 and amplify B2-driven decreases by \u00d71.2 to bias toward shrinking T1 during scans.\n\n2. Implement freshness-tiered ghost readmission with a fast-promotion grace window\n   - Compute w per ghost hit using per-list adaptive fresh_window (see Rec 4): if w \u2265 0.66, admit directly to _T2_protected and seed _freq = max(curr, 1 + round(4w)); if 0.33 \u2264 w < 0.66, admit to _T1_probation MRU and set _fast_promote_until[key] = now + fresh_window; else place at T1 LRU. In update_after_hit, if key in T1 and now \u2264 _fast_promote_until.get(key, 0), promote immediately to T2 and clear the flag.\n\n3. Stabilize protected demotion using a sample-median guard and no-demote shielding\n   - In _demote_protected_if_needed, sample 4\u20135 LRU candidates, compute median(freq) and median(age), and only demote if the chosen candidate has freq \u2264 median_freq and age \u2265 median_age; otherwise stop demoting this cycle. Add _no_demote_until and, on promotions and fresh ghost readmissions, set _no_demote_until[key] = now + fresh_window to skip demotion checks for those keys during their grace period.\n\n4. Make freshness windows and aging adaptive; accelerate staleness shedding during scans/poor locality\n   - Maintain rolling deques (size min(cap, 512)) of the last ghost eviction ages for B1/B2 and set fresh_window_B1/B2 = clamp(median_age, 0.25\u00d7cap, 1.0\u00d7cap), recomputed every cap accesses; use the appropriate window when computing w and shield spans. When now \u2264 _scan_until or _hit_ewma < 0.2, raise _EWMA_ALPHA to 0.15, call _maybe_age at 2\u00d7 rate (every cap//2), and decrement _freq by 1 for the bottom 10% of the T2 tail each cycle (dropping entries at 0) to shed stale protection faster.\n\n5. Tighten cross-segment override with dynamic min_seg and ghost-ratio gating\n   - Replace the fixed min_seg with min_seg = max(1, int(0.2\u00d7cap), int(0.5\u00d7min(len(_T1_probation), len(_T2_protected)))) and require a stronger margin when locality is poor: set _CROSS_EVICT_FREQ_MARGIN = 2 if _hit_ewma < 0.2. Track recent B1/B2 ghost hits in ring buffers of length cap and disable cross-segment overrides when recent B2 hits outnumber B1 by >1.2\u00d7 to avoid draining genuinely hot T2 during phase changes."
  ],
  "total_programs_meta_processed": 100
}
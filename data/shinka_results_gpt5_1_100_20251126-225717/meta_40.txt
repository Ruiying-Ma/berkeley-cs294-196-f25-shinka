# INDIVIDUAL PROGRAM SUMMARIES

The following are summaries of individual programs evaluated since the last meta update:

**Program Name: Timestamp-based LRU Cache Eviction**
- **Implementation**: Maintains a global map of last-access timestamps (via cache_snapshot.access_count) per key and evicts the cached key with the minimum timestamp, breaking ties by cache iteration order. Metadata is updated on hits/inserts by setting the timestamp and removed on eviction.
- **Performance**: Combined score 0.21 across 48 traces, with hit rates ranging from 0.0000 to 0.8680.
- **Feedback**: Behaves as a classic LRU—strong on temporal locality, weak on scans or oversized working sets. Eviction is O(n) due to scanning timestamps and has arbitrary tie-breaking, which can slightly affect consistency across workloads.
**Program Identifier:** Generation 0 - Patch Name initial_program - Correct Program: True

**Program Name: Segmented LRU with Probation/Protected**
- **Implementation**: Two-segment LRU with a 66% protected partition and probation preferred for eviction; LRU victims are chosen by timestamp among in-cache keys. On hit, items in probation are promoted to protected, and the protected LRU is demoted when over capacity; timestamps use access_count and a legacy ledger is maintained.
- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging 0.0–0.875 (strong on locality-heavy traces 27/28/34/38, weak on scan-like 13–16/32).
- **Feedback**: Probation-first eviction and promotion-on-second-touch effectively preserve re-referenced items. However, the static 66/34 split, lack of probation trimming/dynamic adaptation, and auto-protect on metadata misses can lead to pollution and poor results on scans or rapidly shifting workloads.
**Program Identifier:** Generation 1 - Patch Name slru_promotion_with_demotions - Correct Program: True

**Program Name: Decayed LFU with Ghost Bias**
- **Implementation**: Uses exponential decay of per-key frequency with a capacity-scaled half-life (~1.5× capacity), lazy score refresh on hits, and evicts the minimum decayed score with LRU tiebreak; a bounded ghost history boosts admission (base 1.2 vs 0.3) for recently evicted keys.
- **Performance**: Combined score 0.23 across 48 traces, with hit rates spanning 0.0000–0.8778.
- **Feedback**: Strong on locality-rich/recurring workloads but weak on scans and one-hit streams; tuning the half-life and admission base, or clearing ghost entries on re-admission, could reduce pollution and improve low-rate traces.
**Program Identifier:** Generation 2 - Patch Name decaylfu_ghost - Correct Program: True

**Program Name: ARC-based cache eviction**
- **Implementation**: Implements ARC with T1/T2 (resident) and B1/B2 (ghost) as OrderedDict LRU lists, plus a global arc_p target for T1 size. Eviction follows ARC’s replace() rule with ghost-informed adaptation, stale-key cleanup, and ghost lists bounded to 2×capacity.
- **Performance**: Combined score 0.13 across 48 traces, with hit rates ranging from 0.0 to 0.62 (strong on several high-locality traces, weak on others).
- **Feedback**: arc_p is adapted on ghost hits in both evict and update_after_insert, likely double-adjusting and destabilizing the target; consolidating adaptation to a single step would improve control. Missing full ARC capacity/ghost invariant handling may limit robustness, though ghost tracking and T1→T2 promotion provide clear benefits on frequency-friendly workloads.
**Program Identifier:** Generation 3 - Patch Name arc_adaptive_reuse - Correct Program: True

**Program Name: Adaptive SLRU with dynamic protected fraction**
- **Implementation**: Two-segment SLRU using OrderedDicts tracks probation (seen-once) and protected (hit-promoted) with LRU ordering; eviction prefers probation LRU, while rebalancing demotes protected LRU to meet a target protected fraction. The protected fraction adapts by ±0.02 (bounded 0.05–0.95), increasing on promotion hits and decreasing when evicting from protected; metadata is synced to the cache snapshot and stale entries are pruned.
- **Performance**: Combined score 0.23 over 48 traces; per-trace hit rates varied widely (0.0–0.8874), with strong results on locality-rich traces and weak results on low-reuse/scan workloads.
- **Feedback**: The scan-resistant probation-first eviction and promotion-on-hit help workloads with reuse, but small caches and scans suffer, partly due to integer-rounded protected targets and aggressive protected sizing. Global mutable state (segments and protected fraction) persists across runs, risking cross-trace contamination; reset metadata per run and consider gentler or workload-capped adaptation.
**Program Identifier:** Generation 4 - Patch Name slru_with_adaptive_protected_ratio - Correct Program: True

**Program Name: Segmented LRU (2Q-like) Eviction**
- **Implementation**: Maintains probationary and protected sets with per-key last-access timestamps; new inserts start in probation and are promoted to protected on first hit. Eviction chooses the oldest by timestamp, preferring probation; metadata is pruned to match the current cache.
- **Performance**: Combined score 0.23 over 48 traces (max 0.8874, min 0.0), strong on locality-heavy traces (e.g., 27: 0.7031, 28: 0.8874, 34: 0.7001, 38: 0.6342) but weak on many others.
- **Feedback**: Probation-first eviction provides scan resistance and benefits repeated-locality workloads, but no explicit segment sizing or ghost queues plus promote-on-first-hit can over-protect items, harming recency-heavy/churny traces. Using oldest-by-timestamp over sets (no true LRU queues) limits adaptation, reflected by numerous sub-0.1 hit rates.
**Program Identifier:** Generation 5 - Patch Name segmented_lru_2q - Correct Program: True

**Program Name: Adaptive Segmented LRU with ARC-style ghosts**
- **Implementation**: Two live segments (probation/protected) and two ghost lists (probation/protected) are tracked with per-key timestamps; the protected segment target size adapts via ghost hits and small promotion-driven increments. Eviction prefers the oldest in probation, then protected, with quota-enforced demotions and ghost lists trimmed to capacity.
- **Performance**: Combined score 0.22 across 48 traces, with hit rates ranging from 0.0000 to 0.8860 (strong on reuse-heavy traces, weak on many others).
- **Feedback**: Ghost feedback improves frequency sensitivity, but promoting unknown keys to protected and conservative adaptation can over-protect and reduce scan resistance, reflected in many low-hit traces. The set-based segments without strict per-segment LRU ordering may limit responsiveness compared to a full ARC implementation.
**Program Identifier:** Generation 6 - Patch Name adaptive_slru_arc_ghosts - Correct Program: True

**Program Name: Decayed LFU SLRU with Ghost Admission**
- **Implementation**: Uses exponentially decayed LFU scores (half-life ≈ 1.5×capacity) with lazy per-key updates and a two-segment SLRU (80% protected). Evicts LRU from probation (tiebreak by lower decayed score) or the lowest decayed score from protected; ghost history biases recent evictees to be reinserted with higher base score directly into protected.
- **Performance**: Combined score 0.24 over 48 traces; strong on locality-heavy traces (peaks up to 0.8872) but many traces remain low (≈0–0.1).
- **Feedback**: Large protected ratio plus ghost-biased admission benefits bursty/repeating workloads but hurts scans and fast churn. Capacity-scaled half-life and demotion by last_update may overprotect stale items; tuning protected ratio/half-life or tightening admission could improve robustness.
**Program Identifier:** Generation 7 - Patch Name slru_with_freq_tiebreak_and_ghost_bias - Correct Program: True

**Program Name: Adaptive Segmented LRU with Ghost Histories**
- **Implementation**: Two-segment LRU (probation/protected) with ghost histories guides an adaptive protected ratio; metadata uses timestamped dicts, LRU victim selection scans segments, and ghosts are bounded to 2×capacity. Hits promote to protected, inserts default to probation unless seen in protected-ghost, and evictions feed corresponding ghosts to steer future ratio adjustments.
- **Performance**: Combined score 0.22; hit rates vary widely (0.00–0.88), strong on locality-rich traces (e.g., 0.8787) but weak on scan/high-churn workloads.
- **Feedback**: The initial protected bias (0.66) plus admitting metadata-miss hits to protected likely over-favors frequency, hurting scan resistance; the capacity-scaled adaptation step may be too slow to correct under rapid pattern shifts. Strengthening probation and faster ratio adjustment could improve low-locality cases without degrading reuse-heavy workloads.
**Program Identifier:** Generation 8 - Patch Name slru_adaptive_ghosts - Correct Program: True

**Program Name: Adaptive Segmented LRU with Ghost Histories**
- **Implementation**: ARC-inspired two-segment (probation/protected) LRU with ghost histories guides an adaptive protected ratio (clamped 0.1–0.9). Admissions send ghost hits directly to protected, hits promote probation→protected, demotions enforce segment caps, and eviction selects LRU within the chosen segment based on ghost hints or target sizes; ghost lists are bounded at 2× capacity.
- **Performance**: Combined score 0.24, with high hit rates on repetition-heavy traces (peaks ~0.87) but poor on scan/one-timer workloads (down to 0.0–0.1).
- **Feedback**: The strong frequency bias (initial 0.66 plus promotions and protected-on-ghost admission) benefits reuse-heavy patterns but weakens scan resistance; moderating protected bias or refining admission could improve balance. LRU-in-cache victim selection and ghost trimming are safe, though metadata/cache divergence triggers a fallback victim choice that may be suboptimal.
**Program Identifier:** Generation 9 - Patch Name adaptive_slru_ghost_guided - Correct Program: True

**Program Name: Adaptive Segmented LRU with Ghost Feedback**
- **Implementation**: Two-segment LRU (probation/protected) with per-key timestamps, ARC-style ghost lists for both segments, and an adaptive protected-size target that adjusts on ghost hits; eviction prefers the oldest probation member, falling back to the oldest protected when needed. Promotions on hit move keys from probation to protected and slightly increase the protected target; ghost hits adjust the target by a capped step and ghosts are trimmed to capacity.
- **Performance**: Achieved a combined score of 0.22 over 48 traces, with hit rates ranging from 0.0000 to 0.8860 (notably strong on traces 27/28/34/38, weak on several scan-like workloads).
- **Feedback**: Allowing eviction from protected when probation is empty and auto-protecting keys on metadata misses can reduce frequency benefits and cause churn; tightening protected no-evict behavior or stricter probation membership could help. Ghost-based adaptation works but the small step size may react slowly to rapid workload shifts.
**Program Identifier:** Generation 10 - Patch Name arc_light_2q_with_ghosts - Correct Program: True

**Program Name: Adaptive ARC-LRFU Cache with Ghost Feedback**
- **Implementation**: Two-segment (probation/protected) design with ARC-style ghost caches guiding an adaptive protected quota. Eviction uses an LRFU-like score (decayed LFU minus age/cap) with periodic exponential decay, quota enforcement, and frequency seeding from ghost history.
- **Performance**: Combined score 0.23 across 48 traces; hit rates vary widely from near-zero (e.g., traces 14, 32) to high (up to 0.887 on trace 28).
- **Feedback**: Excels on recurring/frequency-heavy workloads (e.g., traces 27, 28, 34, 38), showing benefits from promotions and ghost-informed seeding. Underperforms on scan/low-locality or rapidly shifting phases, suggesting the need for stronger scan resistance or more aggressive decay/rebalancing of protected quota.
**Program Identifier:** Generation 11 - Patch Name arc_lrfu_hybrid_with_decay - Correct Program: True

**Program Name: Adaptive ARC-like SLRU Cache**
- **Implementation**: Two SLRU segments (T1 probation, T2 protected) plus ghost histories (B1/B2) using OrderedDicts; adaptive p_target biases eviction (LRU from T1 if T1 > p or T2 empty, else from T2), with ghost-hit driven p adjustments and a global-LRU fallback via access-count timestamps. Hits promote T1→T2 or refresh T2; inserts go to T1 unless found in ghosts (then to T2); ghost lists are trimmed to capacity.
- **Performance**: Combined score 0.24 across 48 traces, peaking on locality-heavy workloads (up to 0.8915) but weak on scan-like traces (several below 0.06).
- **Feedback**: Absence of ARC-style replacement/demotion on insert and reliance on fallback (from occasional metadata desync) likely reduce robustness on streaming patterns; p initialized at 0.3 with coarse step updates can mis-bias segment balance on volatile workloads. Enforcing segment sizes against p during insert/replacement and minimizing fallback dependency would likely improve stability and throughput.
**Program Identifier:** Generation 12 - Patch Name arc_srlu_hybridadapt - Correct Program: True

**Program Name: HeatGuard SLRU-F with decayed LFU and ghosts**
- **Implementation**: Two SLRU segments (probation/protected) with adaptive quota via ARC-like ghost lists; eviction picks the min-heat item where heat blends lazily decayed LFU and age with segment-aware weights. Hits promote to protected and raise its target; demotion enforces the target, and admission seeds scores using ghost status and last-victim merit to curb pollution.
- **Performance**: Combined score 0.23 across 48 traces; strong on reuse-heavy traces (peaks up to 0.887) but many traces are very low (several <0.06, including one at 0.0000).
- **Feedback**: Ghost feedback and promotion stabilize multi-reuse performance, but the aggressive admission guard and capacity-tied decay with small adjust_step can under-admit newcomers and adapt slowly, hurting scan/bursty workloads. Consider relaxing down-seeding, shortening the decay horizon, or increasing the target-adjust step for faster responsiveness.
**Program Identifier:** Generation 13 - Patch Name heatguard_slruf - Correct Program: True

**Program Name: ARC-informed Segmented LRU**
- **Implementation**: Two-segment LRU (probation/protected) tracked via per-key timestamps and sets; evicts oldest probation unless protected exceeds an adaptive target, then evicts oldest protected. ARC-style ghost lists adjust the protected target (±step) on ghost hits, with promotions on hit and metadata cleanup to mirror cache contents.
- **Performance**: Combined score 0.22 across 48 traces, with hit rates spanning 0.0–0.8869, strong on reuse-heavy traces and weaker on sparse/scan-dominated workloads.
- **Feedback**: Ghost feedback and target-aware evictions improved scan resistance and rewarded reuse, but monotonic target nudges on every hit and set-based LRU (timestamp min) can over-protect and misorder recency, hurting low-reuse or long-tail traces. Consider finer-grained target control and true per-segment LRU ordering to stabilize behavior across workloads.
**Program Identifier:** Generation 14 - Patch Name slru_arc_guard - Correct Program: True

**Program Name: Adaptive SLRU with TinyLFU and Ghosts**
- **Implementation**: Two-segment SLRU (probation/protected) with an adaptive protected fraction, guided by decayed frequency counters to choose between evicting probation vs protected LRU. Segment-aware ghost histories re-admit recent protected evictions directly to protected; periodic aging ties decay to capacity, with continuous metadata sync and rebalancing.
- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged from 0.0000 to 0.8874 (strong on traces 27/28/34/38, weak on 14/32).
- **Feedback**: Excels on locality-rich workloads with repeated reuse, but struggles on scans/low-reuse streams where the protected-heavy default and conservative frequency threshold can over-protect or adapt slowly. Ghost-protected improves quick re-admission, but ghost-probation isn’t used for admission decisions, and capacity-tied decay may be mis-tuned for certain trace dynamics.
**Program Identifier:** Generation 15 - Patch Name slru_ghost_tiny_admission - Correct Program: True

**Program Name: Hybrid ARC+TinyLFU Cache Eviction**
- **Implementation**: Two-segment ARC-style cache with ghost lists and decayed LFU; eviction priority blends frequency, age scaled by capacity, and a protected bonus. Windowed adaptivity adjusts protected target, decay half-life, and a scan mode (two-touch promotion), with proactive protected cooling and a last-victim–based admission guard.
- **Performance**: Combined score 0.22 across 48 traces, peaking at 0.87 hit rate on locality-heavy traces but falling to near 0 on scan/unique-heavy workloads.
- **Feedback**: Ghost-driven adaptation and frequency seeding capture reuse well, but long windows (~5×capacity), capped cooling (2 demotions/call), and a strong admission guard after high-score evictions likely slow reaction to churn and penalize newcomers. Shorter windows, more aggressive cooling, and tempered guard thresholds could improve robustness on scans and mixed workloads.
**Program Identifier:** Generation 16 - Patch Name hybrid_arc_tinylfu_sentry - Correct Program: True

**Program Name: Adaptive ARC-like SLRU with ghost history**
- **Implementation**: Implements an ARC-like two-segment SLRU (T1 probation, T2 protected) with B1/B2 ghost lists and a float p_target controlling T1 size. Eviction follows ARC’s REPLACE rule and uses small LRU-window sampling ranked by per-key frequency and timestamp; admission is guarded by last-victim “strength,” with fallback global LRU timestamps.
- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.0000–0.8915, with several mid-0.5 results and a few strong 0.64–0.89 cases.
- **Feedback**: The adaptive p and promotion rules perform well on recurrent/locality-heavy workloads but show near-zero hits on several scan/low-locality traces, suggesting over-penalization of newcomers. Tuning p step sizes, the admission guard threshold, and sampling depth could improve robustness and reduce oscillations.
**Program Identifier:** Generation 17 - Patch Name arc_srlu_tiny_guard_sampling - Correct Program: True

**Program Name: Adaptive ARC-LRFU Cache**
- **Implementation**: Segmented LRU (probation/protected) with ARC-style ghost lists adapts the protected quota; eviction uses an LRFU-like priority combining decayed frequency and recency. A rolling window tunes scan-mode (two-touch promotions), decay interval, admission bias (victim-strength-aware), proactive cooling, and ghost-strength seeding, with ghost lists bounded to capacity.
- **Performance**: Combined score 0.22 across 48 traces; strong on reuse-heavy traces (up to 0.87) and moderate on several (~0.44–0.54), but near-zero on many scan/large-unique workloads.
- **Feedback**: Ghost feedback plus decayed-LFU preserves frequent items well, but conservative scan guard and admission seeding can under-admit during high-uniqueness phases, causing collapses on traces 11–19 and 29–33. Easing two-touch promotion, retuning window thresholds, and less aggressive protected shrinkage may improve robustness.
**Program Identifier:** Generation 18 - Patch Name arc_slfu_guard_v2 - Correct Program: True

**Program Name: SLRU with Two-Touch Promotion and Quota**
- **Implementation**: Implements a two-segment SLRU/2Q hybrid: new items enter probation, promote on hit (two-touch when protected ≥ target), with per-key timestamps for LRU and demotion to maintain a 50% protected quota. Eviction prefers the oldest in probation; if protected exceeds target, evicts its oldest; metadata is cleaned and probation-hit counters guide promotions.
- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from 0.0 to 0.8684 (e.g., 0.8684 on trace_28, near-zero on multiple traces).
- **Feedback**: Two-touch gating and quota enforcement reduce pollution and work well on reuse-heavy traces (e.g., 27, 28, 34, 38). A fixed 50% protected target and no ghost/adaptive tuning likely impair scan/low-reuse workloads, leading to many near-zero results.
**Program Identifier:** Generation 19 - Patch Name slru_quota_two_touch_promotion - Correct Program: True

**Program Name: Scan-aware ARC with TinyLFU sampling**
- **Implementation**: Hybrid ARC with T1/T2 live sets and B1/B2 ghosts, adaptive target p updated with momentum; TinyLFU-like saturating counters (aged every capacity window) guide a sampled-LFU victim choice from T2. A sliding-window scan detector gates promotions (two-touch in scans) and inserts probation entries at LRU to limit pollution; metadata is kept in sync with cache via OrderedDict-based LRU lists and ghost bounding.
- **Performance**: Combined score 0.23 across 48 traces, with highs up to 0.8694 (e.g., traces 27/28/34) but several very low or zero-hit cases (e.g., trace 14) and many in the 0.02–0.13 range.
- **Feedback**: Frequency-guided T2 eviction and momentum-smoothed p help on workloads with repeated reuse, but scan-mode gating and LRU insertions can over-churn T1 and under-protect hot items on diverse/streaming traces. Segment balance is not strictly enforced and _sync_segments can inflate T1, suggesting benefits from tighter T1/T2 size control, tuned scan window/thresholds, and deeper T2 sampling.
**Program Identifier:** Generation 20 - Patch Name arc_tinylfu_scan - Correct Program: True

**Program Name: Decayed-LFU SLRU with Ghost Bias**
- **Implementation**: Uses capacity-scaled exponential decay LFU scores with SLRU segments (probation/protected); evicts from probation by LRU with frequency tiebreak, and from protected by lowest decayed score with age tiebreak. ARC-like ghost histories bias readmission and adapt the protected ratio with momentum, while a sliding-window scan detector suppresses promotions/admissions during scans.
- **Performance**: Combined score 0.22; hit rates ranged 0.0000–0.8730 across 48 traces, with strong results on locality-heavy traces but many low/near-zero cases.
- **Feedback**: The frequency decay plus SLRU/ghost feedback helps recurring workloads, but high-churn/scan traces still thrash despite scan gating, producing near-zero hits on multiple traces. Consider tuning half-life, promotion thresholds, and protected ratio bounds to improve robustness under scans and rapid churn.
**Program Identifier:** Generation 21 - Patch Name slru_dlfu_scan_arcblend - Correct Program: True

**Program Name: ARC+SLRU with TinyLFU and scan-guard**
- **Implementation**: Two-segment SLRU (probation/protected) with ARC-style ghost histories and p-target adaptation using momentum, plus TinyLFU-like decayed frequency counters and a sliding-window scan detector. Metadata is maintained via OrderedDict LRU order, periodic epoch aging, ghost trimming, and proactive p-adjustment on ghost hits.
- **Performance**: Combined score 0.0; the program fails validation tests.
- **Feedback**: The heavy use of module-level global state and on-the-fly metadata syncing likely causes state leaks across runs and desynchronization with the cache, leading to incorrect behavior. Stabilizing initialization/reset of globals per trace and ensuring strict API contract adherence for eviction/admission would be needed to make the approach viable.
**Program Identifier:** Generation 22 - Patch Name arc_tinylfu_srlu_scan_momentum - Correct Program: False

**Program Name: Adaptive SLRU with TinyLFU and scan detection**
- **Implementation**: Segmented LRU with probation/protected lists, ARC-like ghost histories to adapt the protected fraction, and TinyLFU-style decayed frequency using epochs tied to capacity. Victim selection samples the oldest few entries from each segment and evicts the lowest decayed-frequency key, preferring probation; scan detection suppresses promotion/admission to protected and tunes the partition.
- **Performance**: Combined score 0.23 across 48 traces, with strong results on locality-heavy traces (up to 0.8805) but near-zero hit rates on several scan/large-working-set traces.
- **Feedback**: The high default protected fraction (0.8) biases toward retained reuse and helps on loops but hurts scan-like workloads despite the detector, leading to many low-hit traces. Ghost-driven adaptation and sampling work, but scan detection’s window/thresholds and conservative decay/promote policies appear slow to respond, causing transient over-protection and churn.
**Program Identifier:** Generation 23 - Patch Name slru_tinylfu_scan_arc_mix - Correct Program: True

**Program Name: ARC+SLRU with Momentum and Scan Detection**
- **Implementation**: Combines ARC’s T1/T2 resident sets with B1/B2 ghost lists, adapting the T1 target p via momentum and ghost freshness. Adds Tiny-LFU counters with periodic aging, a sliding-window scan detector that raises promotion thresholds and biases evictions toward T1, and LRU maintenance via OrderedDicts.
- **Performance**: Combined score 0.0; the program failed validation tests.
- **Feedback**: Failures suggest API/logic mismatches, likely from persistent global state across runs and aggressive direct T2 admission plus scan-mode p tuning that can desynchronize metadata from residency. Reset state per run, avoid direct protection on insert, ensure evict always returns a resident key, and simplify/stabilize p updates to meet validation constraints.
**Program Identifier:** Generation 24 - Patch Name arc_srlu_momentum_scan - Correct Program: False

**Program Name: CLOCK-Pro with scan and ghost adaptation**
- **Implementation**: Maintains a single CLOCK order (OrderedDict) with per-key reference bits and a hot/cold split; eviction clears ref bits, demotes hot→cold, and evicts the first cold with ref=0 found by sweeping. Uses a bounded ghost history to bias admission/promotion and tune a dynamic hot_target, plus a sliding-window scan detector that shrinks hot_target and requires two touches before promotion during scans.
- **Performance**: Combined score 0.21 across 48 traces, with hit rates ranging 0.0000–0.8732 (strong on locality-rich workloads, weaker on scan-heavy or low-reuse traces).
- **Feedback**: Ghost-guided adaptation boosts recurring-key performance, but a bug prevents shrinking hot_target when a hot page is evicted (the item is removed from the hot set before the check), limiting corrective feedback under pressure. The scan response (hot_target ≈10% and two-touch promotion) reduces scan pollution but can be over-conservative, suppressing beneficial promotions and contributing to very low hit rates on several traces.
**Program Identifier:** Generation 25 - Patch Name clock_pro_plus - Correct Program: True

**Program Name: Adaptive SLRU with ARC Ghosts and Two-Touch**
- **Implementation**: Two-segment SLRU (probation/protected) with timestamps for LRU order, conditional two-touch promotion when protected meets/exceeds a dynamic target, and ARC-style ghost lists that adjust the protected quota (step = max(1, cap//32)); protected overflow is demoted to probation and victims are chosen from probation first unless protected is oversized. Ghost lists are bounded to capacity and the target is nudged upward on successful reuse.
- **Performance**: Combined score 0.22 across 48 traces; hit rates range from 0.0000 to 0.8769 with strong results on several high-locality traces but many low/near-zero cases.
- **Feedback**: The two-touch gating and ghost-driven adaptation favor frequency and limit pollution, helping on repetitive/locality-heavy workloads, but the quota tuning (step size and +1 nudges) appears mis-calibrated for scan-like or rapidly shifting workloads, causing underperformance. Consider refining adaptation aggressiveness and promotion thresholds to better handle scans and diverse working sets.
**Program Identifier:** Generation 26 - Patch Name slru_arc_guard - Correct Program: True

**Program Name: SLRU with ARC ghosts and two-touch promotion**
- **Implementation**: Segmented LRU with probation/protected sets, a quota-managed protected segment initialized at 50% capacity, and conditional two-touch promotion when protected is at/over target; protected LRU is demoted to maintain the quota. Eviction prefers probation but uses an age-aware override to evict very stale protected entries; ARC-style ghost histories (limited to 2× capacity) adjust the protected target by ±cap/16 on re-reference, with timestamps based on access_count.
- **Performance**: Combined score to maximize: 0.20 across 48 traces, with hit rates ranging from 0.0000 to 0.7842 (strong on some reuse-heavy traces, very low on scan-like ones).
- **Feedback**: Ghost-based target adaptation with small step size likely reacts too slowly to workload shifts, and the conservative two-touch promotion can depress hits under transient reuse. The age-aware override reduces protected pollution and enables high peaks, but broader consistency may require faster adaptation or relaxed promotion criteria.
**Program Identifier:** Generation 27 - Patch Name slru_arc_ageaware - Correct Program: True

**Program Name: Adaptive ARC with scan detection and SLFU**
- **Implementation**: Two-segment ARC-style cache (T1 probation, T2 protected) with ghost histories (B1/B2) and momentum-based p adjustment weighted by ghost freshness; scan detection via a sliding window (hits, unique rate) throttles promotion and biases evictions. Eviction samples the oldest 3–5 items in T2 scored by tiny saturating frequency (0–7) with periodic aging and fallback timestamps.
- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from 0.0 to 0.8872 (strong on locality-heavy traces, weak on many others).
- **Feedback**: The approach effectively shields multi-hit items and mitigates scans, evidenced by high rates on locality-rich traces. However, conservative scan-mode promotion and limited T2 sampling likely hinder warmup and mixed workloads, contributing to numerous near-zero traces; tuning window thresholds and admission/promotion rules may improve robustness.
**Program Identifier:** Generation 28 - Patch Name arc_slfu_scan_momentum - Correct Program: True

**Program Name: Adaptive ARC+SLRU with SLFU and scan guard**
- **Implementation**: Uses two SLRU segments (T1 probation, T2 protected) with ARC-style ghost lists and adaptive p_target; tiny saturating LFU counters with periodic aging guide T2 sampling-based eviction and promotions, while a sliding-window scan detector (hit/unique rates) suppresses promotions, lowers p, and biases evictions to T1. Includes capacity inference, ghost freshness gating for direct T2 admission, and a fallback global LRU timestamp map.
- **Performance**: Combined score 0.23 over 48 traces; hit rates ranged from 0.0 to 0.8876, with strong gains on locality/frequency-heavy traces (e.g., 0.8876, 0.7637, 0.7502) and very low results on several streaming/high-unique traces.
- **Feedback**: The ARC adaptation plus ghost freshness gating and SLFU-guided T2 sampling help on reusable/locality workloads, reflected in high-hit traces. However, the scan detector’s thresholds and large window can delay response, leading to poor protection against long scans or highly unique streams, where many traces show near-zero hit rates despite scan-mode p reductions.
**Program Identifier:** Generation 29 - Patch Name arc_slfu_scan_sampling - Correct Program: True

**Program Name: Adaptive SLRU with TinyLFU and Ghosts**
- **Implementation**: Segmented LRU (probation/protected) with epoch-decayed TinyLFU counters, segment-aware ghost histories, and an adaptively tuned protected fraction. Eviction samples LRU-side candidates from both segments and selects by (frequency, segment preference, recency); scan-mode applies two-touch gating and probation-biased admission.
- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.0–0.8874.
- **Feedback**: Strong on locality-rich traces (e.g., 27/28/34/38) but weak on streamy/low-reuse workloads (e.g., 14–19, 22–24), implying scan detection and decay-window tuning may be too conservative. Limited candidate sampling (3/2) can yield suboptimal victims and protected churn despite adaptation.
**Program Identifier:** Generation 30 - Patch Name slru_tinylfu_scan_sampling - Correct Program: True

**Program Name: ARC-inspired Segmented LRU Cache**
- **Implementation**: Implements ARC-style two-segment LRU with probation (T1) and protected (T2) tracked by last-access timestamps, plus B1/B2 ghost lists bounded by capacity. Eviction follows ARC REPLACE with adaptive p_target updated on ghost hits; hits promote to protected, new inserts go to probation unless a ghost hit (then to protected), with demotions to maintain targets.
- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging 0.0–0.8912 and strong results on locality-heavy traces (e.g., 0.8912, 0.8451, 0.7543).
- **Feedback**: The protected-heavy bias and promoting unknown hits directly to protected help repeat-reference workloads but reduce scan resistance, yielding very low hit rates on many traces. Ghost histories track presence only and LRU is computed via timestamp scans, a simple approach that may reduce precision/efficiency and dampen adaptation stability.
**Program Identifier:** Generation 31 - Patch Name arc_with_ghosts_and_adaptive_p - Correct Program: True

**Program Name: ARC-inspired Segmented LRU with Freq Aging**
- **Implementation**: ARC-style two-segment (probation/protected) cache with adaptive p and B1/B2 ghost lists, augmented by per-key frequency counters with periodic aging and a short guard window to resist scans. Eviction follows ARC’s REPLACE decision, then selects a victim within the chosen segment by (frequency asc, timestamp asc); hits promote to protected and demote LRU to maintain targets.
- **Performance**: Combined score 0.24 across 48 traces; strong on traces 27, 28, 34, 38 (≈0.64–0.89) but weak on many others (e.g., 11–19, 29–37 often ≤0.1); all validations passed.
- **Feedback**: Frequency-biased victim selection boosts reuse-heavy workloads but can penalize pure recency and scan-heavy patterns despite the guard, yielding bimodal results. Consider tighter probation control, more responsive ghost-driven p adaptation, or rebalancing frequency vs. recency to stabilize low-tail hit rates.
**Program Identifier:** Generation 32 - Patch Name arc_lrfu_freq_guard - Correct Program: True

**Program Name: Adaptive ARC-SLRU with aging and guard window**
- **Implementation**: Two-segment SLRU (T1 probation, T2 protected) with ARC-style ghost lists (B1/B2) adapt a float p_target; eviction follows ARC’s REPLACE to choose T1 vs T2, then picks the minimum (frequency, timestamp) within the chosen segment. Per-key frequencies are periodically halved, timestamps backstop LRU, a guard window biases new inserts to T1-LRU after strong T2 evictions, and T2 overflow is demoted to T1.
- **Performance**: Combined score 0.24 across 48 traces; hit rates range from near 0 on scan-like traces to 0.8912 on locality-rich sequences.
- **Feedback**: Adaptive p and frequency-aware selection excel on recurring/locality-heavy workloads, but frequency bias plus guarded admission underperform on bursty/streaming traces (many near-zero hits). The aging cadence and within-segment freq-min victim choice trade off recency, contributing to weak results on scans.
**Program Identifier:** Generation 33 - Patch Name arc_slru_freq_guard_aged - Correct Program: True

**Program Name: ARC+SLRU with TinyLFU and Scan Guard**
- **Implementation**: Two SLRU segments (T1 probation, T2 protected) with ARC-style ghost lists (B1/B2) storing last-evict timestamps and remembered TinyLFU strength; adaptive p controls T1 share, TinyLFU (0–7) with periodic aging, and a sliding-window scan detector that lowers p and delays promotion. Eviction prefers T1 during scans/overflow; otherwise samples among oldest T2 by lowest TinyLFU, with direct-to-T2 re-admission only for fresh ghosts; includes demotion to meet targets and a fallback global LRU.
- **Performance**: Combined score 0.22; hit rates span 0.0000–0.8716 with strong results on high-locality traces (e.g., 27, 28, 34, 38) but many low/near-zero traces.
- **Feedback**: The scan bias and T2 frequency sampling effectively curb pollution and reward reuse, driving strong performance on clustered/locality workloads. Conservative scan detection thresholds and strict “fresh ghost” gating for direct T2 admission likely under-admit on sparse/streaming or low-repeat workloads, contributing to numerous near-zero traces.
**Program Identifier:** Generation 34 - Patch Name arc_slfu_ghost_strength_and_target_enforce - Correct Program: True

**Program Name: Adaptive ARC+SLRU with Ghosts and Freq Sampling**
- **Implementation**: Uses probation (T1) and protected (T2) OrderedDict segments with B1/B2 ghost histories and a float ARC-like p_target; eviction selects the lowest-frequency among a few LRU candidates via dynamic sampling, with per-key counters and periodic aging. Protected size is clamped by demoting to T1; admission guard plus a short guard window bias newcomers cold after evicting strong items, and a timestamped fallback LRU covers metadata desync.
- **Performance**: Combined score 0.24 over 48 traces; hit rates ranged 0.0000–0.8817 with standout results on locality-heavy traces and poor results on scan-like ones.
- **Feedback**: Large variance indicates the policy favors repeated locality but remains fragile to scans and cold starts despite the guard, suggesting p-adaptation and demotion/pressure rules may oscillate or overreact. Tuning p step sizes and segment-pressure thresholds, or strengthening admission/scan filtering, could improve robustness across diverse workloads.
**Program Identifier:** Generation 35 - Patch Name arc_lrfu_aging_guard_rebalance - Correct Program: True

**Program Name: ARC+SLRU with TinyLFU and scan defense**
- **Implementation**: Combines ARC-style T1/T2 segments with ghost histories and a momentum-adapted p; eviction samples LRU candidates within segments and scores by (TinyLFU 3-bit freq, then timestamp), with periodic aging every capacity accesses. Adds scan detection that lowers p and gates T1→T2 promotions to two touches, plus a guard window after evicting strong T2 entries; promotion-rate tracking modulates sampling and T2 demotion pressure.
- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged 0.00–0.88, with several reuse-heavy traces >0.5 but many workloads near or below 0.03.
- **Feedback**: Strong on repetitive/reuse patterns (benefiting from protected T2 and ghost-driven p adjustment) but weak on diverse/streaming traces, suggesting over-aggressive scan suppression and slow/oscillatory p adaptation. Consider relaxing two-touch gating, tuning scan thresholds/decay and p step sizes, and refining admission to better capture moderate reuse without over-penalizing non-scan bursts.
**Program Identifier:** Generation 36 - Patch Name arc_srlu_tinylfu_scan_momentum - Correct Program: True

**Program Name: Adaptive ARC-TinyLFU cache with scan detector**
- **Implementation**: Uses segmented LRU (probation/protected) with ARC-like ghost histories and an adaptive protected share; TinyLFU counters with periodic aging guide protected victim sampling and promotions. A sliding-window scan detector gates promotion during scans and tilts the share toward recency; protected demotion maintains targets and ghosts are bounded to 2×capacity.
- **Performance**: Combined score 0.21 across 48 traces; strong on frequent-reuse/looping workloads (peaks ~0.88) but weak on scan-like or low-reuse traces (often near 0).
- **Feedback**: Frequency-biased protected sampling and ghost-driven adaptation capture reuse well, but the high default protected ratio and conservative scan gating (full window, two-touch promotion) likely under-serve recency-heavy/scanning workloads. Relaxing scan thresholds or promotion gating and retuning the protected share could lift the many low-hit traces while preserving strong cases.
**Program Identifier:** Generation 37 - Patch Name hybrid_slarc_tlfu_scan - Correct Program: True

**Program Name: ARC+SLRU with TinyLFU and Scan Guard**
- **Implementation**: Hybrid ARC with probation/protected segments, ghost lists with freshness, 3-bit TinyLFU counters with periodic aging, and a sliding-window scan detector that triggers two-touch promotion and p-target reductions. Eviction samples oldest candidates per segment and selects by lowest frequency, while p is adjusted via momentum on ghost hits; protected size is trimmed by demotion toward targets.
- **Performance**: Combined score 0.0; the program fails validation tests.
- **Feedback**: The complex interplay (momentum-driven p updates, direct ghost re-admission to protected, and per-list ghost caps) breaks ARC invariants and can mis-size segments, leading to incorrect behavior. Two-touch gating and “cold” insert timestamps during scan mode may starve new items and destabilize replacement, and protected-size enforcement can fail when avoiding the most-recent key.
**Program Identifier:** Generation 38 - Patch Name arc_srlu_tinylfu_scan_momentum - Correct Program: False

**Program Name: HeatGuard SLRU-ARC Hybrid Eviction**
- **Implementation**: Segmented (probation/protected) cache with heat-based victim selection blending decayed LFU and an anti-age term; ARC-like ghost histories adapt the protected ratio and admission (ghost hits go to protected) while a last-victim score gates frequency seeding. Protected quota is enforced by demoting the coldest protected items; ghosts are bounded (≤2x capacity) and LFU half-life scales with capacity.
- **Performance**: Combined score 0.24 across 48 traces, with hit rates spanning 0.0000–0.8650.
- **Feedback**: Ghost-driven adaptation and frequency-weighted protection yield strong results on recurring workloads, but aggressive protection and seeding can overfit, hurting scan-like or low-reuse streams (several traces near 0–3% hit). Consider tempering direct-to-protected admission and increasing probation or decay aggressiveness to better handle phase shifts.
**Program Identifier:** Generation 39 - Patch Name heatguard_hybrid_slru - Correct Program: True

# GLOBAL INSIGHTS SCRATCHPAD

The following are global insights about optimization approaches and their effectiveness:

## Successful Algorithmic Patterns
- ARC-style SLRU with ghost-driven p and tiny, segment-local sampling improved average robustness. The current best, “Adaptive ARC-like cache eviction with SLRU segments and ghost history” (0.25), follows ARC’s REPLACE to choose T1 vs T2, then samples a tiny LRU window in the chosen segment (T1_SAMPLE=2, T2_SAMPLE=3) and evicts by (freq asc, timestamp asc). This lifted mid-range traces (e.g., 1–10 mostly 0.44–0.54) compared to 0.22–0.23 peers.
- Proportional ghost-driven p updates delivered faster, stable adaptation. The best program adjusts p by a step proportional to the opposite ghost list size (inc/dec = max(1.0, |other|/|this|)) and clamps to [0, cap], improving responsiveness over small fixed steps seen in weaker variants (e.g., 0.21–0.23 designs with slow/oscillatory p).
- Ghost-informed readmission directly to protected with light frequency seeding accelerated recovery. On ghost hits, the best inserts directly into T2 and seeds frequency to at least 2, matching the high-locality peaks seen across top performers (e.g., traces 27=0.8342, 28=0.8915, 34=0.7548, 38=0.6394) while maintaining better average.
- Lightweight admission guard preserved warm-up. The best program’s minimal guard (only place a newcomer at T1-LRU if last victim strength ≥2) avoided the harsh two-touch gating and scan-mode suppression that drove many near-zero traces in scan-defensive variants.

## Ineffective Approaches
- Over-conservative scan gating and two-touch promotion suppression depressed hit rates on many traces. Multiple 0.22–0.23 designs (e.g., “ARC+SLRU with TinyLFU and scan defense” at 0.23, “Adaptive ARC-TinyLFU cache with scan detector” at 0.21, “ARC+SLRU with TinyLFU and Scan Guard” at 0.22) reported near-zero hits on scan/low-reuse traces due to conservative windows and gating, starving warm-up and under-admitting moderate reuse.
- Heavy/slow-moving frequency mechanisms reduced adaptability under churn. Designs with TinyLFU or decayed LFU emphasis and stricter guards (e.g., “ARC+SLRU with TinyLFU and Scan Guard” at 0.22; “HeatGuard SLRU-ARC Hybrid Eviction” at 0.24; “ARC-inspired Segmented LRU with Freq Aging” at 0.24) improved peaks but often produced 0–3% hits on scan-like traces; long horizons and strong admission guard delayed capturing emerging hot sets.
- Mis-tuned protected bias and p updates hurt scan resistance. The “ARC-inspired Segmented LRU Cache” (0.24) biased protected and promoted unknown hits to protected, reducing scan resistance; LRU computed via timestamp scans reduced precision and may have dampened adaptation stability. Several 0.22–0.23 programs showed slow/oscillatory p steps, over-protecting T2 and under-serving recency.
- Complex, invariant-breaking interplay led to correctness failures. “ARC+SLRU with TinyLFU and Scan Guard” (Generation 38) scored 0.0; momentum-driven p updates, direct protected admission, and ghost cap interactions broke ARC invariants and segment sizing, plus API issues (e.g., evict not returning a resident key), nullifying otherwise promising ideas.

## Implementation Insights
- What makes the current best effective:
  - Simple, correct SLRU mechanics with OrderedDict segments (T1 probation, T2 protected) and ghost lists bounded to capacity keep O(1) recency updates and avoid metadata blow-ups. ARC’s REPLACE cleanly selects between T1/T2, keeping scans in T1 and preserving T2 for reuse.
  - Small-window, segment-local sampling by (freq, timestamp) balances recency and lightweight frequency without global decays. This matched or exceeded high-locality peaks while improving mid-range traces over TinyLFU-heavy peers at 0.22–0.23.
  - Proportional, clamped p updates on ghost hits deliver responsive yet stable quotas; direct-to-T2 readmission for ghosts with minimal frequency seeding speeds recovery. Together these explain strong results on 27/28/34/38 while lifting averages on traces 1–10.
  - Reliable fallbacks and guards: a global LRU timestamp map guarantees a valid victim, and a minimal admission guard protects against immediate pollution without throttling warm-up—contrasting with the two-touch and strict guards in several underperformers.
- Contrasting details from other programs:
  - Frequency-heavy designs with periodic aging and strict admission guards (e.g., TinyLFU-based 0.22–0.23 variants) tended to under-admit during bursts and scans. Protected-overweight biases and direct promotion on unknown hits (e.g., ARC-inspired 0.24) weakened scan resistance.
  - LRU via timestamp scans (instead of OrderedDict recency) reduced precision/efficiency and may have contributed to noisier adaptation, as noted in the ARC-inspired 0.24 implementation’s feedback.

## Performance Analysis
- The current best (0.25) is tied with “Adaptive SLRU with TinyLFU and Ghosts” (0.25) on combined score but achieves a better balance via simpler mechanics: ARC REPLACE, tiny segment-local sampling, proportional p, minimal guard. Its mid-range traces 1–10 are mostly 0.44–0.54 (e.g., 1=0.5072, 9=0.5399, 10=0.5310), where many 0.22–0.23 TinyLFU-heavy peers lagged.
- High-locality peaks are comparable across top ARC/SLRU hybrids, often ≈0.88 on trace 28. The best matches or exceeds these (27=0.8342, 28=0.8915, 34=0.7548, 38=0.6394) seen also in several 0.24 programs, indicating the simpler frequency sampling preserves peak performance.
- Weak scan resistance is a common low tail across all ARC/SLRU/TinyLFU variants. The best shows near-zero on scan-like sequences (14=0.0000; 13/15–19 ≈0.02–0.04), mirroring the many low/near-zero traces reported in 0.22–0.23 designs with scan detectors that over-suppressed promotions.
- Stability and correctness remain decisive. Two ARC+SLRU variants failed validation (0.0), while the best maintained per-run initialization, clamped quotas, fallback evictions, and ghost bounds—supporting consistent behavior and enabling its top 0.25 combined score.

# META RECOMMENDATIONS

The following are actionable recommendations for the next program generations:

1. Add a gentle, time-bounded scan detector that only tightens probation briefly. Track a sliding window of W = capacity accesses with unique_insert_rate and hit_rate; if unique_insert_rate > 0.7 and hit_rate < 0.15, enter scan_mode for the next W accesses: insert newcomers at T1’s LRU, require two touches before promoting to T2 (first T1 hit -> T1 MRU; second -> T2), set T1_SAMPLE=1, and bias REPLACE to pick T1 when ambiguous. While in scan_mode, decrease p once per 50 accesses by 1.5×max(1.0, len(B1)/max(1, len(B2))), and auto-exit when the trigger condition no longer holds.

2. Make ghost re-admission freshness-aware and add momentum to p updates. Store eviction timestamps in B1/B2; on insert, if a ghost is fresh (age ≤ 0.5×capacity accesses), place into T2 and seed freq to 3 for B2 or 2 for B1, else place into T1 MRU and promote only on next hit. Scale the proportional p step by freshness (w in [1.0, 1.5]) and apply momentum: p_mom = 0.5×p_mom + sign×min(step, 0.25×cap); then p = clamp(p + p_mom, 0, cap), with a small cooldown (e.g., 10 accesses) between p updates.

3. Add lightweight frequency aging and decay the admission guard to avoid stale bias. Use saturating 3-bit counters for _freq (cap at 7) and every capacity accesses halve all frequencies in-place (or via a lazy epoch scheme). At the same cadence, reduce _last_victim_strength by half so the LRU-placement guard quickly relaxes after phase shifts, preserving warm-up while keeping the current program’s small-window LRFU benefits.

4. Adapt eviction sampling sizes to segment pressure and recent dynamics while keeping the current scoring. Keep REPLACE unchanged, but set T1_SAMPLE=1 when len(T1) > p + 0.1×cap or in scan_mode, else 2; set T2_SAMPLE=5 when len(T2) > cap − round(p) or the promotion rate over the last cap/2 accesses > 0.2, else 3 (drop to 2 when recent hit_rate < 0.2). Continue scoring candidates by (freq asc, timestamp asc) to retain the best program’s balance.

5. Split protected into warm and hot sub-segments to better retain truly hot items without over-protecting new promotions. Implement T2_warm and T2_hot (OrderedDict): promotion from T1 goes to T2_warm; a hit in T2_warm promotes to T2_hot; hits in T2_hot refresh recency. When REPLACE chooses T2, sample from T2_warm first; if T2_hot grows beyond 0.6×(cap − p), demote its LRU to T2_warm, and send evictions from either sub-segment to B2 as today.
{
  "unprocessed_programs": [],
  "meta_summary": "**Program Name: Global LRU via Access Timestamps**\n- **Implementation**: Maintains a global m_key_timestamp mapping keys to cache_snapshot.access_count and evicts the cached key with the smallest timestamp (pure LRU), breaking ties by first-encountered cache order. update_after_hit/insert refresh the timestamp; update_after_evict removes the evicted key from metadata.\n- **Performance**: Combined score 0.21 over 48 traces, with high hit rates on locality-friendly traces (up to 0.8680) but many low-hit traces near 0\u20130.05.\n- **Feedback**: Captures recency effectively but degrades on scans/mixed workloads due to lack of frequency/aging and nondeterministic tie-breaking. Reliance on a global timestamp map assumes perfect sync with the cache; restricting the min search to cached keys and adding deterministic tie-breaking would improve robustness.\n**Program Identifier:** Generation 0 - Patch Name initial_program - Correct Program: True\n\n**Program Name: Segmented LRU with LFU Bias Cache**\n- **Implementation**: Two LRU-ordered segments (probation/protected) via OrderedDicts with a static 80/20 split; eviction picks the least-frequency key from probation (tie by LRU), falling back to protected LRU if probation is empty. Frequencies are incremented on hits, given +1 on insert, retained across evictions, and metadata is reset per run and pruned to cache contents.\n- **Performance**: Combined score 0.24; hit rates vary widely across 48 traces (up to 0.894 on trace_28, near-zero on traces 14 and 32).\n- **Feedback**: LFU bias plus a large protected segment benefits skewed/locality-heavy traces but sticky frequencies and a static split reduce adaptability on scans or shifting workloads. Consider frequency aging/pruning, dynamic protected sizing, and ghost/scan-resistance mechanisms to improve stability.\n**Program Identifier:** Generation 1 - Patch Name slru_lfu_hybrid - Correct Program: True\n\n**Program Name: ARC-like Adaptive Cache with Ghost History**\n- **Implementation**: Implements an ARC-like policy using OrderedDicts for T1/T2 (resident) and B1/B2 (ghost) with an adaptive target p; includes stale-resident pruning, per-list ghost bounding, capacity-change resets, LRU victim selection from T1/T2, promotion on hit, and p-adjustments on ghost hits during insert.\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates ranging from 0.0000 to 0.8915 (strong on several locality-heavy traces but weak on others).\n- **Feedback**: Robustness features (pruning, fallbacks) keep the policy stable, but deviations from canonical ARC\u2014per-list (not total) ghost bounds, simplified replace logic, and promoting unknown hits directly to T2\u2014likely over-bias frequency and hurt scan-like workloads; aligning ghost sizing (B1+B2 <= capacity) and smoothing p-updates could improve consistency across traces.\n**Program Identifier:** Generation 2 - Patch Name arc_adaptive_policy - Correct Program: True\n\n**Program Name: Adaptive SLRU with protected ratio**\n- **Implementation**: Segmented LRU with probationary/protected sets, LRU timestamps, promotion on hit, and eviction preferring probationary LRU; protected size is adapted via coarse global hit-rate buckets (40/60/80%). Metadata is tracked in global dicts/sets and cleaned on eviction.\n- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged from 0.0 to 0.8872, performing well on high-locality traces but poorly on scan/low-reuse ones.\n- **Feedback**: The global hit-rate-based protected sizing is coarse and phase-insensitive, often over-protecting stale items and harming admission during workload shifts. Demotions only on hits delay enforcement of the target protected size; adding ghost history or enforcing limits on insert could reduce scan pollution and improve low-reuse performance.\n**Program Identifier:** Generation 3 - Patch Name slru_with_adaptive_protected_ratio - Correct Program: True\n\n**Program Name: Adaptive LRFU with Exponential Decay**\n- **Implementation**: Maintains per-key decayed frequency scores with exponential decay (half-life 16 accesses), lazily applied on hits and during eviction scans; uses an initial insert score of 0.5 and LRU tie-breaks for equal scores. Metadata is per-key via global dicts, and eviction scans all cache keys to pick the minimum score.\n- **Performance**: Combined score 0.22 over 48 traces, with hit rates ranging from 0.0 to 0.8699 (e.g., 0.8699 on trace_28, 0.7277 on trace_34, and 0.0 on traces_14 and _33).\n- **Feedback**: Performs well on workloads with temporal locality/reuse bursts but struggles on scans or high-entropy traces where items seldom get reinforced. Tuning half-life or insertion credit (and the O(capacity) victim scan) could improve robustness across diverse patterns.\n**Program Identifier:** Generation 4 - Patch Name lrfu_decay_eviction - Correct Program: True\n\n**Program Name: Hybrid SLRU + LRFU Cache**\n- **Implementation**: Segmented LRU (probationary/protected) with exponential-decay frequency scoring selects eviction by minimal decayed score within a segment, tie-breaking by older last access. Uses lazy decay (half-life=16), a fixed 70% protected target, promotion on second touch, initial insert score 0.5 to resist scans, and self-healing segment bookkeeping.\n- **Performance**: Combined score 0.23; strong on locality-heavy traces (peaks up to 0.8812) but many traces remain low (<0.1).\n- **Feedback**: Probation-first eviction and decayed-frequency boosts retain hot items, yet the fixed protected split and O(n) min-score selection reduce adaptability and may add overhead on diverse/scan-heavy workloads. Tuning half-life/split or adding admission/scan-resistance could lift weak-trace performance.\n**Program Identifier:** Generation 5 - Patch Name slru_lrfu_hybrid - Correct Program: True\n\n**Program Name: ARC-TinyLFU with Sampled LFU**\n- **Implementation**: Implements ARC with T1/T2 resident lists and B1/B2 ghost lists in OrderedDicts, an adaptive target p, and a Count-Min Sketch (4 hashes, width 2^13) with conservative aging to guide admission and frequency-aware victim choice. Eviction samples k=3\u20138 LRU-side candidates from the chosen segment and evicts the minimum-sketch item; hits promote T1\u2192T2, ghost hits adjust p, and cold inserts hot-admit to T2 only if sketch\u22652.\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates ranging from near-zero on several scans to strong on high-locality traces (peak 0.8941; many mid-0.45\u20130.54).\n- **Feedback**: Frequency-biased sampling reduces cache pollution and boosts reuse-heavy workloads, but fixed sketch sizing/aging and the \u22652 hot-admit threshold can under-admit short bursts and struggle on scan-like traces (e.g., 11, 13\u201320, 29\u201333). Bounding ghost lists and resetting on capacity change ensure consistency but drop history; tuning sample size, dynamic aging, or adaptive admission thresholds may reduce variance.\n**Program Identifier:** Generation 6 - Patch Name arc_tiny_sampled_lfu - Correct Program: True\n\n**Program Name: WTinyLFU with ARC-style window**\n- **Implementation**: Implements Window-TinyLFU with ARC-like adaptive window size (p) and segmented main (W/P/H) using OrderedDict LRU. Uses a 3-hash Count-Min Sketch (width 4096) with periodic halving, frequency-aware sampled LRU victim selection, and ghost histories (Gw/Gm) to adjust p.\n- **Performance**: Combined score 0.22 across 48 traces; strong on locality-heavy traces (peaks at 0.874) but many traces are near 0.00\u20130.08.\n- **Feedback**: The adaptive window and decayed sketch effectively capture repeated hot sets, boosting hits on stable-locality workloads. Low scores on many traces suggest sensitivity to scans or rapid shifts, likely influenced by small sampling (k\u22648), conservative competitive admission (favoring evicting W when new \u2264 P), and tight H bounding tied to p.\n**Program Identifier:** Generation 7 - Patch Name win_tinylfu_arc_adapt - Correct Program: True\n\n**Program Name: ARC-inspired adaptive cache eviction**\n- **Implementation**: Implements an ARC-like policy with OrderedDict-based LRU segments: probation (T1), protected (T2), and ghost lists (B1/B2), and an adaptive target m_p adjusted on ghost hits. Hits promote to protected; evictions prefer T1 when len(T1) > m_p; metadata resets between runs, ghost lists are capacity-bounded, and a frequency counter is tracked but unused.\n- **Performance**: Combined score 0.24 over 48 traces, with best hit rates up to 0.8915 but many traces near 0.0.\n- **Feedback**: Effective on high-locality workloads due to promotion and ghost-based adaptation, but lack of explicit T1/T2 size control/demotion and unused frequency signal likely cause cache pollution and weak scan resistance. Enforcing segment targets (e.g., using the defined protected target), adding demotion, and leveraging frequency/aging could improve robustness across diverse traces.\n**Program Identifier:** Generation 8 - Patch Name arc_adaptive_eviction_with_ghosts - Correct Program: True\n\n**Program Name: Adaptive ARC + TinyLFU Cache**\n- **Implementation**: Combines ARC\u2019s T1/T2 with ghost lists (B1/B2) and adaptive target p; a capacity-aware Count-Min Sketch with conservative aging informs TinyLFU-based admission and sampled-LRU (4\u201312 keys) victim selection. Includes pruning of desynced state and bounded ghosts, counter capping, and capacity-change resets.\n- **Performance**: Combined score 0.24; strong on locality-heavy traces (up to ~0.89), moderate ~0.45\u20130.53 on many, and very low on streaming/adversarial traces (several near 0).\n- **Feedback**: Sampling the LRU tail and f(new) vs T2 comparisons effectively protect hot items, but conservative aging and small samples can under-adapt to rapid phase shifts, hurting scan-heavy workloads. More aggressive/phase-aware aging or larger sampling could improve robustness on low-reuse traces.\n**Program Identifier:** Generation 9 - Patch Name w-tinylfu_competitive_eviction_and_adaptive_aging - Correct Program: True\n\n**Program Name: Hybrid SLRU-LRFU with ARC-style adaptation**\n- **Implementation**: Uses two LRU segments (probationary/protected) with per-key exponentially decayed frequency scores (half-life 16) and ARC-style ghost lists (B1/B2) to adapt the T1 target (alpha 0.25). Eviction chooses the minimum decayed-score key within the over-target segment (tie-break by older last access); hits decay-and-bump score and promote/demote, while inserts initialize score=0.5 to reduce scan pollution.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from 0.0 to 0.8869 (strong on locality-heavy traces, weak on streaming/one-timers).\n- **Feedback**: Adaptive split and decayed scoring favor frequent items and provide scan resistance, but slow adaptation and score-based victim selection can underperform on pure recency workloads. Tuning the decay half-life and adaptation rate (and possibly using LRU victiming in probationary) may improve consistency across diverse traces.\n**Program Identifier:** Generation 10 - Patch Name arc_lrfu_with_ghosts_and_adaptive_split - Correct Program: True\n\n**Program Name: Adaptive SLRU+LRFU with lazy decay**\n- **Implementation**: Combines SLRU segments (probation/protected) with lazy exponential-decay LRFU scoring (half-life 8 accesses), promoting probation hits, demoting protected when exceeding an adaptive cap, and evicting the minimal decayed-score key preferring probation (ties by older last access). Inserts get a small initial score (0.1) to curb scans; hits add 1.5 in protected vs 1.0 in probation.\n- **Performance**: Combined score 0.22 across 48 traces, ranging from strong on locality-heavy traces (up to 0.871) to very low on scan/unique-key traces (down to 0.000).\n- **Feedback**: Probation-first eviction and low admission score reduce scan pollution; the +1/\u22121 protected-cap adjustment adapts to frequency but may oscillate. Treating unknown-hit keys as protected can over-favor frequency and hurt recency on bursty/scan-heavy workloads.\n**Program Identifier:** Generation 11 - Patch Name slru_lrfu_hybrid_with_adaptive_protected - Correct Program: True\n\n**Program Name: ARC with TinyLFU Admission**\n- **Implementation**: ARC with T1/T2/B1/B2 using OrderedDict and adaptive target p; competitive admission via a Count-Min Sketch (w=4096, d=3) with conservative aging, LRU-side sampling (k=4\u201312) to choose min-frequency victims, and gated promotion to T2 (threshold \u22652). Ghost lists are maintained per-segment and bounded individually by capacity; policy state is pruned against the live cache and reset on capacity changes.\n- **Performance**: Combined score 0.24 across 48 traces, with best hit rates up to 0.8853 but several workloads near zero.\n- **Feedback**: TinyLFU-driven admission and ARC\u2019s p-adaptation protect hot items and perform well under temporal/frequency locality, but low scores on scan/noisy traces suggest slow adaptation from the promotion threshold and limited LRU sampling. Bounding B1/B2 separately (vs. jointly) and fallback use of last-evicted segment may reduce classic ARC sensitivity and occasionally misclassify evictions.\n**Program Identifier:** Generation 12 - Patch Name arc_tiny_lfu_competitive_admission - Correct Program: True\n\n**Program Name: Adaptive SLRU-LRFU with TinyLFU**\n- **Implementation**: Two-segment SLRU (probation/protected) guided by an exponential-decay LRFU score with lazy time-based decay (half-life=16 accesses), and TinyLFU (4x2048 CM-sketch with periodic halving) for admission/promotion gating. Evicts the minimal decayed-score key preferring probation, adapts protected capacity based on promotions and a simple scan detector, and initializes scores conservatively (0.1 probation, 0.6 protected).\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates ranging from near 0 to 0.89 and mid-range results on several traces (~0.47\u20130.54).\n- **Feedback**: Frequency-biased promotions and decayed scoring perform well on skewed/repetitive workloads but underperform on scans/one-timers, indicating slow adaptation despite the scan guard. Tighter admission/demotion and tuning of decay half-life and protected-cap dynamics could improve robustness across adversarial traces.\n**Program Identifier:** Generation 13 - Patch Name slru_lrfu_tinylfu_admission_scan_guard - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU Bias**\n- **Implementation**: Two-tier SLRU (probation/protected OrderedDicts) with a 4-row Count-Min Sketch (power-of-two width, periodic halving); eviction samples up to 8 LRU candidates and evicts the one with the lowest estimated frequency. Protected size is adjusted via an EMA of hit-rate with a miss-streak scan detector; inserts add a doorkeeper credit and hits promote only if sketch\u22652.\n- **Performance**: Combined score 0.24 over 48 traces; hit rates span 0.0000\u20130.8917, strong on locality-rich traces (27\u201328, 34, 38) and weak on many low-reuse/scan-like traces.\n- **Feedback**: Adaptive protected sizing and frequency bias preserve hot sets well, but conservative promotion and slow scan detection (miss_streak > 2\u00d7capacity) likely under-serve short bursts and scans, leading to very low hit rates in several traces. Faster adaptation (lower promotion threshold, quicker EMA, or adjusted scan trigger) and/or larger eviction samples could improve responsiveness without sacrificing hot-set retention.\n**Program Identifier:** Generation 14 - Patch Name slru_tiny_ema - Correct Program: True\n\n**Program Name: Adaptive SLRU+LRFU with TinyLFU bias**\n- **Implementation**: Combines SLRU segments (probation/protected) with an exponentially decayed LRFU score per key, a 4-hash CM-sketch TinyLFU (4096 width, periodic halving) for admission/promotion and victim bias, plus dynamic half-life and adaptive protected-cap tuning based on miss streaks. Eviction prefers probation, then protected with a TinyLFU-based penalty to avoid evicting hotter items; hits boost scores (+1.0/+1.5) and inserts seed scores (0.1/0.7).\n- **Performance**: Combined score 0.0; the program is marked incorrect and fails validation tests.\n- **Feedback**: Despite rich heuristics, the implementation likely violates the expected interface or invariants (e.g., evict returning a key vs. object, or segment/bookkeeping desynchronization), causing functional failures. The aggressive, dynamic decay and cap adjustments may also destabilize admission/promotion, degrading effectiveness even when it runs.\n**Program Identifier:** Generation 15 - Patch Name slru_lrfu_tinylfu_wbiased - Correct Program: False\n\n**Program Name: ARC+TinyLFU cache with adaptive ghosts**\n- **Implementation**: ARC with T1/T2 residents and B1/B2 ghosts, adaptive p, and TinyLFU via a decayed Count-Min Sketch; victim selection samples LRU-side keys and evicts the min-estimated-frequency, with competitive admission and gated promotion (threshold \u22652). Includes scan-mode bias, capacity-aware tuning (sample_k, sketch aging), and pruning of stale residents/ghosts.\n- **Performance**: Combined score to maximize: 0.24 across 48 traces; peaks up to 0.8855 on some repetitive/hot-set traces but many workloads show very low hit rates.\n- **Feedback**: Strong on LFU-friendly/repetitive patterns (e.g., traces 27, 28, 34, 38) but weak on scans/high-diversity streams (e.g., traces 14, 32\u201333), suggesting scan detection triggers too late and TinyLFU gating may be too conservative. Consider faster scan detection/cooldown and slightly relaxing promotion/admission thresholds to better capture short-term locality.\n**Program Identifier:** Generation 16 - Patch Name arc_tlfu_scan_ghost_smooth - Correct Program: True\n\n**Program Name: Windowed TinyLFU with SLRU main**\n\n- **Implementation**: Implements W-TinyLFU with three OrderedDict segments (W, M1 probationary, M2 protected) and a Count-Min Sketch (d=3, width 4096) with halving-based aging scaled to capacity; admission prefers evicting W when at target, otherwise compares the new item\u2019s frequency to a sampled low-frequency M1 candidate, with promotions (M1\u2192M2) on hits and demotions to maintain protected size. Includes adaptive sampling (k=4\u201312), 20% window, 80% protected share of main, and a self-heal pass to resync segments with the backing cache.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates peaking at 0.85 on skewed/locality-heavy workloads and dropping to ~0.00\u20130.02 on scan-like/low-reuse traces.\n- **Feedback**: Strong results on frequency-skewed traces validate TinyLFU-based admission and SLRU promotions, but poor streaming performance suggests the 20% window and current admission rule (no W-victim comparison/doorkeeper, non-conservative increments) allow main pollution. Tuning window/protected fractions and aligning admission with canonical TinyLFU could improve scan resistance and stability across workloads.\n**Program Identifier:** Generation 17 - Patch Name wtinylfu_slru_window - Correct Program: True\n\n**Program Name: Segmented LRU + TinyLFU with ARC ghosts**\n- **Implementation**: Two-segment LRU (probation/protected) augmented with ARC-style B1/B2 ghost lists and a 4-row Count-Min Sketch (power-of-two width, periodic halving) to bias admission/promotion (threshold \u22652) and sampled eviction (pick lowest estimated frequency among up to 8 LRU candidates). Protected size is adaptively targeted via EMA of hit rate with a miss-streak scan detector, and ghost hits adjust the target by \u00b10.1.\n- **Performance**: Combined score 0.23; per-trace hit rates span 0.0\u20130.8881 across 48 traces, with strong results on locality-heavy traces (e.g., 27/28/34/38) and weak results on low-reuse/scan-like traces (many <0.1).\n- **Feedback**: Frequency bias and adaptive protected sizing preserve hot sets, but sketch aging and scan adaptation appear too sluggish for scans/phase shifts, yielding very low hit rates on several traces. Tuning promotion threshold, miss-streak sensitivity, and CMS width/aging could improve robustness across diverse workloads.\n**Program Identifier:** Generation 18 - Patch Name arc_tinylfu_with_ghosts_and_adaptive_replace - Correct Program: True\n\n**Program Name: Adaptive SLRU+LRFU with TinyLFU**\n- **Implementation**: Two-segment SLRU (probation/protected) with LRFU-style exponential-decay scores (half-life=8) selects victims, while a Count-Min Sketch\u2013based TinyLFU (with periodic conservative aging) guides admission/promotion. Protected capacity adapts (grows on promotions, shrinks on detected scans) and demotes the lowest-score protected key when over cap; hits boost scores more in protected than probation.\n- **Performance**: Combined score 0.23; strong hit rates on locality-rich traces (up to 0.88) and moderate ~0.45\u20130.54 on others, but many traces show very low hit rates, including several near zero.\n- **Feedback**: The design limits scan pollution and favors frequent keys, yielding high scores on repetitive workloads, but the promote threshold and short half-life can over-penalize single-hit or long-reuse items, hurting performance on diverse/scan-heavy traces. Consider softer or dynamic admission thresholds and more responsive decay/cap tuning to better balance recency and frequency.\n**Program Identifier:** Generation 19 - Patch Name slru_tinylfu_promotion_scan_guard - Correct Program: True\n\n**Program Name: ARC+TinyLFU with scan-aware eviction**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive target p) with a Count-Min Sketch (capacity-tuned aging) to guide promotion/admission and sampled LRU-min-frequency victim selection; includes scan detection via miss-streak that biases evictions to T1 and suppresses direct T2 admissions. Ghost lists are bounded and periodically pruned, and promotions from T1 require frequency thresholds (stricter during scan mode).\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates ranging from 0.0000 to 0.8855 (notably strong on skewed/locality traces like 27/28/34/38, weaker on others).\n- **Feedback**: TinyLFU-based competitive admission and promotion gating protect T2 and excel on heavy-tail workloads, but the scan detector (miss-streak > 2\u00d7capacity) and conservative promotion thresholds can delay T2 admission, producing near-zero hit rates on short scans or rapidly shifting workloads. Periodic ghost trimming and small LRU-side sampling (k up to 12) may dampen ARC\u2019s adaptivity, contributing to high variance across traces.\n**Program Identifier:** Generation 20 - Patch Name arc_tinylfu_coldest_candidate_scan_guard_ghost_aging - Correct Program: True\n\n**Program Name: W-TinyLFU with adaptive window SLRU**\n- **Implementation**: Implements windowed TinyLFU using OrderedDict-based W/M1/M2 (SLRU) segments, a 3-hash Count-Min Sketch (width 4096 min, conservative aging), and adaptive window-size tuning. Eviction admits by comparing f(new) to a sampled low-frequency candidate from M1 (fallback M2), with early promotion from W (est \u2265 3), frequency-aware demotion to balance M2, self-healing against cache state, and capacity-based parameterization.\n- **Performance**: Combined score 0.26 over 48 traces, with hit rates spanning 0.0000\u20130.8740 (best: 0.8740 on trace_28; several traces near 0.02\u20130.06).\n- **Feedback**: Strong on skewed/reuse-heavy workloads but weak on scans/low-locality traces where admission disfavors recency and the window can be too small. Consider enlarging/tuning the window more aggressively and broadening sampling/admits to reduce near-zero-hit cases.\n**Program Identifier:** Generation 21 - Patch Name wtinylfu_adaptive_window_m2_sampling - Correct Program: True\n\n**Program Name: ARC+TinyLFU with adaptive CM-sketch**\n- **Implementation**: ARC with T1/T2 and ghost lists (B1/B2) guided by a decayed Count-Min Sketch; eviction samples the LRU side and removes the minimum estimated-frequency key, while admission compares f(new) vs a sampled T2 victim. It includes damped adaptive p updates, scan-mode detection via miss streak to bias toward T1, capacity-aware sketch aging and sample size, and ghost pruning/bounding.\n- **Performance**: Combined score 0.24; strong on skewed/hot traces (up to 0.8855) but many traces are low or near zero, yielding moderate overall performance.\n- **Feedback**: Competitive admission and promotion gating protect T2 and work well on high locality, but scan detection and stricter thresholds likely under-serve sequential or churn-heavy workloads. Consider more aggressive T1 growth during scans and slightly lower T2 admission/promotion thresholds to reduce near-zero-hit cases.\n**Program Identifier:** Generation 22 - Patch Name arc_tlfu_victim_rule_refine - Correct Program: True\n\n**Program Name: Hybrid TinyLFU\u2013LRFU SLRU Cache**\n- **Implementation**: Uses a Count-Min Sketch with periodic aging for TinyLFU admission, a window LRU (W) plus SLRU main (M1 probationary, M2 protected), and LRFU-style decayed scores to sample cold candidates and drive promotion/demotion. It adaptively tunes window size via hit feedback, performs early promotion from W on hot hits, and includes self-healing to sync segments with the cache.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0000 to 0.8708, with strong results on locality/skewed traces (e.g., 27, 28, 34, 38) and weak on scan-like workloads (e.g., 14\u201319).\n- **Feedback**: The pairing of TinyLFU admission with decayed scoring and protected demotions effectively preserves reusable items, boosting performance on reuse-heavy traces. Underperformance on scans suggests the default 20% window and admission biases (+1/+2) may be too conservative; relaxing protection or widening the window could improve scan/burst resilience.\n**Program Identifier:** Generation 23 - Patch Name wtinylfu_lrfu_hybrid_slru - Correct Program: True\n\n**Program Name: Adaptive W-TinyLFU with SLRU**\n- **Implementation**: Implements Windowed TinyLFU using a Count-Min Sketch with conservative aging, a window LRU (W) and two-segment SLRU main (M1 probationary, M2 protected). Adds adaptive window sizing based on hit distribution, frequency-gated promotions/demotions, scan detection with cooldown-biased admission, capacity-scaled sketch aging, and self-healing of segment state.\n- **Performance**: Combined score 0.26 across 48 traces; hit rates span 0.0000\u20130.8740 with strong results on locality-heavy traces and weak on scans/low-reuse patterns.\n- **Feedback**: Scan-aware bias and conservative admission protect main cache but likely suppress beneficial admissions on some workloads, contributing to very low hits on several traces. Limited LRU-side sampling for victim selection and tight thresholds may over-protect M1/M2; relaxing bias/tuning and broader sampling could improve mixed-workload performance.\n**Program Identifier:** Generation 24 - Patch Name wtinylfu_scan_gate_bias - Correct Program: True\n\n**Program Name: Hybrid TinyLFU-LRFU with SLRU and scan defense**\n- **Implementation**: Window LRU (W) plus SLRU main (probation/protected) with TinyLFU admission and LRFU-style decayed scores for sampled victim/demotion; includes Count-Min Sketch with periodic aging, adaptive window tuning, scan detector with cooldown bias, and self-healing metadata. Eviction compares new frequency to sampled cold candidates and biases against main during suspected scans.\n- **Performance**: Combined score 0.25 over 48 traces; hit rates ranged 0.0\u20130.8675 with peaks on traces 27\u201328, 34, and 38.\n- **Feedback**: Excels on high-locality/frequent-reuse workloads where protected promotion and frequency gating help (e.g., traces 27\u201328), but performs poorly on scans/low-reuse sequences (e.g., 11, 13\u201316, 14=0.0), indicating the scan bias and admission thresholds may still be miscalibrated or adapt too slowly on some mixes. Consider tuning window size dynamics and TinyLFU biases to reduce near-zero cases without sacrificing main protection.\n**Program Identifier:** Generation 25 - Patch Name scan_aware_admission_and_bias - Correct Program: True\n\n**Program Name: Hybrid TinyLFU+LRFU SLRU cache**\n- **Implementation**: Windowed TinyLFU admission paired with SLRU main (M1 probation/M2 protected) and LRFU-decayed scores, sampling cold victims via lexicographic (sketch estimate, decayed score) among k LRU keys. Includes adaptive window tuning, capacity-tuned sketch aging/half-life, early window-to-protected promotion, scan detection with cooldown bias, and self-healing of segment state.\n- **Performance**: Combined score 0.24 over 48 traces; hit rates span 0.0000\u20130.8872, strong on locality/skewed traces (e.g., 27/28/34/38) but weak on streaming/low-reuse workloads.\n- **Feedback**: LRFU decay plus TinyLFU sampling protects hot items and scan-bias reduces pollution, but aggressive biases/thresholds and a small default window (20%) likely under-admit recency, leading to many near-zero traces. Consider relaxing scan bias/admission thresholds, lengthening half-life, or enlarging/tuning window/protected ratios to stabilize performance under scans and churn.\n**Program Identifier:** Generation 26 - Patch Name wtinylfu_eviction_bias_refine - Correct Program: True\n\n**Program Name: ARC+TinyLFU with EMA and sampled eviction**\n- **Implementation**: ARC with T1/T2 resident and B1/B2 ghost LRU lists, augmented by a TinyLFU Count-Min Sketch (8-bit counters, conservative aging) for frequency estimates. p is EMA-tuned on ghost hits; eviction first chooses ARC side (T1/T2) then samples up to k LRU-end keys to evict the lowest-estimate, with self-healing of lists and ghosts bounded to capacity.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging from 0.0000 to 0.8862; validation tests all passed.\n- **Feedback**: Frequency-guided sampling preserves hot items (strong on locality-heavy traces) but the policy struggles on scan/noisy workloads (many near-zero traces). Bounding ghost history to C (not 2C as in ARC) and retaining the sketch across capacity/trace changes likely slow/blur adaptation and hurt phase changes.\n**Program Identifier:** Generation 27 - Patch Name arc_tinylfu_adaptive - Correct Program: True\n\n**Program Name: ARC-inspired cache with freq sampling and ghosts**\n- **Implementation**: Uses ARC-style probation/protected segments (T1/T2) with ghost lists (B1/B2) and adaptive m_p, managed via OrderedDict LRUs. Evicts by sampling a few keys from the LRU side and choosing the lowest-frequency; maintains lightweight per-key frequency with periodic aging, enforces ~80% protected via promotion gates and demotion.\n- **Performance**: Combined score 0.25 across 48 traces, with highs up to 0.8882 and several lows near 0.0\u20130.09.\n- **Feedback**: Strong on workloads with stable hot sets thanks to large protected segment and frequency-aware eviction. Weak on scans/rapid churn where over-protection and limited ARC balancing (unused miss-streak, fixed ~80% protected) reduce recency; tuning m_p/protected target or leveraging streaks could improve scan resistance.\n**Program Identifier:** Generation 28 - Patch Name arc_tinylfu_sampling_aging - Correct Program: True\n\n**Program Name: Hybrid TinyLFU-SLRU with LRFU Decay**\n- **Implementation**: Windowed TinyLFU with SLRU main (W/M1/M2) uses a Count-Min Sketch with periodic halving and capacity-tuned LRFU-decayed scores. Victims are sampled from k LRU positions using a lexicographic (TinyLFU estimate, decayed score), with adaptive window sizing, scan-biased admission thresholds, early promotion, and decayed-aware demotions; state self-heals on desync.\n- **Performance**: Overall combined score 0.25 across 48 traces; hit rates range 0.0000\u20130.8737, strong on locality-rich traces but very low on several long-tail/scan-heavy workloads; passes all validations.\n- **Feedback**: TinyLFU-gated admission and early promotions benefit frequent reusers, but the scan detector and strict biasing often suppress helpful admissions, hurting recency-heavy or low-repeat traces. The 20% default window and slow tuning step/period can under-adapt to bursts, contributing to poor results on many traces despite excellent peaks on a few.\n**Program Identifier:** Generation 29 - Patch Name wlru_admission_balance_and_promotion_tighten - Correct Program: True\n\n**Program Name: Windowed TinyLFU with SLRU Main Segments**\n- **Implementation**: Uses a Count-Min Sketch with conservative aging to guide TinyLFU admission/eviction across a window LRU (W) and SLRU main (probationary M1, protected M2), with frequency-aware sampling and capacity-aware tuning. Includes scan detection via miss-streak cooldown, a recent hot-bypass filter to M2, adaptive window sizing from hit mix, and self-healing against snapshot desync.\n- **Performance**: Combined score 0.22 across 48 traces; hit rates ranged from 0.0000 to 0.8740, with strong results on locality-rich traces (e.g., 0.8740 on trace 28) and weak/zero on several scan-like workloads.\n- **Feedback**: TinyLFU-gated admission and scan bias effectively protect main cache under locality but appear over-protective on recency-heavy/scan traces, leading to under-admission and very low hits. Relaxing bias/thresholds or allowing a larger/more responsive window during heavy miss streaks could improve balance.\n**Program Identifier:** Generation 30 - Patch Name hot_bypass_recent_filter - Correct Program: True\n\n**Program Name: ARC + TinyLFU-lite with sampled eviction**\n- **Implementation**: ARC-style two-segment design (probation/protected) with B1/B2 ghost lists and adaptive m_p, plus TinyLFU-lite frequencies with periodic halving; admission compares new key vs last victim and uses a fixed hot threshold, while eviction samples the LRU side and picks the lowest-frequency candidate. Protected is targeted at ~80% of capacity with demotion; metadata is reset/pruned per run and ghost sizes are bounded.\n- **Performance**: Combined score 0.24 across 48 traces, with strong peaks on locality-rich workloads (up to 0.8877) and many low/near-zero results on churny/scan-like traces; program passes all validation tests.\n- **Feedback**: The sampled TinyLFU admission and large protected target retain hot sets well, but slow decay (interval \u22484\u00d7capacity) and a fixed threshold can preserve stale history and hurt phase adaptability, leading to poor results on rapidly shifting or oversized working sets. More aggressive ARC balancing (m_p responsiveness), faster decay, and stricter T1-biased eviction could improve robustness across diverse traces.\n**Program Identifier:** Generation 31 - Patch Name arc_tinylfu_sampling_aging - Correct Program: True\n\n**Program Name: Windowed TinyLFU+ with SLRU and hot-bypass**\n- **Implementation**: Uses a conservative Count-Min Sketch with periodic aging to guide a 4-segment SLRU (W1/W2 window, M1/M2 main), with competitive admission from W1 to M1 (sampling low-frequency M1 victims), hot-bypass to M2, and adaptive window ramping plus sketch aging based on miss streaks and hit mix. Eviction favors replacing cold M1 over window entries with a ramp-dependent bias, includes self-healing against cache-policy desync, and size targets keep W2 \u224830% of the window and M2 protected by frequency-aware demotions.\n- **Performance**: Combined score 0.24 over 48 traces, with strong hits on locality-heavy traces (peaks ~0.88) but many low/near-zero results dragging down the average; program is correct and passes all validations.\n- **Feedback**: The hot-bypass and main-protection bias help bursty/locality-heavy workloads but hurt cold-start, scans, and sparse reuse, leading to numerous near-zero traces. Tuning triggers (miss_streak > 0.5\u00b7C), high bypass/promotion thresholds, and relatively small default window (20% with W2 at 30% of it) may be too conservative, suggesting relaxing thresholds or quicker aging to improve adaptability on mixed/short traces.\n**Program Identifier:** Generation 32 - Patch Name wtinylfu_slru_plus_tlfu_conservative - Correct Program: True\n\n**Program Name: ARC-inspired TinyLFU Hybrid Cache**\n- **Implementation**: Combines ARC-style probation/protected LRU segments with ghost lists (B1/B2) and adaptive p, plus sampled TinyLFU-based frequency with periodic aging for admission/eviction; enforces a fixed ~80% protected target with demotion and scan-bias via miss-streak heuristics. Eviction samples LRU-side keys from each segment and evicts the lower-frequency candidate, while ghost hits adjust p with damping.\n- **Performance**: Combined score 0.25 across 48 traces, with strong hit rates on locality-heavy traces (peaking at 0.8884) but many low/near-zero results on scan-like or high-entropy workloads.\n- **Feedback**: The fixed 80% protected target and ghost lists bounded to capacity (vs. ARC\u2019s typical 2\u00d7cap) constrain ARC\u2019s adaptation, likely hurting responsiveness to scans and workload shifts. Promotion thresholds and aggressive scan-bias can under-admit short-term reuse, contributing to weak performance on medium-locality traces.\n**Program Identifier:** Generation 33 - Patch Name arc_tinylfu_competitive_with_scan_bias - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU Bias**\n- **Implementation**: Two-segment SLRU (probation/protected) with a Count-Min Sketch (depth=4, power-of-two width scaled to capacity) aged periodically; admission compares new-item frequency to a sampled probation candidate, and eviction samples K=8 from LRU heads picking the lowest estimated frequency. Protected size adapts via an EMA of hit rate with a miss-streak scan detector; promotes on first hit, includes hot-item bypass, and prunes/seeds metadata with run resets.\n- **Performance**: Combined score 0.23; hit rates spanned 0.0000\u20130.8834 across 48 traces, peaking on 27/28/34/38 and ~0.5 on 8\u201310, but low on many others.\n- **Feedback**: Frequency-aware sampling and adaptive protected sizing effectively retain stable hot sets, delivering strong results on temporally-local traces. However, the scan detector (trigger at >2\u00d7capacity misses), conservative EMA smoothing, and hot-bypass thresholds (>=4) likely under-admit short bursts and scans, leading to many sub-0.15 traces; faster scan response and lower admission thresholds may improve robustness.\n**Program Identifier:** Generation 34 - Patch Name tinyf_arc_admission_compare_and_fast_promotion - Correct Program: True\n\n**Program Name: Hybrid WTinyLFU + SLRU-LRFU Cache**\n- **Implementation**: Windowed TinyLFU with SLRU main (probation/protected) and LRFU-style decayed scores; Count-Min Sketch (w=2^12, d=3) with periodic aging. Eviction/admission sample k LRU candidates using TinyLFU+decayed score, with adaptive window tuning (5\u201350%), hot-bypass (\u22655), and early promotion thresholds (est\u22653 or dec\u22651.5).\n- **Performance**: Combined score 0.24 with hit rates ranging from 0.0000 to 0.8763 across 48 traces.\n- **Feedback**: Strong on workloads with temporal/frequency locality (e.g., traces 27/28/34) but weak on scan-like or fast-shifting patterns (several near-zero traces), indicating window/tune-period and threshold tuning could help. Capacity-aware decay and self-heal aid stability, but sample_k scaling and protected fraction may drive variance in small caches.\n**Program Identifier:** Generation 35 - Patch Name competitive_admission_hot_bypass - Correct Program: True\n\n**Program Name: Regret-ARC TinyLFU Hybrid**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive p) with a conservative Count-Min Sketch (4 hashes, power-of-two width, periodic halving) to guide admission, promotion, and victim selection via LRU-sampled, min-frequency candidates. Adds regret-driven p-adjustments on reaccess, scan detection via miss streak/cooldown, hot-bypass to T2, promotion thresholds, and bounds T2 to 80% of capacity.\n- **Performance**: Combined score 0.25 across 48 traces; strong peaks on several traces (up to 0.8838, 0.8242, 0.7548, 0.6394, 0.5402) but many low-hit traces (some near 0.0).\n- **Feedback**: Frequency-guided sampling and regret help on locality-rich workloads, but scan handling, damped p updates (alpha=0.25), and conservative promotion/bypass thresholds (2\u20133/5) likely under-admit mid-frequency items, hurting long-tail/scan-heavy traces. Tuning thresholds, cooldown, and sample_k or relaxing T2 bounding may improve balance and reduce low-end failures.\n**Program Identifier:** Generation 36 - Patch Name lecar_arc_tinylfu_hybrid - Correct Program: True\n\n**Program Name: ARC-TinyLFU with sampled LRU eviction**\n- **Implementation**: ARC-style two-segment LRU (probation/protected) with B1/B2 ghost lists and adaptive partition m_p. Eviction samples LRU-side candidates and evicts the lowest TinyLFU count; insertion uses TinyLFU-lite with periodic decay (~4\u00d7capacity), last-victim comparison, and an 80% protected target with demotion.\n- **Performance**: Combined score 0.24; strong on some traces (up to 0.8881) but many traces show low/near-zero hit rates.\n- **Feedback**: ARC adaptation plus LFU-based sampling preserves hot sets and boosts repetitive/bursty workloads. However, a large protected fraction and slow frequency aging can retain stale popularity and underperform on scans or phase shifts; tuning hot_thresh, decay interval, and protected target may improve balance.\n**Program Identifier:** Generation 37 - Patch Name arc_tlfu_sampling_promotion - Correct Program: True\n\n**Program Name: WTinyLFU-SLRU with LRFU-decayed Scoring**\n- **Implementation**: Combines a window LRU with a segmented main (M1 probationary, M2 protected) and TinyLFU admission via a Count-Min Sketch with conservative aging; intra-segment victim/demotion uses LRFU-style decayed scores with k-sampling of the LRU tail ranked by (TinyLFU estimate, decayed score). Includes adaptive window tuning and a scan detector that biases admission/promotion and replacement choices.\n- **Performance**: Combined score 0.26 over 48 traces, with hit rates ranging from 0.0000 to 0.8870 (strong on locality-heavy traces, weak on sparse/scan-like workloads).\n- **Feedback**: Decayed scoring plus TinyLFU gating preserves hot items and excels on stationary-popularity workloads, but scan suppression and admission thresholds still permit churn, leading to many very low-hit traces. Tighter scan mitigation or more responsive window sizing could reduce pollution and improve consistency.\n**Program Identifier:** Generation 38 - Patch Name conservative_sketch_and_window_eviction_fixes - Correct Program: True\n\n**Program Name: LeCaR-blend adaptive LRU/LFU eviction**\n- **Implementation**: Blends LRU and LFU experts using multiplicative weights with epsilon-exploration and inverse-probability correction, guided by key-only shadow LRU/LFU caches that simulate each expert\u2019s behavior. Maintains resident LRU via OrderedDict, lightweight global frequency with periodic aging, LFU victim via small tail-sample min-frequency, capacity-scaled aging/sample sizes, deterministic RNG for expert choice, and self-healing of resident metadata.\n- **Performance**: Combined score 0.22 over 48 traces, with moderate hits on many traces (\u22480.40\u20130.54) and strong peaks (up to 0.8783), but several near-zero results on challenging/scan-like workloads.\n- **Feedback**: The shadow-driven credit assignment and adaptive weighting capture recurring locality well, while approximate LFU sampling and coarse aging keep overhead low. However, exploration and frequency bias can mis-evict under scans or low-locality/tiny-cache traces; tuning age_period, sample_k, or exploration/penalty balance could improve robustness.\n**Program Identifier:** Generation 39 - Patch Name lecar_blend - Correct Program: True\n\n**Program Name: WTinyLFU + LRFU SLRU Hybrid Cache**\n- **Implementation**: Combines a Count-Min Sketch (TinyLFU) with periodic right-shift aging and a three-segment SLRU (Window W, Probation M1, Protected M2) managed via OrderedDict LRU. Uses LRFU-style exponential decay per key, lexicographic (TinyLFU estimate, decayed score) sampling over k LRU candidates for eviction/admission, adaptive window tuning by hit mix, capacity-tuned aging/half-life, self-healing state, and a scan detector (miss-streak/cooldown) to bias thresholds.\n- **Performance**: Combined score 0.26 over 48 traces; hit rates range 0.0000\u20130.8870, with strong results on highly reusable/skewed traces and several mid-0.4\u20130.5 cases but many low (\u22480.02\u20130.15) on harder workloads.\n- **Feedback**: The frequency-gated admission and decayed demotion effectively capture reuse under bursty/skewed access. However, the scan detector and biased thresholds can over-penalize admission during scans/unique sequences, and window tuning may adapt too slowly, contributing to numerous near-zero traces.\n**Program Identifier:** Generation 40 - Patch Name restore_lexicographic_admission_and_early_promotion - Correct Program: True\n\n**Program Name: ARC-inspired hybrid with TinyLFU sampling**\n- **Implementation**: Uses ARC-like two LRU segments (probation/protected) plus ghost lists (B1/B2) with adaptive target m_p, and a lightweight per-key frequency counter with periodic halving. Eviction samples the LRU side for low-frequency victims, biases to evict from probation during scans, enforces an ~80% protected target with demotions, and admits via ghost hits or TinyLFU-style comparison against protected\u2019s cold tail; ghost lists are bounded to capacity.\n- **Performance**: Combined score 0.25 across 48 traces, with hit rates ranging from 0.0 to 0.8886 (strong on locality-heavy traces like 27\u201328 and 34\u201338, weak on scan/low-reuse workloads).\n- **Feedback**: Scan detection based on miss streak > capacity is conservative and in the hit path is effectively disabled, likely limiting scan resistance. The fixed 80% protected target can over-protect stale items and dampen m_p\u2019s adaptation; consider reducing the protected target and making T1 sizing/admission more responsive to ghost feedback.\n**Program Identifier:** Generation 41 - Patch Name arc_tiny_competitive_eviction - Correct Program: True\n\n**Program Name: W-TinyLFU with adaptive SLRU window**\n- **Implementation**: Implements a windowed TinyLFU cache with SLRU main segments (W/M1/M2) using OrderedDict LRUs, a Count-Min Sketch with conservative updates and capacity-scaled width/aging, and adaptive window sizing based on hit attribution. Eviction compares f(new) to a sampled low-frequency candidate from M1 (biased thresholds), else evicts W-LRU; hits enable early promotion (est\u22653) and frequency-aware demotion.\n- **Performance**: Combined score 0.26 over 48 traces, with strong hits on several workloads (e.g., up to 0.8740) but very low on others (down to 0.0000).\n- **Feedback**: Works well when both recency and frequency are present, aided by early promotion and protected-region management, but struggles on streaming/rapidly shifting workloads. Likely impacted by conservative admission and LRU-tail-only sampling for candidates, and the window tuning granularity/speed.\n**Program Identifier:** Generation 42 - Patch Name conservative_tiny_lfu_and_gated_admission - Correct Program: True\n\n**Program Name: Adaptive SLRU + TinyLFU with online tuning**\n- **Implementation**: Combines a 4-row TinyLFU sketch (power-of-two width, conservative updates) with adaptive aging and a two-segment LRU (probation/protected) that promotes on probation hits and demotes to a target protected fraction. Eviction uses two-way sampled LRU (prob k=8, prot k=6) guided by TinyLFU estimates plus a capacity-sized recent ring (+1 bias) and miss-streak-driven bias.\n- **Performance**: Combined score 0.23; strong on several hot-set traces (up to 0.8872) but near-zero on multiple scan/low-reuse traces.\n- **Feedback**: Adaptation may react slowly (tuning period >= max(256, C)) and the protected fraction floor (0.55) limits recency during scans, leading to poor performance on phase shifts. The recent ring sized to capacity and aging bounds tied to sketch width can overemphasize recency and slow forgetting for small caches.\n**Program Identifier:** Generation 43 - Patch Name slru_tinylfu_adaptive_v2 - Correct Program: True\n\n**Program Name: Adaptive SLRU-TinyLFU with EMA protection**\n- **Implementation**: Two-segment LRU (probation/protected) with TinyLFU bias via a 4-row Count-Min Sketch sized to capacity (power-of-two width) and periodic halving; metadata is reset on new runs, pruned, and seeded from the cache. Eviction samples up to 8 LRU candidates per segment and chooses the lowest estimated frequency while heavily penalizing protected evictions based on an EMA-derived target and relative hotness; promotion/demotion thresholds adapt to hit-rate and miss-streak (scan) signals.\n- **Performance**: Combined score 0.24; strong hit rates on repetitive/loop workloads (peaking ~0.89) but many low/near-zero results on scan/sparse traces.\n- **Feedback**: EMA-controlled protected sizing and TinyLFU-guided sampling retain hot items well, explaining high scores on stable working sets. Scan detection and admission thresholds are not strict enough during long miss runs, causing probation churn and poor performance on one-shot/sparse traces; a stronger doorkeeper or throttled admissions under extended miss streaks could help.\n**Program Identifier:** Generation 44 - Patch Name two_way_sampling_tinyLFU_gated - Correct Program: True\n\n**Program Name: Hybrid ARC-TinyLFU cache policy**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive target p) with a 4-row Count-Min Sketch whose width scales to max(512, 4\u00d7capacity) and ages by halving counters. Eviction samples k=8 from the LRU side with TinyLFU estimates and a T2 hotness guard; hits promote T1\u2192T2, inserts early-promote to T2 if est\u22654, ghosts are capped at 2\u00d7capacity, and metadata is seeded/reset per run.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0000 to 0.8920, with many around 0.44\u20130.54 and strong spikes (e.g., traces 27\u201328).\n- **Feedback**: The hybrid improves frequency-friendly workloads, but wide variance and several near-zero traces suggest over/under-tuning (promotion threshold, sampling, guard margin, sketch aging/width) and seeding all keys into T1 may hinder early adaptation. Adding demotions and refining p adjustment/ghost handling could reduce T2 pollution and stabilize performance across diverse patterns.\n**Program Identifier:** Generation 45 - Patch Name arc_tinylfu_hybrid - Correct Program: True\n\n**Program Name: ARC+TinyLFU Cache with Ghost History**\n- **Implementation**: ARC-like T1/T2/B1/B2 with adaptive p, TinyLFU Count-Min Sketch (8-bit counters, conservative aging), and LRU-tail k-sampled victim selection; admission/promotion is sketch-gated with scan detection/cooldown and bounded ghost trimming. Capacity changes reset state and retune sampling and aging.\n- **Performance**: Combined score 0.24 over 48 traces, with high hit rates on skewed workloads (up to 0.8855) but near-zero on several scan-like/low-locality traces.\n- **Feedback**: TinyLFU-guided admission and T2 protection boost frequency-biased traces, while scan handling helps but doesn\u2019t fully prevent streaming degradation (e.g., traces 11, 14, 32, 33). Tuning the miss-streak threshold/scan window and p-update dampening could reduce variability and improve low-locality performance.\n**Program Identifier:** Generation 46 - Patch Name arc_tinyLFU_sampling_scanbias - Correct Program: True\n\n**Program Name: Hybrid ARC+TinyLFU with LRFU sampling**\n- **Implementation**: Implements ARC with T1/T2 and B1/B2 ghosts (adaptive p), augmented by TinyLFU (4-row CMS with capacity-scaled width and periodic aging) for admission and LRFU-style exponentially decayed scores for within-segment victim choice. Eviction samples up to K LRU candidates and selects the lexicographic minimum of (TinyLFU estimate, decayed score), with a T2-protection guard; new items start at score 0.5 and early-promote to T2 when est\u22654.\n- **Performance**: Combined score 0.25; hit rates range 0.0\u20130.8922 (strong on traces 27/28/34/38, weak on scans like 14), and it passes all validation tests.\n- **Feedback**: The hybrid favors stable locality/frequency, achieving high peaks, but is brittle under scans and short bursts where low initial scores and LRU-biased sampling cause churn. Capacity-scaled CMS/decay aid adaptation, yet the early-promotion threshold and lexicographic tie-break can under-admit emerging items.\n**Program Identifier:** Generation 47 - Patch Name arc_tinylfu_lrfu_hybrid - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Maintains four SLRU segments (W1/W2, M1/M2) with a Count-Min Sketch (TinyLFU) using conservative updates and periodic aging; window and protection fractions auto-tune based on hit/promotion stats and capacity-resized sketch. Eviction is competitive and scan-aware, comparing new frequency estimates to sampled LRU candidates (M1/M2) with bias and otherwise evicting W1; hit/insert hooks manage ARC-like promotions/demotions and a self-heal reconciles state.\n- **Performance**: Combined score 0.26 across 48 traces, with strong results on skewed/reuse-heavy traces (e.g., 0.80\u20130.88 on traces 27\u201328, 0.76 on 34) but many low to near-zero hit rates on others.\n- **Feedback**: TinyLFU-gated admission plus protected segments benefits stable locality, and scan bias helps some sequential scans. However, the miss-streak scan detector and cautious window-to-main admission can leave W1 churning and underpopulate main on fast-shifting or sparse-reuse workloads, contributing to several traces \u22640.1 hit rate.\n**Program Identifier:** Generation 48 - Patch Name splitwin_tlfu_slru_arc - Correct Program: True\n\n**Program Name: LeCaR-TinyLFU Hybrid Cache**\n- **Implementation**: Mixes LRU (OrderedDict recency) and LFU (freq buckets with min_freq) with online multiplicative-weights learning and a regret signal from an evicted_by history; admissions/evictions are guarded by a TinyLFU Count-Min Sketch with periodic aging and capacity-scaled sampling from LRU/LFU victim candidates. Deterministic argmax policy selection, sketch width \u2265 max(512, 4C), and bounded metadata keep overhead predictable and structures synchronized.\n- **Performance**: Combined score 0.23 over 48 traces, achieving up to 0.88 hit rate on skewed workloads but many low-hit traces reduce the average.\n- **Feedback**: The TinyLFU guard and sampling effectively protect hot items, yielding strong results on skewed traces, while the deterministic, no-exploration learner and reliance on regret only upon re-reference can lead to lock-in and poor adaptation on churny/uniform workloads. Tuning sample_k, aging cadence, or adding exploration could improve robustness across diverse traces.\n**Program Identifier:** Generation 49 - Patch Name lecar_tinylfu_lru_lfu - Correct Program: True\n\n**Program Name: ARC-TinyLFU with scan-aware admission**\n- **Implementation**: Integrates ARC (T1/T2 with B1/B2 ghosts and adaptive target p) with a 3-hash Count-Min Sketch featuring conservative aging tuned by capacity to guide admission, promotion, and victim choice. Evictions sample LRU-side keys to evict the lowest estimated frequency; warmup bias, miss-streak-based scan-mode, and W-TinyLFU competitive admission (vs sampled T1/T2) are used, with promotion thresholds tightened during scan-mode and robust pruning/reset on capacity changes.\n- **Performance**: Combined score 0.24; strong on skewed/repetitive traces (peaking at 0.8855) and moderate on several (\u22480.46\u20130.53), but very low on many streaming/long-tail traces (often near 0).\n- **Feedback**: The scan-mode and conservative admission/promotion likely over-bias toward T1, under-filling T2 and hurting diverse/streaming workloads despite ARC ghost adaptation. Relaxing cooldown and thresholds or adjusting sampling/aging aggressiveness could admit hot items sooner while still controlling scan pollution.\n**Program Identifier:** Generation 50 - Patch Name arc_tlfu_hybrid - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU and Scan-Aware Admission**\n- **Implementation**: 4-segment ARC-like SLRU (W1/W2/M1/M2) with a Count-Min Sketch (conservative updates, periodic aging) for TinyLFU admission; adaptive tuning of window/protection fractions, randomized tail sampling for low-frequency victim choice, scan detection via miss streak to bias comparisons, and self-healing against cache desync.\n- **Performance**: Combined score 0.26 across 48 traces; peak hit rate 0.8867 (trace 28) but near-zero on scan-heavy traces (e.g., trace 14 = 0.0000).\n- **Feedback**: Strong on mixed recency/frequency and hot-set reuse, indicating effective M2 protection and TinyLFU-gated promotions; weak on long scans and very sparse reuse, suggesting the scan cooldown threshold and default 25% window may still admit too much noise\u2014more aggressive scan bypass or faster window shrinkage could help.\n**Program Identifier:** Generation 51 - Patch Name splitwin_tlfu_tail_sampling_promo - Correct Program: True\n\n**Program Name: Adaptive W-TinyLFU+LRFU SLRU Cache**\n- **Implementation**: Combines a Count-Min Sketch (conservative update, adaptive aging) for TinyLFU admission with a 4-segment SLRU layout (W1/W2/M1/M2) and per-key LRFU-style decayed scores; eviction uses randomized tail sampling with a slight bias to protect M2. Includes adaptive tuning of window/protected sizes and decay half-life, a phase ring boost, and scan detection (miss EMA/streak) to modulate admission thresholds.\n- **Performance**: Combined score 0.23 across 48 traces; hit rates ranged from 0.00 to 0.89, performing strongly on locality-rich traces but collapsing on several scan-like workloads.\n- **Feedback**: The TinyLFU gating plus LRFU promotion/protection effectively captures hot sets in multi-phase/locality-heavy traces, but scan handling remains too weak/late, leading to near-zero hits on streaming/near-random patterns. Consider stronger scan shedding (heavier W1 preference), faster sketch aging under high miss EMA, and tuning win/protected fractions to curb overadmission during scans.\n**Program Identifier:** Generation 52 - Patch Name wtlfu_slru_prot_adapt_v3 - Correct Program: True\n\n**Program Name: ARC-inspired adaptive cache with frequency aging**\n- **Implementation**: ARC-like two-tier design (probation/protected) with ghost lists (B1/B2) and adaptive target p; lightweight per-key frequency counters with periodic halving. Eviction samples the LRU side and picks the lowest-frequency candidate, with a miss-streak scan guard to resist scans.\n- **Performance**: Combined score 0.24 over 48 traces, with hit rates spanning 0.00\u20130.8915 (strong on locality-rich traces, weak on scan/low-reuse workloads).\n- **Feedback**: Ghost-based p-adaptation and aging-backed frequency signals capture recency vs. frequency well on mixed/locality workloads. Persistent scan/low-reuse patterns still depress hit rates; tuning aging cadence and promotion thresholds could improve robustness across adversarial traces.\n**Program Identifier:** Generation 53 - Patch Name arc_scan_guard_paware - Correct Program: True\n\n**Program Name: LeCaR-Style Adaptive LRU/LFU with Ghosts**\n- **Implementation**: Maintains LRU recency (OrderedDict) and aged per-key frequencies, plus two capacity-bounded ghost caches (for LRU/LFU evictions) to drive multiplicative-weights updates of expert weights. Eviction deterministically follows the higher-weight expert; LFU victims are chosen by sampling up to k oldest LRU-tail keys and picking the lowest frequency, with self-healing state and capacity-tuned aging/sampling.\n- **Performance**: Combined score 0.22 over 48 traces with hit rates ranging from 0.0 to 0.8756 (strong on some traces like 27/28/34/38, weak or near-zero on many others).\n- **Feedback**: Large variance indicates brittle/slow adaptation; deterministic expert selection and ghost-triggered updates only likely reduce exploration and responsiveness, hurting diverse workloads. Sampling LFU only from the LRU tail biases toward recency; broader candidate sets or probabilistic mixing could improve robustness.\n**Program Identifier:** Generation 54 - Patch Name lecar_adaptive_lru_lfu - Correct Program: True\n\n**Program Name: Adaptive SLRU with TinyLFU Sampling**\n- **Implementation**: Two-segment SLRU (probation/protected) with B1/B2 ghost lists and a lightweight aging frequency table; eviction samples the LRU tail band and evicts the lowest-frequency key, biased away from very recent items via a bounded recent ring. The protected fraction auto-tunes from segment hit shares and promotions/demotions, with scan detection (miss-streak) gating promotions, trimming protection, and accelerating frequency aging; metadata is reset/pruned per run and ghosts are capacity-bounded.\n- **Performance**: Combined score 0.24 over 48 traces (best 0.8884, several near zero); program is correct and passes all validations.\n- **Feedback**: Frequency-biased sampling and adaptive protection produce strong results on locality-rich traces (e.g., 27/28/34/38) but struggle on scan/low-reuse workloads (e.g., 14/32) with many near-zero hit rates. Ghosts aid re-admission but aren\u2019t consulted for victim choice, and scan gating may be too lenient\u2014tighter scan admission/eviction or more dynamic sampling/aging could reduce pollution and improve middling cases.\n**Program Identifier:** Generation 55 - Patch Name slru_tiny_adaptive - Correct Program: True\n\n**Program Name: WTinyLFU+SLRU with LRFU decay**\n- **Implementation**: Window LRU plus SLRU main (probationary/protected) with a Count-Min TinyLFU sketch for admission and LRFU-style decayed scores for intra-segment selection; includes randomized tail sampling, scan detection (miss_streak/cooldown), and periodic tuning of window/protected fractions, sketch aging, and half-life. Self-healing reconciles segments with the cache snapshot and demotions use lexicographic coldness (TinyLFU estimate, then decayed score).\n- **Performance**: Combined score 0.26 over 48 traces, peaking at 0.8888 on locality-rich workloads but dropping to near 0 on streaming/adversarial traces.\n- **Feedback**: Competitive admission and early promotion reduce window churn and protect hot items, yielding strong results on repetitive/Zipfian patterns, but scan handling can under-react and overprotect M2, hurting performance on low-reuse/scan-heavy traces. High variance suggests tuning sensitivity of window/protected targets and decay/aging parameters in mixed or low-frequency regimes.\n**Program Identifier:** Generation 56 - Patch Name slru_adaptive_protection_and_random_tail_sampling - Correct Program: True\n\n**Program Name: Hybrid TinyLFU-LRFU SLRU cache**\n- **Implementation**: Combines a windowed TinyLFU (Count-Min sketch with aging) with an SLRU main (M1 probationary, M2 protected) and LRFU-style exponentially decayed scores for sampling-based victim selection, promotion, and demotion. Includes adaptive window sizing based on hit distribution, guarded M2 eviction, early protected admission, and a self-healing pass to reconcile segments with the actual cache.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates span 0.0\u20130.8846, with strong results on locality-heavy traces (e.g., 0.8846, 0.8272, 0.7575) and weak on streaming/low-reuse workloads.\n- **Feedback**: Adaptive window tuning and guarded M2 protection effectively preserve hot sets, boosting performance on reuse-heavy traces. However, conservative early-protected thresholds and a small sampling window (k\u226412, tail_len\u22644k\u224848) may under-react in large caches and short bursts, contributing to low scores on several traces.\n**Program Identifier:** Generation 57 - Patch Name wtinylfu_slru_random_tail_and_guarded_admission - Correct Program: True\n\n**Program Name: Split-Window TinyLFU (dual SLRU)**\n- **Implementation**: Implements a split-window TinyLFU with dual SLRU segments (W1/W2 and M1/M2) and a Count-Min Sketch (conservative updates and aging) to guide admission and victim selection. Uses randomized tail sampling for competitive admission between M1/M2 with a slight protection bias for M2, adaptive resizing of window/protection fractions, and scan-aware cooldown to adjust thresholds and biases.\n- **Performance**: Combined score 0.25 across 48 traces (hit rates 0.0000\u20130.8836), strong on reuse-heavy traces (27\u201328) but weak on scans/low-reuse workloads; passes all validation tests.\n- **Feedback**: Scan-aware cooldown and competitive TinyLFU admission help when frequency signals are stable, but aggressive early bypass and protection tuning can over-favor main and starve the window under scans, yielding near-zero hits on some traces. Consider reducing scan bias/thresholds and moderating early bypass or increasing M2 demotion pressure to improve streaming and short-loop robustness.\n**Program Identifier:** Generation 58 - Patch Name two_way_competitive_admission_and_scan_guard - Correct Program: True\n\n**Program Name: ARC+TinyLFU with LRFU-decayed sampling**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive p) with a capacity-scaled TinyLFU Count-Min Sketch (4 hashes, power-of-two width, periodic halving) and LRFU exponential decay scores. Eviction samples the LRU tail within the chosen segment and selects the key with the lexicographically lowest (TinyLFU estimate, decayed score); a scan-aware cooldown biases replacement toward T1 and tempers promotions.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0 to 0.8903, with strong results on locality-rich traces and weak performance on scan/low-reuse workloads.\n- **Feedback**: The hybrid admission and decayed sampling effectively protect hot items (notably high hit rates on traces 27, 28, 34, 38). However, despite cooldown heuristics, scan-heavy or churny traces still degrade sharply, suggesting the scan handling and promotion thresholds remain conservative under sustained misses.\n**Program Identifier:** Generation 59 - Patch Name arc_tinylfu_scan_guard_random_tail - Correct Program: True\n\n**Program Name: ARC+TinyLFU Tail-Sampled Eviction**\n- **Implementation**: ARC-like design with T1/T2 resident lists, B1/B2 ghost histories, and adaptive target p; integrates TinyLFU-style decayed frequency and per-key recency. Eviction samples up to k LRU candidates from T1/T2 and selects the coldest by (frequency, recency) with a +1 frequency bias protecting T2; metadata is pruned, and frequency maps are bounded and periodically decayed.\n- **Performance**: Combined score 0.24; hit rates ranged from 0.0000 to 0.8817 across 48 traces.\n- **Feedback**: Frequency-biased tail sampling performs well on skewed/repetitive workloads (e.g., traces 27\u201328, 34, 38) but collapses on scans/low-locality traces (e.g., 14, 32\u201333). Relying on sampling over ARC\u2019s p-driven victim selection may overprotect T2 and reduce scan resistance; tuning k and bias or incorporating ghost-driven victim decisions could stabilize results.\n**Program Identifier:** Generation 60 - Patch Name arc_tinylfu_sampling_eviction - Correct Program: True\n\n**Program Name: LeCaR-TinyLFU with EMA regret**\n- **Implementation**: Uses a TinyLFU Count-Min sketch with conservative updates and adaptive aging, plus a single global LRU (OrderedDict). Eviction deterministically picks between the pure LRU tail and the LRU-tail key with minimum TinyLFU estimate, mixed via multiplicative weights updated by ghost-hit regret; an EMA miss-rate biases toward LFU under scans, with capacity-aware sampling/aging and self-healing of the recency list.\n- **Performance**: Combined score 0.22 over 48 traces; strong on locality-heavy traces (e.g., 0.74\u20130.88 on 27, 28, 34) but many traces near zero.\n- **Feedback**: Deterministic tail-min sampling and EMA bias help during phases with reuse, but limited sampling (up to 4k of tail) and modest learning rate/ghost TTL can under-adjust on diverse workloads, leading to many low-hit traces. Cold-start resets on capacity/trace changes and reliance on Python\u2019s hash for the sketch may add noise and slow convergence.\n**Program Identifier:** Generation 61 - Patch Name lecar_tinylfu_ema - Correct Program: True\n\n**Program Name: Hybrid TinyLFU-SLRU with LRFU decay**\n- **Implementation**: Combines a Windowed TinyLFU admission filter with an SLRU main (probationary/protected) and LRFU-style decayed scores for promotion/demotion and tie-breaking. Uses a Count-Min Sketch with conservative increments and periodic aging, randomized tail sampling for cold candidates, scan detection/cooldown, and adaptive tuning of window/protected sizes and decay half-life.\n- **Performance**: Combined score 0.0; the program failed validation tests.\n- **Feedback**: The complex adaptive logic likely led to incorrect state/invariants under the evaluator (e.g., segment bookkeeping and victim selection across window/main balancing), causing test failures. Review deterministic behavior (hashing), strict API/state handling after evictions, and ensure eviction choices always reference resident keys with consistent segment updates.\n**Program Identifier:** Generation 62 - Patch Name wtlfu_slru_arc_tuned - Correct Program: False\n\n**Program Name: WTinyLFU + SLRU (Caffeine-style)**\n- **Implementation**: Three LRU segments (W, M1, M2) via OrderedDict with TinyLFU admission using a 4-row count-min sketch (power-of-two width, exponential aging) and timestamps for age-based tie-breaks. Eviction uses competitive admission between W-LRU and a sampled M1 tail, promotions follow W\u2192M1\u2192M2, and an EMA of miss rate adapts window size and sampling.\n- **Performance**: Combined score 0.23 over 48 traces, with strong results on locality/skewed traces (peaks ~0.88) and very low hit rates on scan/adversarial workloads (near 0 on several traces).\n- **Feedback**: The EMA (alpha=0.05) adapts slowly, which can under-react to rapid shifts; deterministic \u201cfirst-k\u201d tail sampling may bias victim choice. Hot-item bypass thresholds (>=5 to M2, >=4 on hit) and a high protected target can help stability but risk protected pollution under scans, contributing to the low outliers.\n**Program Identifier:** Generation 63 - Patch Name wtinylfu_slru_caffeine_style - Correct Program: True\n\n**Program Name: CSLRU-TinyLFU with Dual-Tail Eviction**\n- **Implementation**: Three resident segments (W, M1, M2) with two ghost lists (G1, G2), TinyLFU (Count-Min Sketch with global halving) plus LRFU-style decayed recency, and eviction via sampling LRU tails of W and M1 using a lexicographic coldness (TinyLFU estimate, decayed score) while heavily biasing protection of M2; phase-aware EMA detects scans to adapt aging/half-life, freeze promotions, and tweak segment ratios. Admission promotes ghost hits to M2, otherwise admits by comparing new frequency to M1 tail, falling back to W during cooldown.\n- **Performance**: Across 48 traces, hit rates ranged 0.0\u20130.8882 (e.g., 0.8882 on trace_28) with a combined score of 0.25.\n- **Feedback**: The policy excels on locality-rich workloads due to strong M2 protection and frequency-aware admission, but struggles on scan/adversarial traces where cooldown plus M2 bias/promotion thresholds (>=3) can overprotect and suppress adaptation, yielding near-zero hit rates. Tuning promotion thresholds, M2 bias, and window/protected fractions during cooldown may reduce the severe drops while preserving high-hit performance on recurring hot sets.\n**Program Identifier:** Generation 64 - Patch Name cslru_tinylfu_dual_compete - Correct Program: True\n\n**Program Name: Duel-EMA TinyLFU SLRU (decayed recency)**\n- **Implementation**: Three-tier SLRU (window, probationary, protected) guided by TinyLFU (Count-Min Sketch with conservative updates and periodic aging) and an LRFU-style decayed-recency score; victims selected via dual-tail sampling across L1/L2 using lexicographic (frequency, decayed-recency) comparison with a +1 bias protecting L2. EMA-based scan detection tightens admission/promotion and retunes window/protected sizes; a recent-phase ring grants a +1 boost to recently seen keys, with self-healing and capacity-aware tuning.\n- **Performance**: Combined score 0.24 over 48 traces; hit rates range 0.00\u20130.89, strong on traces 27/28/34/38 but very low on many others.\n- **Feedback**: Dual-tail competitive admission and L2 bias preserve hot items and perform well on stable/locality-rich workloads, but aggressive cooldown and conservative gates often under-admit, causing many near-zero traces. Adaptive tuning helps, yet sensitivity to EMA-triggered throttling and over-protection of L2 likely hurts under rapid phase changes.\n**Program Identifier:** Generation 65 - Patch Name duel_ema_tinylfu_slru - Correct Program: True\n\n**Program Name: W-TinyLFU SLRU with LRFU-decayed scoring**\n- **Implementation**: Implements Windowed TinyLFU with SLRU main (M1/M2) and an LRFU-style decayed score, backed by a conservative Count-Min Sketch with periodic halving. Eviction/admission samples k LRU candidates using lexicographic (TinyLFU estimate, decayed score), includes early promotion/demotion, adaptive window tuning, self-healing, and EMA-based scan bias/cooldown.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates ranged from 0.0 to 0.8867, strong on locality-rich traces (e.g., 27/28/34/38) and weak on scan/adversarial workloads.\n- **Feedback**: Scan detector and admission bias reduce scan pollution but appear overly conservative, causing slow warmup and many near-zero traces. Relaxing EMA thresholds/cooldown, tweaking bias, or shortening the LRFU half-life may improve admission on mixed workloads without sacrificing scan resistance.\n**Program Identifier:** Generation 66 - Patch Name tlfu_competitive_with_ema_scan - Correct Program: True\n\n**Program Name: Split-Window TinyLFU + Dual SLRU**\n- **Implementation**: Uses a Count-Min Sketch with conservative updates and aging to drive a split-window, dual-SLRU design (W1/W2 for window, M1/M2 for main). Victims are chosen via sampled tail candidates using a coldness tuple (frequency with M2 bias, decayed recency), with scan detection (miss-streak cooldown), competitive admission, and periodic auto-tuning of window/protection fractions.\n- **Performance**: Combined score 0.24 across 48 traces; strong on several workloads (up to 0.8824) but near-zero on a subset, indicating high variance.\n- **Feedback**: M2-protection bias and competitive admission benefit frequency-skewed traces, but scan guards and strict frequency gates sometimes suppress promotions, leading to very low hit rates on scan-like or highly diverse workloads. Consider easing scan thresholds, reducing M2 bias, or widening sampling to improve robustness across traces.\n**Program Identifier:** Generation 67 - Patch Name duo_win_tinylfu_slru_scan_guard - Correct Program: True\n\n**Program Name: ARC+TinyLFU+LRFU Scan-Aware Cache Policy**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive p) for recency/frequency partitioning, TinyLFU (4-row CMS with periodic aging) for admission, and LRFU decayed scores (capacity-tuned half-life) with deterministic LRU-tail sampling for intra-segment victim choice, plus a scan-aware cooldown that biases replacements/promotions.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.0000\u20130.8925, strong on skewed workloads (e.g., traces 27, 28, 34, 38) and weak on scan-like streams (e.g., trace 14).\n- **Feedback**: The hybrid protects hot items and mitigates scans, but aggressive cooldown and strict early-promotion thresholds (e.g., TinyLFU threshold 6 during cooldown) can under-promote moderately hot keys; deterministic tail sampling may miss better victims deeper in the list. Easing cooldown/thresholds or increasing sampling breadth could improve mid-range traces without hurting robustness.\n**Program Identifier:** Generation 68 - Patch Name arc_tinylfu_lrfu_scan - Correct Program: True\n\n**Program Name: ARC-inspired LRFU Adaptive Cache**\n- **Implementation**: Combines ARC-style probation/protected queues with B1/B2 ghost lists and adaptive target p, enforcing an 80% protected target. Uses lightweight frequency counters with periodic aging and an LRFU decayed score; eviction samples the LRU tail and picks the coldest by (freq, decayed score).\n- **Performance**: Combined score 0.25 over 48 traces; hit rates ranged 0.0\u20130.8882, strong on reuse-heavy traces (e.g., 27\u201328, 34, 38) and weak on scan-like workloads (e.g., 14, 32).\n- **Feedback**: The sampling-based victim choice and protected bias retain hot sets well. However, high scan thresholds and damped ARC p-updates limit responsiveness, leading to poor behavior on long scans and rapidly shifting workloads.\n**Program Identifier:** Generation 69 - Patch Name arc_tiny_lfu_lrfu_lex_cold_sampling - Correct Program: True\n\n**Program Name: Hybrid ARC+TinyLFU with LRFU Sampling**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive p) with TinyLFU admission via a capacity-scaled count-min sketch and per-key LRFU-decayed scores; eviction samples the LRU tails of both segments and picks the colder by (TinyLFU, LRFU) with a slight T2 bias. Includes scan-aware cooldown, early-promotion thresholds, periodic sketch aging, and OrderedDict-based segment maintenance.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates ranging from 0.00 to 0.89 (notably strong on mixed recency/frequency traces and weaker on scan-like or low-locality workloads).\n- **Feedback**: LRFU-decayed sampling and T2 protection help retain reusable objects, but conservative promotion and cooldown heuristics likely suppress adaptation during scans, producing several near-zero traces. Tuning half-life, sample size, CMS aging, and cooldown trigger thresholds may reduce variance and improve robustness on shifting workloads.\n**Program Identifier:** Generation 70 - Patch Name dual_segment_sampling_bias_and_t2_target - Correct Program: True\n\n**Program Name: Split-Window TinyLFU Dual-SLRU Cache**\n- **Implementation**: Implements a split-window (W1/W2) and dual-SLRU (M1/M2) design with TinyLFU admission using a conservative-update Count-Min Sketch with periodic aging; eviction samples cold candidates using frequency plus last-touch tie-break. Adds self-healing, adaptive segment sizing based on hit/promotion/demotion stats, and a scan-aware cooldown that biases against promoting/evicting from M2.\n- **Performance**: Combined score 0.26 across 48 traces, with strong hit rates on reuse-heavy traces (peaking at 0.8785) but very low rates on many streaming-like traces (several near 0).\n- **Feedback**: Competitive TinyLFU admission and protected M2 improve frequency-sensitive workloads, but scan handling and window sizing appear conservative, causing thrash on long miss streaks. Earlier/more aggressive scan detection or a larger window/probation share could mitigate streaming-path underperformance.\n**Program Identifier:** Generation 71 - Patch Name win_tinylfu_dual_slru_comp - Correct Program: True\n\n**Program Name: WTinyLFU + SLRU with LRFU Decay**\n- **Implementation**: Implements a windowed TinyLFU with SLRU (M1 probation/M2 protected) main, using a Count-Min Sketch (conservative aging) for admission and LRFU-style lazily decayed scores with randomized tail sampling for victim choice. It adaptively tunes window/protected sizes and decay/aging via hit-share and EMA miss-rate, with scan detection and a recent-ring to bias admissions/evictions.\n- **Performance**: Combined score 0.26 across 48 traces, with hit rates ranging 0.00\u20130.8867 (strong on locality-rich traces, weak on scan/streaming workloads).\n- **Feedback**: Scan guard and biased admission curb window thrashing and deliver high gains on bursty/locality phases, but aggressive bias/short half-life likely under-protect medium-frequency items, yielding many very low-hit traces. Relaxing EMA thresholds or increasing half-life and rebalancing protected sizing under churn may improve robustness across diverse traces.\n**Program Identifier:** Generation 72 - Patch Name ema_tinylfu_ring_boost - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Four-segment SLRU (W1/W2, M1/M2) with TinyLFU via a conservative Count-Min Sketch guides admission/eviction using LRU-tail sampling with last-touch recency and protection bias. Includes scan detection that raises admission thresholds, adaptive tuning of window/protection fractions, and self-healing to keep segments consistent with the cache.\n- **Performance**: Combined score 0.26 over 48 traces; strong on locality-rich workloads (peaks up to 0.8783) but many traces under 0.2, including a 0.0 worst case.\n- **Feedback**: ARC-like promotions and TinyLFU-gated admission benefit skewed and multi-phase traces, but scan-cooldown bias plus conservative admission can over-protect main segments, starving new items on streaming/cold-start workloads. Capacity-scaled tuning periods and small sampling (k\u226412) may slow adaptation and reduce candidate discrimination.\n**Program Identifier:** Generation 73 - Patch Name tinyflu_lrfu_lexicographic_sampling - Correct Program: True\n\n**Program Name: WTinyLFU with Segmented LRU and EMA Guard**\n- **Implementation**: Implements Window-TinyLFU with three LRU segments (W/M1/M2), a Count-Min Sketch with conservative halving, lexicographic tail sampling (freq asc, age desc) with a +1 bias to protect M2, and adaptive tuning of window/protected sizes and sample_k. Admission/promotion is EMA-guarded (miss-rate EMA triggers cooldown to expand W and raise thresholds), includes recent-evict boosting, soft M2 demotion, and stale-metadata pruning against the cache snapshot.\n- **Performance**: Combined score 0.24; hit rates vary from near-zero on many traces to highs of 0.8882 (notably traces 27, 28, 34, 38) and mid 0.46\u20130.54 on several others.\n- **Feedback**: Strong on skewed and temporal-locality workloads; the scan/phase guard helps, but numerous traces with very low hits suggest conservative admission/promotion or late scan detection under high churn. Easing bypass/promotion thresholds or triggering cooldown earlier could improve robustness on adversarial and rapidly shifting workloads.\n**Program Identifier:** Generation 74 - Patch Name slru_tinylfu_ema_v2 - Correct Program: True\n\n**Program Name: ARC+TinyLFU with LRFU and scan-aware SLRU**\n- **Implementation**: Combines ARC (T1/T2 with B1/B2 ghosts and adaptive p) with a Count-Min Sketch (TinyLFU) for admission and LRFU-style decayed scores for intra-segment victim selection; eviction samples from segment LRU tails and chooses lexicographically by CMS estimate then decayed score, with a guard to avoid evicting much hotter T2 items. Includes scan detection via miss-streak-driven cooldown, SLRU-like protected target (~80% T2), capacity-tuned CMS aging/half-life, and ARC ghost bounding to 2\u00d7capacity.\n- **Performance**: Combined score 0.24 over 48 traces; hit rates span 0.0000\u20130.8879 with strong results on traces 27\u201328, 34, 38 and solid mid-range on 8\u201310, but very low on several scan-heavy or highly volatile traces (e.g., 14, 32\u201333).\n- **Feedback**: The hybrid recency/frequency design excels on locality-rich and bimodal workloads, but the aggressive protected target and scan-cooldown heuristics can suppress recency and promotion, hurting quickly shifting or scan-dominated patterns. Consider relaxing the 80% T2 cap, lowering admission thresholds during cooldown, or widening the eviction sample to reduce mis-evictions and improve robustness on churny traces.\n**Program Identifier:** Generation 75 - Patch Name arc_tlfu_lrfu_slarc - Correct Program: True\n\n**Program Name: ARC+TinyLFU hybrid with sampled-tail eviction**\n- **Implementation**: ARC-inspired two-segment cache (probation/protected) with ghost lists (B1/B2) and adaptive p, augmented by a capacity-aware TinyLFU count-min sketch (3 rows, periodic halving) for admission/eviction. Eviction samples LRU tails per segment and compares TinyLFU estimates; promotions target ~80% protected with scan-aware bias via miss-streak detection and lightweight local-frequency aging.\n- **Performance**: Combined score 0.25; across 48 traces hit rates ranged 0.0000\u20130.8858 (strong on 27/28/34/38, weak on 14/32), with many workloads in the 0.4\u20130.5 band.\n- **Feedback**: Frequency-informed admission and protected bias improve hot-set/mixed workloads, but coarse scan detection (global miss-streak) leads to very low hit rates on heavy-scan or huge working-set traces. Refining scan detection and calibrating promotion thresholds/adaptive p could reduce T1 churn and better utilize T2 under adversarial patterns.\n**Program Identifier:** Generation 76 - Patch Name tiny_lfu_tail_sampling_and_protected_bias - Correct Program: True\n\n**Program Name: Hybrid W-TinyLFU SLRU-LRFU Cache**\n- **Implementation**: Combines Windowed TinyLFU admission with SLRU main (probation/protected) segments and LRFU-style decayed scores for intra-segment victim selection, plus an EMA-based scan guard and a recent-ring boost. Includes adaptive tuning of segment targets, sketch aging, and sampling based on observed hit distribution and miss pressure.\n- **Performance**: Combined score to maximize: 0.0; fails validation tests.\n- **Feedback**: The complex state transitions and self-healing between W/M1/M2 and the cache snapshot likely desynchronize membership, producing invalid victim choices in tests. Reliance on access_count timing, aggressive cooldown biasing, and non-conservative CM-sketch updates may further hurt admission/eviction correctness and stability.\n**Program Identifier:** Generation 77 - Patch Name wtlfu_lrfu_ema_guard - Correct Program: False\n\n**Program Name: ARC-TinyLFU with tail sampling**\n- **Implementation**: Hybrid ARC with probation (T1), protected (T2), and ghost lists (B1/B2) with adaptive target P, augmented by a TinyLFU Count-Min Sketch (3 hashes, 2^12 width, conservative aging) to guide admission/eviction via LRU-tail sampling and simple scan detection using a miss streak. Metadata is pruned/seeded from the cache to keep segments roughly aligned.\n- **Performance**: Combined score 0.0; fails validation tests.\n- **Feedback**: Segment/ghost bookkeeping appears inconsistent\u2014evicted keys aren\u2019t always ghosted (only if present in T1/T2), and pruning/seeding can desynchronize segments from the cache, undermining ARC\u2019s adaptation and leading to incorrect behavior. Tail-sampling may target untracked residents, further reducing effective ARC feedback and contributing to failing validations.\n**Program Identifier:** Generation 78 - Patch Name arc_tinylfu_tail_sampling - Correct Program: False\n\n**Program Name: Split-Window TinyLFU with Dual SLRU and Scan Guard**\n- **Implementation**: Uses a four-segment SLRU (W1/W2/M1/M2) with TinyLFU via a Count-Min Sketch (conservative updates, capacity-scaled width, periodic aging) to drive competitive admission and eviction using frequency-aware LRU-tail sampling with recency tiebreaks and ARC-like promotions/demotions. Includes EMA-based scan detection/cooldown, adaptive tuning of window/protection fractions and sample size, and self-healing of segment state.\n- **Performance**: Combined score 0.26 over 48 traces; high hit rates on locality-rich traces (up to 0.8831) but near-zero on several scan/sparse workloads.\n- **Feedback**: Scan-aware admission and strong TinyLFU gating prevent scan pollution but can over-throttle promotions/admissions on streaming or low-reuse phases, producing very low hits on some traces. Deterministic LRU-tail sampling and conservative window defaults likely contribute to workload sensitivity.\n**Program Identifier:** Generation 79 - Patch Name tiny_lfu_ema_scan_bypass_and_competitive_victim - Correct Program: True\n\n**Program Name: Dual-Sampled TinyLFU SLRU Cache**\n- **Implementation**: Three-segment SLRU (window/probation/protected) guided by a TinyLFU Count-Min sketch, with dual tail sampling from M1/M2 using a lexicographic (frequency, exponentially-decayed recency) comparator and a +1 bias against protected. Includes scan-aware miss-EMA cooldown, a recent-ring frequency boost, self-healing of segment metadata, and periodic auto-tuning of window/protected fractions and sketch aging.\n- **Performance**: Combined score 0.23 over 48 traces; strong on locality-rich traces (peaks up to 0.8886) but many traces show very low or near-zero hit rates.\n- **Feedback**: Protected-biased admission plus cooldown effectively shields the main but can starve the window, harming scan/phase-heavy workloads (e.g., zeros on traces 14/33). Deterministic tail sampling and promoting untracked hits directly to protected may increase variance; consider introducing randomness in sampling and relaxing protected promotion to improve robustness.\n**Program Identifier:** Generation 80 - Patch Name dual_sampled_tinylfu_slru - Correct Program: True\n\n**Program Name: WTiny-SLRU + TinyLFU Adaptive Cache**\n- **Implementation**: Windowed SLRU with three segments (W/M1/M2) guided by a Count-Min Sketch (conservative aging) for TinyLFU-based competitive admission and victim selection via tail min-frequency sampling with M2 bias. Includes adaptive tuning of window/protected fractions, sampling rate and sketch aging, EMA-based miss/cooldown for scans, a small recent ring for phase shift, and desync repair against the ground-truth cache snapshot.\n- **Performance**: Combined score 0.25 with hit rates spanning 0.00\u20130.8891 across 48 traces; strong on high-locality traces (e.g., 27\u201328: 0.8034\u20130.8891) and moderate on several others (~0.43\u20130.54), but very low on many low-locality workloads.\n- **Feedback**: The cooldown bias and stricter M1 admission gate seem to mitigate scans but under-admit moderately hot items, contributing to near-zero hit rates on bursty/low-locality traces. Relaxing cooldown bias or admission thresholds and/or growing the window sooner could reduce thrashing and improve the weak tails.\n**Program Identifier:** Generation 81 - Patch Name wtiny_slru_v2 - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with dual SLRU**\n- **Implementation**: Implements a split window (W1/W2) and dual SLRU main (M1/M2) with a conservative Count-Min sketch (TinyLFU) featuring periodic aging, lexicographic coldness (frequency + last_touch), and sampled-tail victim selection. Admission/eviction is competitive against M1/M2 tails, with scan detection via miss streaks triggering cooldown to gate promotions and biases; segment sizes auto-tune periodically based on hit and promotion/demotion stats.\n- **Performance**: Combined score to maximize: 0.26; across 48 traces, hit rates ranged from 0.8833 on locality-rich workloads to near-zero on scan-like/diverse traces.\n- **Feedback**: Scan-aware cooldown and added M2 protection reduced pollution and yielded strong results on frequency/recency-friendly traces (e.g., 27/28/34/38), but conservative admission and gated promotions likely under-admitted legitimate short bursts, leading to many low-hit traces. Relaxing biases/tuning thresholds or adjusting early-admission criteria could improve robustness on mixed and scan-heavy workloads.\n**Program Identifier:** Generation 82 - Patch Name tinylfu_dual_main_lexi_sampling_gated_promotions - Correct Program: True\n\n**Program Name: WTiny-SLRU with Adaptive TinyLFU**\n- **Implementation**: Three-tier SLRU (Window, Probationary, Protected) guided by a Count-Min Sketch with conservative aging; competitive admission/eviction uses k-sampled tail-min frequency with M2 bias, plus EMA-driven cooldown and online tuning of window/protected sizes, sampling, and sketch aging. Includes desync repair against the live cache and a small recent-ring boost to favor phase-shifted reuse.\n- **Performance**: Combined score 0.24 across 48 traces; hit rates span 0.0000\u20130.8891 with strong results on locality-rich traces (e.g., 0.8891, 0.8034) but many low scores (<0.1) on scan/low-reuse traces; program passes all validation tests.\n- **Feedback**: The frequency-heavy, M2-biased protection and competitive admission help on stable-locality workloads but underperform on scans or rapid shifts where window growth and admission thresholds delay adaptation (several near-zero hit rates). Deterministic tail sampling from LRU order (not randomized) can bias victim choice; consider randomized sampling and moderating cooldown/window expansion to improve robustness.\n**Program Identifier:** Generation 83 - Patch Name m2_guarded_admission_promotion - Correct Program: True\n\n**Program Name: LeCaR LRU+LFU with Ghosts**\n- **Implementation**: Adaptive mixture of LRU (OrderedDict) and O(1) LFU (freq buckets with min-freq tracking and LRU tie-break), with ghost histories for both policies. Policy choice uses multiplicative weights updated on ghost hits, light damping toward balance, and a modest scan-bias; evictions track the deciding policy to place keys into the corresponding ghost.\n- **Performance**: Combined score 0.21 across 48 traces, with hit rates ranging from near-zero on several workloads to high on favorable ones (peaks around 0.60\u20130.87).\n- **Feedback**: The method performs well when recency/frequency signals are clear but struggles on streaming/adversarial traces (e.g., several near-zero-hit cases) despite the scan bias. Dependence on ghost hits plus conservative damping can slow adaptation, leaving weights near-balanced and reducing effectiveness on sparse or one-time access patterns.\n**Program Identifier:** Generation 84 - Patch Name lecar_mix_lru_lfu - Correct Program: True\n\n**Program Name: Split-Window TLFU Dual SLRU Cache**\n- **Implementation**: Uses a Count-Min Sketch (TinyLFU) with conservative updates and periodic aging to estimate frequencies, combined with a split-window, dual-SLRU design (W1/W2 for window, M1/M2 for main) and randomized tail sampling for victim selection. Admission and promotions are ARC-like with scan-aware cooldown and adaptive tuning of window/protection fractions; includes self-healing against cache-state desync.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0 to 0.8841, performing strongly on high-locality traces (e.g., 27, 28, 34, 38) but poorly on sequential/unique-heavy ones (e.g., trace 14 = 0.0).\n- **Feedback**: TinyLFU-gated, ARC-style promotions and protected-main bias boost performance when hot sets recur, but the scan-aware thresholds and admission bias can be overly conservative, leading to very low hit rates on scan-like or churn-heavy workloads. Adaptive tuning helps but may react slowly; balancing window/main sizes and relaxing scan bias could improve robustness across diverse traces.\n**Program Identifier:** Generation 85 - Patch Name scan_guard_dual_competition_and_freqaware_w2 - Correct Program: True\n\n**Program Name: W-TinyLFU with SLRU and scan-aware tuning**\n- **Implementation**: Implements Windowed TinyLFU using a Count-Min Sketch with conservative updates and periodic aging. Uses OrderedDict LRUs for W/M1/M2 with frequency-aware LRU sampling, adaptive window resizing, early promotion/bypass, and a scan detector that biases admission/eviction and protects M2.\n- **Performance**: Combined score 0.26 across 48 traces, achieving up to 0.8834 on reuse-heavy workloads but near-zero on several low-locality/scan traces.\n- **Feedback**: Frequency-gated main protection and early promotions preserve hot sets, but strong scan-cooldown bias and a relatively small default window can underweight recency and hurt bursty/streaming workloads. Moderating bias thresholds or widening window bounds could improve the weak-trace performance.\n**Program Identifier:** Generation 86 - Patch Name tlfu_scan_recency_dual_main - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU and Scan Guard**\n- **Implementation**: Four-segment SLRU (W1/W2, M1/M2) with TinyLFU (Count-Min Sketch, conservative updates, periodic aging) drives admission via dual-main randomized tail sampling with M2 bias; ARC-like promotions/demotions and last-touch recency refine choices. Adaptive window/protection tuning, scan detection with cooldown and early hot-item bypass, plus self-healing against the cache snapshot, complete the design.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged from 0.0000 to 0.8841 with many mid-to-high (~0.45\u20130.54) results.\n- **Feedback**: Frequency-gated dual-main sampling and protected segments excel on locality-rich workloads, but several traces show very low hit rates, indicating scan cooldown thresholds and admission bias may be overly strict or window sizing can starve probation. Retuning scan thresholds and early bypass criteria could reduce thrash on low-repeat or mixed patterns.\n**Program Identifier:** Generation 87 - Patch Name dualseg_tinylfu_scan_aware - Correct Program: True\n\n**Program Name: Hybrid TinyLFU-SLRU with LRFU Decay and Scan Guard**\n- **Implementation**: Combines a window LRU (W) with SLRU main segments (M1 probationary, M2 protected), using a Count-Min Sketch with conservative aging (TinyLFU) and per-key exponentially decayed LRFU scores. Victim selection samples the LRU tail and chooses lexicographically by (TinyLFU estimate + M2 bias during cooldown, decayed score), with adaptive window size/sample depth, scan detection via miss-EMA, and decayed-aware demotion.\n- **Performance**: Combined score 0.26 over 48 traces (hit rates 0.000\u20130.874; strong on locality-heavy traces, weak on scan/unique-heavy ones).\n- **Feedback**: Protected bias and decayed-aware demotion preserve hot sets, but conservative cooldown/promotion can under-admit short bursts, causing very low hits on scans. Further tuning of win_frac, cooldown threshold (EMA > 0.85), and sampling depth could improve responsiveness without sacrificing stability.\n**Program Identifier:** Generation 88 - Patch Name dual_segment_sampling_with_scan_guard - Correct Program: True\n\n**Program Name: WTinyLFU+SLRU with LRFU-Decayed Scoring**\n- **Implementation**: Combines a Windowed TinyLFU with SLRU main segments (M1 probationary, M2 protected) and LRFU-style decayed scores for sampling-based victim selection and demotion. Uses a Count-Min Sketch with periodic aging, a doorkeeper to gate frequency updates, adaptive window sizing, scan detection via miss streak/cooldown, and self-healing of segment metadata.\n- **Performance**: Combined score 0.23 across 48 traces, with hit rates up to 0.8874 (trace_28) but near zero on several scan-like or low-repeat traces.\n- **Feedback**: Decayed scoring and competitive admission effectively protect hot items and limit one-hit pollution, yielding strong results on locality-rich workloads. However, strict M2 protection and scan cooldown can suppress admissions during streaming/low-repeat phases, causing very low hit rates; tuning window/protected targets and promotion/admission thresholds may improve balance across traces.\n**Program Identifier:** Generation 89 - Patch Name tiny_door_and_dual_main_sampling - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Implements a TinyLFU-style Count-Min Sketch with conservative update and aging to drive competitive admission/eviction across four OrderedDict segments (W1/W2 window, M1/M2 main), using sampled coldness (frequency + last-touch) with adaptive tuning, scan-aware cooldown, and a small hot-bypass to M2. Exposes a singleton policy via evict/update hooks that rebalance segment targets and self-heal against the cache snapshot.\n- **Performance**: Combined score 0.0; the program failed validation tests.\n- **Feedback**: The intricate adaptive controls (scan cooldown, dynamic targets, hot-bypass) likely caused state desynchronization or unstable segment balancing, yielding incorrect victim choices and poor hit rate. Ensure eviction victims are always present, enforce segment size invariants around hits/inserts, and recheck admission thresholds and cooldown logic to avoid starving main protection or over-evicting the window.\n**Program Identifier:** Generation 90 - Patch Name tlfu_dual_slru_ema_hotbypass - Correct Program: False\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Uses a split window (W1/W2) and dual-SLRU main (M1/M2) with a TinyLFU Count-Min Sketch (conservative updates, periodic aging) to drive competitive admission/eviction via tail sampling and last-touch tie-breaking. Adds scan-aware cooldown (miss_streak), a recent-ring bias, and periodic self-tuning of window/protection fractions based on hit/promotion/demotion stats.\n- **Performance**: Combined score 0.26; per-trace hit rates span 0.00\u20130.88 with strong results on locality-heavy traces (e.g., 0.88, 0.80, 0.75) and weaker results on sparse/scan-like workloads.\n- **Feedback**: Competitive admission and M2 protection effectively retain frequent items, boosting performance on repetitive workloads, but cooldown and strict thresholds can under-admit to main on moderate-locality traces, leading to variability. Tuning window/protection shares and admission biases (including scan cooldown sensitivity and tail-sampling size) could improve robustness on mixed or scan-heavy workloads.\n**Program Identifier:** Generation 91 - Patch Name recently_boosted_tlfu_with_scan_guard - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Split window (W1/W2) and dual SLRU main (M1/M2) with TinyLFU (conservative Count-Min sketch with aging) drives competitive admission/eviction via LRU-tail sampling and last-touch tiebreaks. Includes scan-aware cooldown to gate promotions, adaptive tuning of segment sizes, a small hot-bypass budget for direct M2 admits, plus self-healing and a recent ring.\n- **Performance**: Combined score 0.26 across 48 traces; strong on locality-heavy traces (e.g., 0.80\u20130.88 on 27\u201328) and moderate on mixed workloads (~0.43\u20130.53), but very low on scan/low-reuse traces (many <0.15, one 0.00).\n- **Feedback**: Scan cooldown engages only after a full-capacity miss streak, delaying protection and allowing scan pollution; consider earlier trigger or stronger M2 biasing. Hot-bypass and aggressive M2 protection help capture hot items but can starve the window/probation path, contributing to poor performance on one-time or low-reuse streams.\n**Program Identifier:** Generation 92 - Patch Name hot_bypass_budget_and_stronger_scan_gating - Correct Program: True\n\n**Program Name: WTiny-SLRU + TinyLFU Adaptive Cache**\n- **Implementation**: Combines a 3-segment SLRU (W/M1/M2) using OrderedDict LRUs with a Count-Min Sketch (with conservative aging) for TinyLFU-guided admission/eviction, tail-sampled competitive victim selection, and adaptive tuning (EMA miss-based cooldown, dynamic window/protected fractions, adjustable sampling/aging, hot-bypass tokens, recent-ring boosts, and desync repair).\n- **Performance**: Combined score 0.0; the program failed validation and produced no measurable improvement.\n- **Feedback**: The aggressive adaptive controls and desync repair (e.g., direct M2 admission, repairing unknown keys into W/M2) likely violated invariants and caused inconsistencies with the cache snapshot, leading to incorrect behavior. Victim selection and admission thresholds may misalign with the harness expectations, causing state drift and validation failures despite sophisticated heuristics.\n**Program Identifier:** Generation 93 - Patch Name wtiny_slru_tlfulx - Correct Program: False\n\n**Program Name: ARC+TinyLFU with EMA and sampled eviction**\n- **Implementation**: Hybrid ARC with T1/T2 and B1/B2 ghosts, where p is adapted via EMA on ghost hits. Victim selection samples up to k LRU-end candidates and evicts the lowest TinyLFU estimate with a bias protecting T2; includes conservative direct T2 admission for very hot items and a Count-Min Sketch (w=2^12, d=3) with periodic aging.\n- **Performance**: Combined score 0.24 across 48 traces, with hit rates spanning 0.0000\u20130.8857.\n- **Feedback**: Excels on frequency-rich/locality-heavy traces (e.g., several >0.6) but struggles on scan-like or highly non-repetitive workloads (many near-zero traces), suggesting over-protection or slow adaptation. Tuning the T2 bias, admission threshold, or sketch aging rate could improve responsiveness under churn.\n**Program Identifier:** Generation 94 - Patch Name arc_tiny_lfu_dual_sampler_recency_tiebreak - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with dual SLRU**\n- **Implementation**: Uses four SLRU segments (W1/W2/M1/M2) with a Count-Min Sketch (conservative aging) for TinyLFU-based admission and frequency-aware sampling from LRU tails; includes ARC-like promotions, early bypass to main, adaptive tuning of segment fractions, scan detection (miss-streak with cooldown bias), and self-healing against cache-state drift. Victim selection compares new frequency vs. sampled main candidates (with M2 bias), and maintains targets via frequency-guided demotions.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates range 0.0000\u20130.8846 with strong results on locality-heavy traces (e.g., 27, 28, 34, 38) and weak on scan/adversarial patterns (e.g., 14, early teens).\n- **Feedback**: ARC-like protection and TinyLFU-gated promotions preserve hot items, but the scan detector\u2019s capacity-based threshold and conservative cooldown can lag on rapid scans, hurting streaming workloads. Adaptive window/protection tuning helps mixed workloads yet may overprotect main on some traces, causing window churn and lower hits when reuse is shallow.\n**Program Identifier:** Generation 95 - Patch Name dual_main_sampling_lasttouch - Correct Program: True\n\n**Program Name: Hybrid W-TinyLFU with SLRU and LRFU Decay**\n- **Implementation**: Combines a window LRU with an SLRU main (M1/M2) using a TinyLFU Count-Min sketch for admission and LRFU-style decayed scores for victim selection/demotion. Adds EMA-based scan guard, recent-membership boosting, bounded hot-bypass to M2, and periodic tuning of window size, sampling depth, and sketch aging.\n- **Performance**: Combined score 0.26; hit rates span strong on hot/skewed traces (up to 0.8877) but very low on several streamy/low-reuse traces (including 0.0000 on trace 14).\n- **Feedback**: The decayed scoring plus TinyLFU protects hot sets well (high hits on 27\u201328, 34, 38, 47) but aggressive cooldown bias and strict early-promotion/admission can hurt in scans and low-reuse phases. Consider relaxing cooldown gating, slightly enlarging the window or reducing M2 bias, and tuning half-life/age_period to avoid over-forgetting in small caches.\n**Program Identifier:** Generation 96 - Patch Name wlfu_slru_ema_hotbypass - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU**\n- **Implementation**: Uses a 4-segment SLRU (W1/W2, M1/M2) with a Count-Min Sketch (conservative aging) to drive competitive admission and eviction via frequency-biased LRU sampling and last-touch tiebreaks. It adaptively tunes window/protection ratios and employs scan detection (miss-streak cooldown) to throttle promotions and raise admission bias.\n- **Performance**: Combined score 0.26 over 48 traces; hit rates ranged 0.0000\u20130.8833 with strong results on locality-heavy traces (e.g., 27\u201328, 34, 38) and weak on many scan/phase-shift workloads.\n- **Feedback**: Conservative admission thresholds and a relatively slow tuning cadence appear to under-admit during rapid shifts, producing several near-zero traces despite scan handling. Reducing scan-trigger bias/thresholds or increasing window share/tuning frequency could improve responsiveness without overprotecting M2.\n**Program Identifier:** Generation 97 - Patch Name tlfu_dual_slru_recency_scanaware - Correct Program: True\n\n**Program Name: Split-Window TinyLFU with Dual SLRU and Scan Guard**\n- **Implementation**: Combines a TinyLFU (Count-Min Sketch with conservative aging) with split window+main SLRU tiers (W1/W2, M1/M2), using competitive admission that compares the new object's frequency to sampled M1/M2 tails (with M2-protection bias) plus adaptive tuning of window/protection sizes. Includes scan detection via miss streaks to raise admission thresholds and bias evictions away from main during suspected scans.\n- **Performance**: Combined score 0.25 across 48 traces; hit rates ranged 0.00\u20130.8843, performing strongly on recurring working sets (e.g., traces 27/28/34/38) but poorly on scan/one-hit-heavy streams (several traces near 0.0).\n- **Feedback**: The scan cooldown and elevated admission biases can over-defend main segments, delaying useful promotions and harming rapidly shifting or one-hit-dominant workloads; consider softening thresholds/bias or shrinking the window more aggressively under scans. Random tail sampling aids robustness but may introduce variance; stabilizing sampling or hash seeding could improve consistency.\n**Program Identifier:** Generation 98 - Patch Name dual_competition_freqaware_demotions - Correct Program: True\n\n**Program Name: Adaptive W-TinyLFU with SLRU main**\n- **Implementation**: Windowed TinyLFU using a Count-Min Sketch with conservative aging, a window LRU (W), and an SLRU main split into probationary (M1) and protected (M2, ~80% of main). Includes adaptive tuning of window size and sketch parameters, scan detection with cooldown bias, recency-aware tail sampling, and a budgeted hot-bypass to M2.\n- **Performance**: Combined score 0.25 over 48 traces; hit rates ranged 0.0000\u20130.8881, strong on high-locality traces (e.g., 27\u201328, 34, 38, 47) and weak on scan/low-reuse workloads (e.g., 14).\n- **Feedback**: Frequency-gated admission, protected promotions, and tail sampling helped under temporal locality. Many low-reuse/scan-like traces remained challenging despite cooldown; further calibration of window fraction, bypass budget, and aging/tuning thresholds may improve robustness.\n**Program Identifier:** Generation 99 - Patch Name dualsample_recency_tinylfu_plus_hot_bypass - Correct Program: True",
  "meta_scratch_pad": "## Successful Algorithmic Patterns\n- TinyLFU-gated competitive admission against the M1 tail with a small scan bias delivered the top scores (0.26):\n  - Current best \u201cSplit-Window TinyLFU with dual SLRU, ARC-like promotions\u201d (0.26; trace peaks 27=0.8024, 28=0.8867, 34=0.7413, 38=0.6342; stable 1\u201310 \u22480.43\u20130.54) compares f(new) > f(M1)+bias during victim choice and on insert-driven rebalancing, favoring evicting cold M1 entries over window churn.\n  - Similar designs at 0.26 (e.g., \u201crecently_boosted_tlfu_with_scan_guard\u201d Gen 91, \u201chot_bypass_budget_and_stronger_scan_gating\u201d Gen 92, \u201cwlfu_slru_ema_hotbypass\u201d Gen 96, \u201ctlfu_dual_slru_recency_scanaware\u201d Gen 97, \u201cdualsample_recency_tinylfu_plus_hot_bypass\u201d Gen 99) all anchor admission on TinyLFU estimates against M1 candidates with moderated scan bias.\n- Capacity-aware Count-Min Sketch with conservative updates plus randomized tail sampling improved robustness:\n  - Width scaled to max(512, 4\u00d7capacity), d=3\u20134, aging \u22488\u00d7capacity ops; sample_k in [4,12] from the LRU tail region. Used by the best program and 0.26 peers; correlates with stable mid-band and reduced collapses vs. deterministic or narrow sampling in lower-scoring variants.\n- Early, bounded promotions with protected demotion control preserved hot sets without polluting main:\n  - Best program promotes W1\u2192M2 on hit when est\u22653 (or 4 under cooldown), M1\u2192M2 on hit, and demotes from M2 to M1 via frequency-aware sampling to keep M2 near target. This matches the high peaks on locality-heavy traces (27/28/34/38).\n- Moderated scan handling that raises thresholds but doesn\u2019t block admission maintained adaptability:\n  - Best program\u2019s miss_streak-triggered cooldown (thr=max(16, cap/2); bias=3 during cooldown) increased thresholds slightly (e.g., W1\u2192M2 requires est\u22654) while retaining the ability to admit, supporting both strong peaks and solid mid-band.\n\n## Ineffective Approaches\n- Overly complex/adversarial adaptive controls that violated invariants caused validation failures (0.0):\n  - \u201ctlfu_dual_slru_ema_hotbypass\u201d Gen 90 and \u201cwtiny_slru_tlfulx\u201d Gen 93 failed validation. Feedback cites hot-bypass/direct protected admissions and desync repair inserting unknown keys into W/M2, breaking segment invariants and victim availability.\n- Over-protection of main and aggressive scan cooldown suppressed adaptation and produced near-zero traces:\n  - Multiple 0.25 cohorts (\u201cdual_competition_freqaware_demotions\u201d Gen 98, \u201cdual_main_sampling_lasttouch\u201d Gen 95) and even some 0.26 peers (\u201chot_bypass_budget_and_stronger_scan_gating\u201d Gen 92, \u201cwlfu_slru_ema_hotbypass\u201d Gen 96) report very low or zero hit rates on scan/low-reuse traces (e.g., trace 14=0.0000), attributed to conservative thresholds, elevated M2 bias, and cooldown under-admitting during churn.\n- Deterministic or overly narrow tail sampling increased workload sensitivity:\n  - Prior 0.24\u20130.23 designs (from previous insights) noted deterministic sampling and protected-biased victim selection increased variance and collapses; by contrast, randomized, capacity-scaled sampling aligns with the 0.26 group.\n- Heavy reliance on ghost hits with slow adaptation lagged under churn:\n  - \u201carc_tiny_lfu_dual_sampler_recency_tiebreak\u201d Gen 94 at 0.24 struggled on scan-like workloads; feedback points to over-protection and slow p-adaptation via ghost hits.\n\n## Implementation Insights\n- What makes the current best effective:\n  - Admission and eviction align with TinyLFU estimates: choose_victim prefers evicting sampled cold M1 if f(new) > f(M1)+bias; otherwise evicts from W1, only replacing M2 when f(new) > f(M2)+bias+1. This competitive admission maintains main quality and yields the strong mid-band (traces 1\u201310 \u22480.43\u20130.54) and peaks.\n  - Capacity-scaled CMS and randomized tail sampling: width \u22484\u00d7capacity (min 512), d=4, conservative updates, aging \u22488\u00d7capacity ops; sample_k scaled to [4,12] and sampled from the LRU tail region. This reduces deterministic bias, improving discrimination and robustness across traces.\n  - Early promotions with bounded protection and frequency-aware demotion: W1\u2192M2 on hit if est\u22653/4; M1\u2192M2 on hit; M2 demotions via sampled min-frequency to M1 when over prot_tgt. This keeps M2 hot and bounded, aligning with high-hit traces (27/28/34/38).\n  - Moderated scan bias with capacity-aware thresholds: miss_streak triggers cooldown at thr=max(16, cap/2), raising admission thresholds (bias=3, thr_hi=4) without fully blocking, preventing starvation and preserving adaptability seen in the 0.26 group.\n- Supporting hygiene and tuning:\n  - Self-heal aligns segment metadata with the cache snapshot, avoiding drift seen in failed variants; periodic tuning (period \u22484\u00d7capacity) adjusts win_frac, w2_frac, prot_frac based on hit shares and M2 prom/dem balance, contributing to consistent correctness and stable performance.\n\n## Performance Analysis\n- The current best \u201cSplit-Window TinyLFU with dual SLRU, ARC-like promotions\u201d leads at 0.26:\n  - Strong, consistent mid-band (traces 1\u201310: 0.4283\u20130.5359) and high peaks (27=0.8024, 28=0.8867, 34=0.7413, 38=0.6342). Weakness remains on scan/low-reuse traces (14=0.0000; 15\u201319\u22480.02\u20130.03; 32\u201333\u22480.08\u20130.09), but less severe than more conservative cooldown designs.\n- 0.26 peers show similar strengths and scan weaknesses, but more sensitivity when cooldown or protected bias is stronger:\n  - Gen 92 highlights delayed scan engagement causing pollution and under-admission; Gen 96 notes aggressive cooldown and early-promotion thresholds hurting scan phases. Despite matching average score, these variants report more very-low traces due to stricter gates.\n- 0.25 cohort exhibits more near-zero traces and variability on phase/scan workloads:\n  - \u201cdual_main_sampling_lasttouch\u201d Gen 95 and \u201cdual_competition_freqaware_demotions\u201d Gen 98 scored 0.25 with highs on locality-heavy traces but several near-zeros, attributed to capacity-based scan thresholds and over-defending main, which delay useful promotions under rapid shifts.\n- Hybrids with ghost-driven adaptation underperform on churn despite solid peaks:\n  - \u201carc_tiny_lfu_dual_sampler_recency_tiebreak\u201d Gen 94 at 0.24 attained several >0.6 traces but struggled on scan-like/non-repetitive workloads (many near-zero), consistent with over-protection and slower EMA/ghost-based p updates.\n- Failures (0.0) stem from invariant breaks rather than algorithmic potential:\n  - Gen 90 and Gen 93\u2019s aggressive hot-bypass, direct protected admissions, and desync repair caused state drift and incorrect victim choices, underscoring the importance of metadata hygiene and segment-size invariants that the 0.26 group maintains.",
  "meta_recommendations": "1. Add dual-segment, lexicographic competitive admission and victim selection with light recency. Sample k in [4,12] from the LRU tails (tail_len = 4k) of both M1 and M2, compute score = (TinyLFU estimate ascending, last_touch_age ascending), and apply a +1 frequency bias to M2 so it\u2019s harder to replace. Maintain a last_touch map updated on every _touch (use access_count), and use the same comparator in choose_victim, window overflow gating, and early-bypass; keep invariants by never inserting unknowns directly into M2 except via a bounded bypass budget.\n\n2. Replace miss_streak with an EMA-based scan/phase guard plus a small recent-membership boost. Track ema_miss via \u03b1\u22480.05 and trigger cooldown when ema_miss>0.8 sustained for >0.25\u00d7capacity accesses; in cooldown freeze W1\u2192M2 promotions and raise admission margins by +1 (bias and thr_hi=4), but still allow W\u2192M1 if f(new) \u2265 f(M1_tail)+1. Add a ring buffer of recent keys (size\u2248capacity) and grant f(new)+1 when the key is present to accelerate phase shifts without starving warming phases.\n\n3. Make TinyLFU aging and k sampling adaptive per tune_period. Set sketch.age_period within [4C,16C]: move toward 4C when ema_miss is high or window hits dominate; toward 16C when M2 hits >70%; keep width at max(512,4C) and conservative updates. Adapt sample_k to [4,12]: use 4 under churn (high ema_miss or W-dominant), 12 when main is stable (M2>70%), and interpolate 6\u201310 otherwise.\n\n4. Make W2 demotions frequency-aware and guard promotions under cooldown. When W2 exceeds its target, sample k from W2\u2019s tail (tail_len=4k) and demote the TinyLFU-min (tie-break by older last_touch) to W1 instead of strict LRU. During cooldown, allow W1\u2192M1 on hit when est\u22652 and est\u2265f(M1_tail)+1, but keep W1\u2192M2 only for est\u22654, preserving emerging hot items while preventing protected inflation on scans.\n\n5. Introduce a small, bounded \u201chot bypass budget\u201d for direct M2 admission on misses. Per tune_period, allow up to min(8, 0.02\u00d7capacity) direct insertions into M2 when f(new) \u2265 f(sampled M2 tail)+2 using the dual-segment sampler; consume one token per use and disable entirely during cooldown. Immediately enforce M2\u2019s target via sampled, frequency-aware demotion to M1 to maintain segment invariants and protected quality.",
  "meta_recommendations_history": [
    "1. Add TinyLFU-style frequency guidance with sampled victim selection. Maintain a small Count-Min Sketch (e.g., 4 hash functions, width \u2248 2\u20134\u00d7capacity, conservative aging every \u2248capacity accesses) and, in choose_victim, sample k=4\u20138 keys from the LRU tail of the selected list(s) and evict the one with the lowest estimated frequency. Preserve ARC\u2019s list preference (T1 unless in_B2 and |T1|==p), but within the chosen list pick the lowest-frequency sample to curb pollution, as seen in the top ARC+TinyLFU variants.\n\n2. Switch to canonical ARC ghost management with a total ghost bound and size-aware pruning. Replace per-list ghost bounds with a combined constraint |B1| + |B2| \u2264 capacity; while over capacity, evict the LRU from B1 if |B1| > p, else from B2. Also, on insert/ghost hits, proactively remove any ghost entries that became resident to avoid overlaps, aligning with ARC\u2019s stronger scan resistance and stability.\n\n3. Smooth and damp p adaptation to prevent oscillation while keeping proportionality. Keep p as a float and update with an EMA: p = clamp(0, capacity, (1\u2212\u03b1)*p + \u03b1*(p \u00b1 delta)), using \u03b1\u22480.25 and delta computed as |B2|/max(1,|B1|) (for B1 hits) or |B1|/max(1,|B2|) (for B2 hits). Compare |T1| > floor(p) in replace decisions, which preserves ARC behavior but reduces overreaction on bursty ghost hits.\n\n4. Add a lightweight scan detector to quickly bias toward evicting from T1 during streaming phases. Track a rolling miss streak (increment on on_insert, reset on on_hit) and the relative growth of B1 vs B2; when miss_streak > 2\u00d7capacity and |T2| < 0.1\u00d7capacity with |B1| \u2265 |B2|, immediately reduce p (e.g., p = max(0, p \u2212 max(1, p//2))) and force choose_victim to pick from T1 until a cooldown (e.g., after capacity hits). This preserves mid-range performance while mitigating near-zero traces on scans.\n\n5. Gate T1\u2192T2 promotion using the frequency sketch to avoid over-protecting one-hit wonders. On a hit in T1, promote to T2 only if the Count-Min Sketch estimate \u2265 threshold (e.g., 2\u20133); otherwise, refresh the key at T1\u2019s MRU without promotion. This keeps T2 reserved for truly frequent items, mirroring the frequency-aware benefits seen in ARC+TinyLFU while retaining ARC\u2019s core mechanics.",
    "1. Add a TinyLFU sketch to guide promotion and victim choice without blocking ARC admission. Implement a 4-hash Count-Min Sketch with width \u2248 2\u20134\u00d7capacity and conservative aging every \u2248capacity accesses; on T1 hit, promote to T2 only if estimate \u2265 2, else refresh in T1. In choose_victim, keep ARC\u2019s list choice but sample k=4\u20138 keys from the chosen list\u2019s LRU tail and evict the one with the lowest TinyLFU estimate to reduce pollution, which lifted mid-band traces in top ARC+TinyLFU variants.\n\n2. Switch to canonical joint ghost management with proactive deduplication. Maintain |B1| + |B2| \u2264 capacity; while over, evict from B1 if |B1| > p, else from B2, and when a key becomes resident (on hit/insert) remove it from both B1 and B2 to avoid overlaps. This aligns with ARC\u2019s intended balance and improves scan stability observed to correlate with stronger ghost hygiene.\n\n3. Smooth and damp p adaptation with a fractional EMA and floor in replace decisions. Update p as p = clamp(0, C, (1\u2212\u03b1)*p + \u03b1*(p \u00b1 \u0394)), using \u03b1\u22480.25 and \u0394 = |B2|/max(1,|B1|) on B1 hits or |B1|/max(1,|B2|) on B2 hits; compare len(T1) > floor(p) in choose_victim. This retains ARC\u2019s bias while reducing overreaction on bursty ghost hits, improving mid-range consistency.\n\n4. Add a lightweight scan detector that temporarily biases eviction and slows promotion. Track a rolling miss_streak (increment on insert, reset on hit) and monitor |B1| vs |B2|; when miss_streak > 2\u00d7capacity and |T2| < 0.1\u00d7capacity with |B1| \u2265 |B2|, immediately set p = max(0, p \u2212 max(1, floor(p/2))) and force choose_victim to evict from T1 for the next \u2248capacity accesses. During this cooldown, require TinyLFU\u22653 for T1\u2192T2 promotions to avoid overprotecting one-timers, mitigating near-zero scan traces.\n\n5. Tighten metadata hygiene and responsiveness of ghosts with periodic aging. Every \u2248capacity accesses, purge a small fraction (e.g., 10%) of LRU entries from the larger of B1/B2 and remove any ghost entries whose keys are currently resident, keeping history fresh and reducing stale bias. This complements the joint bound and speeds phase change adaptation without altering core ARC mechanics.",
    "1. Add competitive W\u2192M1 admission on window overflow to cut M1 pollution. In on_insert, before moving W\u2019s LRU to M1, compare est(W_LRU) against a sampled low-frequency candidate from M1 (fallback M2). Only move W_LRU into M1 if est(W_LRU) > est(cand); otherwise drop W_LRU from the policy, which improves scan/low-reuse traces without altering the main TinyLFU admission path that\u2019s working well.\n\n2. Introduce a mild, fast window ramp with automatic decay to better absorb scans without heavy detectors. Track a rolling miss_streak and, when miss_streak > 0.5\u00d7capacity and recent hits_main << hits_w, temporarily increase win_frac by +0.10 up to 0.60 and shorten tune_period by 2\u00d7; when the condition clears, decay win_frac by \u22120.05 per period back toward its baseline. During this ramp, raise the W\u2192M2 early-promotion threshold from est\u22653 to est\u22654 to avoid overprotecting one-timers, aligning with evidence that aggressive scan defenses hurt while gentle window biasing helps.\n\n3. Upgrade the TinyLFU sketch to conservative update with capacity-aware sizing and adaptive aging. Use d=4 and increment only counters equal to the current estimate (conservative increment) to reduce over-counting noise; set width to next power-of-two \u2265 max(512, 4\u00d7capacity). Adapt age_period within [4C, 16C]: age faster (toward 4C) when hits_w dominates or miss_streak is high, and slower (toward 16C) when M2 hits dominate, improving responsiveness on scans while preserving frequency fidelity on locality-heavy traces.\n\n4. Split the window into a tiny SLRU (W1 probationary, W2 protected) to retain short-term reuse without bloating main. Allocate W2_target \u2248 30% of W; on W1 hit promote to W2, and if W2 exceeds target, demote its LRU back to W1. On window overflow, evict from W1 first; this keeps quick reuses in the window and reduces pressure on M1/M2, addressing the under-admission of pure recency seen in weak traces.\n\n5. Add hot-item bypass and fair tie-breaking in admission to accelerate warmup for very hot keys. On insert, if est(new) \u2265 5, bypass W and place directly into M2 (MRU), demoting the lowest-frequency M2 key to M1 if M2 exceeds prot_tgt; this preserves protected strength without starving recency. In choose_victim, when f(new) == f(cand), break ties by evicting the older candidate and prefer replacing from M1 over M2, optionally boosting f(new) by +1 if the key appears in a small recent-seen filter (e.g., ring buffer of size \u2248 capacity) to better handle phase shifts.",
    "1. Split the window into W1/W2 (SLRU) with targeted ratios and controlled overflow. Keep W as two OrderedDicts: W1 (probationary) and W2 (protected) with W2_target \u2248 30% of total W. On W1 hit, promote to W2; on W2 overflow, demote its LRU back to W1; on W overflow, evict from W1 first. Retain the existing early-promotion path to M2 (est\u2265thr_est or dec\u2265thr_dec) so very hot items skip W churn, which has correlated with the strongest locality peaks in the best program.\n\n2. Make the TinyLFU sketch capacity-aware and adaptively aged. Set width to next power-of-two \u2265 max(512, 4\u00d7capacity) and d=4 (currently d=3, width fixed) to reduce noise at larger capacities; keep conservative updates. Adapt age_period within [4C, 16C]: move toward 4C when miss_streak is high or hits_w > 1.2\u00d7hits_main, and toward 16C when M2 hits dominate (hits_main > 1.2\u00d7hits_w). This mirrors the capacity-aware tuning pattern driving mid-band stability in the top design.\n\n3. Dynamically adapt the LRFU half-life and stabilize decayed scoring. Recompute decay_half_life per tune_period within [8, 64]: shorten by 4 when miss_streak > 0.5C or W hits dominate (faster forgetting), lengthen by 4 when M2 hit-share > 70% (preserve hot sets). Normalize decayed scores by clamping a small floor (e.g., min score 1e-4) and decay lazily as already done; use this adjusted score for M2 demotion and lexicographic victim ranking to avoid stale-popularity retention seen in weaker LRFU-heavy variants.\n\n4. Strengthen competitive admission and tie-breaking across segments with two-way sampling and phase bias. In on_insert\u2019s W overflow path, compare W_LRU against the colder of sampled candidates from M1 and M2 (k-sampled from their LRU tails), and admit W_LRU to M1 only if f(W_LRU) \u2265 f(cold)+bias (bias+1 for M2). In choose_victim, compare f(new) to min(f(M1_cold), f(M2_cold)+(bias+1)), tie-break by lower decayed score then older age; optionally add a tiny recent-seen ring buffer (size \u2248 capacity) that boosts f(new) by +1 on match to accelerate phase shifts. Randomize the k-sample among the LRU tail instead of taking the first k keys to avoid deterministic tail bias.\n\n5. Adapt protected fraction (prot_frac) online using promotion/demotion signals with scan-aware clamps. Each tune_period, if M2 demotions exceed promotions by >20% or M1 hit-share > 60%, decrease prot_frac by 0.05 (min 0.60) to free more probationary space; if M2 hits > 70% and promotions > demotions, increase prot_frac by 0.05 (max 0.90). During scan_cooldown, temporarily reduce prot_frac by an additional 0.05 to keep protected from bloating; this complements early promotion + decayed demotion and improves responsiveness without the heavy-handed scan detectors that hurt weaker runs.",
    "1. Add two-way competitive admission with randomized tail sampling across M1 and M2. Replace the current \u201cfirst k LRU\u201d sampling with a randomized offset into the LRU tail (e.g., sample k from the oldest min(4k, len) entries) and always compare f(new) against the lexicographically colder of sampled M1 and M2 candidates, using (TinyLFU estimate, decayed score) with an extra +1 bias for M2. Use this in both choose_victim and the W overflow gating in on_insert to avoid deterministic tail bias and better weed out stale main entries, especially on fast-shift traces.\n\n2. Split the window W into W1 (probation) and W2 (protected) as an SLRU, while preserving early promotion to M2. Set W2_target \u2248 30% of W; on W1 hit promote to W2; on W2 overflow demote its LRU to W1; on W overflow evict from W1 first. Keep the current early-promotion rule (est\u22652 or dec\u22651.0, stricter under scan) to let very hot items bypass window churn that was key to the best peaks.\n\n3. Adapt the protected fraction prot_frac online using promotion/demotion and hit-share signals with scan-aware clamps. Every tune_period, if M2 demotions exceed promotions by >20% or M1 hit-share >60%, reduce prot_frac by 0.05 (floor 0.60); if M2 hits >70% and promotions \u2265 demotions, increase by 0.05 (cap 0.90). During scan_cooldown temporarily subtract 0.05 to prevent protected bloat, complementing early promotion and decayed-aware demotions.\n\n4. Make history decay capacity- and phase-aware for both TinyLFU and LRFU components. Set the sketch width to the next power-of-two \u2265 max(512, 4\u00d7capacity), d=4, and age_period adaptively within [4C, 16C]: shift toward 4C when miss_streak is high or W hits dominate, and toward 16C when M2 hits dominate. Recompute LRFU half-life each tune_period within [8,64], shortening when miss_streak > 0.5C or W hit-share is high and lengthening when M2 hit-share >70%, and clamp decayed scores with a small floor (e.g., 1e-4) to stabilize tie-breaking.\n\n5. Replace the coarse scan detector with a gentler scan/phase-shift guard and add a recent-phase boost. Track an EMA of consecutive-miss rate (or distinct-per-window proxy) to trigger a cooldown that raises admission thresholds (bias+1, thr_est+1, thr_dec+0.5) and temporarily freezes M1\u2192M2 promotions, but still allows W\u2192M1 when f(w_lru) is competitive. Add a small recent ring buffer of size \u2248 capacity that grants f(new)+1 on membership matches to accelerate phase shifts without over-throttling admissions.",
    "1. Implement two-way competitive admission with dual-tail sampling across M1 and M2 using a lexicographic coldness score. On every admission/victim decision, sample k in [4,12] from the LRU tail (tail_len \u2248 4k) of both M1 and M2, and pick the colder candidate by (TinyLFU estimate ascending, exponential-decayed recency ascending), adding a +1 bias to M2 to protect it. Use this comparator in choose_victim, the W overflow W1\u2192M1 gate, and the early-bypass path so new entries must beat the colder of M1/M2 rather than only M1.\n\n2. Replace the coarse miss-streak scan detector with an EMA-based scan/phase guard and a small recent-phase boost. Track an EMA of miss rate (\u03b1\u22480.05) and trigger cooldown when EMA>0.8 for >0.25\u00d7capacity accesses; during cooldown: freeze M1\u2192M2 promotions, raise admission margins (bias+1, thr_est+1), but still allow W\u2192M1 if f(W1_lru) \u2265 f(M1_cand)+1. Add a recent ring buffer (size \u2248 capacity) that grants f(new)+1 when a membership hit occurs to accelerate phase shifts without over-throttling admissions.\n\n3. Make TinyLFU aging and the decayed-recency half-life phase-aware and capacity-aware. Every tune_period, set sketch.age_period within [4C,16C]: move toward 4C when EMA-miss is high or W hits dominate, and toward 16C when M2 hits >70%; also compute a decayed-recency half-life H in [16,64] accesses using the same signals (shorter under churn, longer under stable locality). Adapt sampling k: k = 4 when miss_streak > 0.5C or W hits dominate, k = 12 when main is stable (M2 hits >70%), else interpolate, and keep tail_len = 4k.\n\n4. Tighten protected-main sizing and promotions with scan-aware clamps and hit-share signals. Every tune_period: if M2 demotions > promotions by >20% or M1 hit-share >60%, reduce prot_frac by 0.05 (floor 0.60); if M2 hits >70% and promotions \u2265 demotions, increase by 0.05 (cap 0.90); during scan_cooldown temporarily subtract an extra 0.05 from prot_frac and add 0.10 to win_frac to absorb scans. Also, on W1 hit under cooldown, allow W1\u2192M1 when est \u2265 2 and est \u2265 f(M1_cand)+1 (while keeping W1\u2192M2 only for est \u2265 4) to capture emerging hot items without over-inflating M2.\n\n5. Make window overflow handling and eviction more competitive against main instead of defaulting to W1. When (W1+W2) > target, compare W1_LRU vs sampled M1 candidate using the same competitive gate (f(W1_LRU) \u2265 f(M1_cand)+bias) before moving to M1; otherwise keep in window and re-touch to reduce churn. In choose_victim, when both W1_LRU and an M1 candidate exist, evict the colder of the two by TinyLFU (and decayed-recency) instead of always evicting from W1, preserving hot-window entries and improving mid-band robustness.",
    "1. Implement dual-segment competitive admission and victim selection with a lexicographic coldness comparator. On every decision, sample k in [4,12] from the LRU tail (tail_len = 4k) of both M1 and M2, score candidates by (TinyLFU estimate ascending, decayed-recency ascending), and add a +1 bias to M2 so it\u2019s harder to replace than M1. Use this comparator in choose_victim, window overflow (W1\u2192M1 gate), and early-bypass so a new item must beat the colder of M1/M2 rather than only M1.\n\n2. Replace the miss-streak scan detector with an EMA-based scan/phase guard and a small recent-phase boost. Track an EMA of miss rate (\u03b1\u22480.05) and trigger cooldown when EMA > 0.8 for > 0.25\u00d7capacity accesses; during cooldown freeze W1\u2192M2 promotions, raise admission margins by +1 (bias and thr_est), but still allow W\u2192M1 if f(W1_lru) \u2265 f(M1_cand)+1. Add a recent-membership ring buffer of size \u2248 capacity; when a key is in the ring, grant f(new)+1 for admission/promotions to accelerate phase shifts without over-throttling.\n\n3. Make TinyLFU aging, recency half-life, and sampling k phase-aware and capacity-aware. Every tune_period, set sketch.age_period within [4C,16C]: push toward 4C when EMA-miss is high or W hits dominate, and toward 16C when M2 hits >70%; compute a decayed-recency half-life H in [16,64] accesses using the same signals. Use this H to derive a recency score per resident key (e.g., score = min(255, access_delta) or an inexpensive exponential bucket), and adapt k: k=4 under churn (high EMA-miss or W-dominant), k=12 when main is stable (M2>70%), else interpolate.\n\n4. Tighten protected-main sizing and promotion clamps with scan-aware adjustments. Every tune_period: if M2 demotions > promotions by >20% or M1 hit-share >60%, reduce prot_frac by 0.05 (floor 0.60); if M2 hits >70% and promotions \u2265 demotions, increase prot_frac by 0.05 (cap 0.90); during cooldown temporarily subtract 0.05 from prot_frac and add 0.10 to win_frac. On W1 hit under cooldown, allow W1\u2192M1 when est \u2265 2 and est \u2265 f(M1_cand)+1, while keeping W1\u2192M2 only for est \u2265 4, to preserve hot sets without over-inflating M2.\n\n5. Make window protected (W2) demotions frequency-aware via randomized tail sampling. When W2 exceeds its target, instead of demoting strict LRU, sample k in [4,12] from the W2 tail (tail_len = 4k) and demote the lowest-TinyLFU (tie-break by older recency) back to W1. This aligns W2 with TinyLFU\u2019s notion of hotness, reduces churn of emerging hot items, and mirrors the frequency-aware demotions already used for M2.",
    "1. Generalize competitive admission/victim selection to a dual-segment, lexicographic comparator across M1 and M2. On every decision (choose_victim, W overflow gate, and early-bypass), sample k in [4,12] from the LRU tail (tail_len = 4k) of both M1 and M2, score candidates by (TinyLFU estimate ascending, decayed-recency ascending), and add a +1 bias to M2 so it\u2019s harder to replace than M1. Admit/replace only when f(new) beats the colder of the sampled main candidates; this extends the current \u201ccompare vs M1\u201d pattern and has been tied to the top peaks and mid-band stability.\n\n2. Replace miss-streak scan detection with an EMA-based scan/phase guard and a small recent-phase boost. Track EMA_miss with \u03b1\u22480.05 and trigger cooldown when EMA_miss > 0.8 for > 0.25\u00d7capacity accesses; during cooldown freeze W1\u2192M2 promotions and raise admission margins by +1 (bias and high-threshold), but still allow W\u2192M1 if f(W1_lru) \u2265 f(cold_main)+1. Add a recent-membership ring buffer of size \u2248 capacity and grant f(new)+1 when present to accelerate phase shifts without starving warming phases.\n\n3. Make TinyLFU aging, recency half-life, and sampling k adaptive to workload. Every tune_period, set sketch.age_period within [4C,16C]: push toward 4C when EMA_miss is high or W hits dominate, and toward 16C when M2 hits >70%; compute a decayed-recency half-life H in [16,64] accesses and use it in the lexicographic comparator. Adapt k: k=4 under churn (high EMA_miss or W-dominant), k=12 when main is stable (M2>70%), else interpolate; this preserves the capacity-aware settings that correlated with stable 1\u201310 while improving responsiveness.\n\n4. Make W2 demotions frequency-aware using the same randomized tail sampling used in main. When W2 exceeds its target, sample k in [4,12] from W2\u2019s tail (tail_len = 4k) and demote the lowest-TinyLFU candidate (tie-break by older recency) back to W1 instead of strict LRU. This aligns W2 with TinyLFU\u2019s notion of hotness, reduces churn of emerging hot items, and mirrors the frequency-aware demotions that helped retain hot sets in M2.\n\n5. Tighten protected-main sizing and promotion clamps with scan-aware adjustments. Every tune_period: if M2 demotions > promotions by >20% or M1 hit-share >60%, reduce prot_frac by 0.05 (floor 0.60); if M2 hits >70% and promotions \u2265 demotions, increase prot_frac by 0.05 (cap 0.90); during cooldown temporarily subtract 0.05 from prot_frac and add 0.10 to win_frac. Under cooldown, allow W1\u2192M1 on hit when est \u2265 2 and est \u2265 f(M1_cand)+1, keep W1\u2192M2 only for est \u2265 4, preserving hot sets without over-inflating M2 on scans.",
    "1. Extend competitive admission to a dual-segment, lexicographic comparator across M1 and M2. On every decision point (choose_victim, window overflow gate, and early-bypass), sample k in [4,12] keys from the LRU-tail regions (tail_len = 4k) of both M1 and M2, score by (TinyLFU estimate ascending, decayed-recency ascending), and add a +1 bias to M2 so it\u2019s harder to replace. Store a lightweight last_touch timestamp per key (use cache_snapshot.access_count) to enable the recency tie-breaker.\n\n2. Replace miss_streak with an EMA-based scan/phase guard and add a small recent-membership boost. Track EMA_miss with \u03b1 \u2248 0.05 and trigger cooldown when EMA_miss > 0.8 for > 0.25\u00d7capacity accesses; during cooldown freeze W1\u2192M2 promotions and raise admission margins by +1 (bias and high-threshold), but still allow W\u2192M1 if f(w1_lru) \u2265 f(cold_main)+1. Add a ring buffer (size \u2248 capacity) of recent keys and grant f(new)+1 when present to accelerate phase shifts without starving warming phases.\n\n3. Make TinyLFU aging and sampling k adaptive per tune_period. Set sketch.age_period within [4C, 16C]: push toward 4C when EMA_miss is high or window hits dominate, and toward 16C when M2 hits > 70%; keep width at max(512, 4C) and conservative updates. Adapt k: use k=4 under churn (high EMA_miss or W-dominant), k=12 when main is stable (M2>70%), else interpolate between 6\u201310.\n\n4. Make W2 demotions frequency-aware using the same randomized tail sampling used in main. When W2 exceeds its target, sample k from W2\u2019s tail (tail_len = 4k) and demote the lowest-TinyLFU candidate (tie-break by older recency) to W1 instead of strict LRU. Under cooldown, allow W1\u2192M1 on hit when est \u2265 2 and est \u2265 f(M1_cand)+1, but keep W1\u2192M2 only for est \u2265 4, preserving emerging hot items while preventing protected inflation on scans.\n\n5. Add a small, bounded \u201chot bypass budget\u201d for direct M2 admission on misses. Per tune_period, allow up to min(8, 0.02\u00d7capacity) direct inserts into M2 when f(new) \u2265 f(sampled M2 tail)+2 (using the dual-segment sampler) and consume one budget token; suppress this budget entirely during cooldown. This preserves very hot items early (supporting top-end peaks like 27/28/34/38) without polluting M2 under streaming.",
    "1. Add dual-segment, lexicographic competitive admission and victim selection with light recency. Sample k in [4,12] from the LRU tails (tail_len = 4k) of both M1 and M2, compute score = (TinyLFU estimate ascending, last_touch_age ascending), and apply a +1 frequency bias to M2 so it\u2019s harder to replace. Maintain a last_touch map updated on every _touch (use access_count), and use the same comparator in choose_victim, window overflow gating, and early-bypass; keep invariants by never inserting unknowns directly into M2 except via a bounded bypass budget.\n\n2. Replace miss_streak with an EMA-based scan/phase guard plus a small recent-membership boost. Track ema_miss via \u03b1\u22480.05 and trigger cooldown when ema_miss>0.8 sustained for >0.25\u00d7capacity accesses; in cooldown freeze W1\u2192M2 promotions and raise admission margins by +1 (bias and thr_hi=4), but still allow W\u2192M1 if f(new) \u2265 f(M1_tail)+1. Add a ring buffer of recent keys (size\u2248capacity) and grant f(new)+1 when the key is present to accelerate phase shifts without starving warming phases.\n\n3. Make TinyLFU aging and k sampling adaptive per tune_period. Set sketch.age_period within [4C,16C]: move toward 4C when ema_miss is high or window hits dominate; toward 16C when M2 hits >70%; keep width at max(512,4C) and conservative updates. Adapt sample_k to [4,12]: use 4 under churn (high ema_miss or W-dominant), 12 when main is stable (M2>70%), and interpolate 6\u201310 otherwise.\n\n4. Make W2 demotions frequency-aware and guard promotions under cooldown. When W2 exceeds its target, sample k from W2\u2019s tail (tail_len=4k) and demote the TinyLFU-min (tie-break by older last_touch) to W1 instead of strict LRU. During cooldown, allow W1\u2192M1 on hit when est\u22652 and est\u2265f(M1_tail)+1, but keep W1\u2192M2 only for est\u22654, preserving emerging hot items while preventing protected inflation on scans.\n\n5. Introduce a small, bounded \u201chot bypass budget\u201d for direct M2 admission on misses. Per tune_period, allow up to min(8, 0.02\u00d7capacity) direct insertions into M2 when f(new) \u2265 f(sampled M2 tail)+2 using the dual-segment sampler; consume one token per use and disable entirely during cooldown. Immediately enforce M2\u2019s target via sampled, frequency-aware demotion to M1 to maintain segment invariants and protected quality."
  ],
  "total_programs_meta_processed": 100
}
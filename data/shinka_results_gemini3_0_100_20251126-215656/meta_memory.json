{
  "unprocessed_programs": [],
  "meta_summary": "**Program Name: Basic Least Recently Used (LRU) Algorithm**\n- **Implementation**: The algorithm maintains a dictionary mapping cached keys to their last access count (logical timestamp), updating this value on every hit or insert and evicting the key with the oldest timestamp.\n- **Performance**: The algorithm achieved a combined score of 0.21, with strong performance on traces exhibiting high temporal locality (up to 0.868) but failing on others.\n- **Feedback**: This standard LRU implementation effectively captures recency but suffers significantly on scan-heavy or cyclic workloads (resulting in near-zero hit rates for many traces), suggesting the need for frequency-based or scan-resistant logic.\n**Program Identifier:** Generation 0 - Patch Name initial_program - Correct Program: True\n\n**Program Name: Hyperbolic Caching with Persistent Frequency History**\n- **Implementation**: Calculates eviction scores as `Frequency / (CurrentTime - LastAccessTime)` to evict the lowest-scored item, while permanently retaining frequency counts for evicted keys to prioritize returning objects.\n- **Performance**: Achieves a combined score of 0.23, with hit rates varying drastically from 0.00 to 0.88 depending on the workload trace.\n- **Feedback**: While the approach balances recency and frequency, the O(N) linear scan for eviction is inefficient, and the algorithm struggles to adapt to scan-heavy or rapidly changing workloads.\n**Program Identifier:** Generation 1 - Patch Name hyperbolic_caching_with_history - Correct Program: True\n\n**Program Name: S3-FIFO Eviction with Ghost Registry**\n- **Implementation**: Utilizes three `OrderedDict` structures to manage a small probationary FIFO, a main FIFO, and a ghost history, promoting items to the main queue based on access bits and prior eviction history.\n- **Performance**: Achieved a combined score of 0.25, showing strong scan resistance on looping traces (up to 89% hit rate) but lower efficiency on highly random workloads.\n- **Feedback**: The ghost registry effectively filters one-hit wonders by distinguishing frequency, though the static 10% allocation for the probationary queue may limit adaptability compared to dynamic resizing policies.\n**Program Identifier:** Generation 2 - Patch Name s3_fifo_ghost - Correct Program: True\n\n**Program Name: S3-FIFO Algorithm with Static Probation Partitioning**\n- **Implementation**: Maintains `small` and `main` FIFO queues using ordered dictionaries, promoting items from the small queue (capped at 10% size) to main if accessed again based on frequency bits.\n- **Performance**: Achieved a combined score of 0.23, with strong results on high-locality traces (up to 0.88) but poor handling of certain scan patterns (near 0.00).\n- **Feedback**: The algorithm effectively segments items to protect the main cache from one-time accesses, though the fixed 10% probation size limits its responsiveness compared to adaptive queue sizing.\n**Program Identifier:** Generation 3 - Patch Name s3fifo_v1 - Correct Program: True\n\n**Program Name: Segmented LRU (SLRU) with Fixed 80% Protected Partition**\n- **Implementation**: The algorithm divides the cache into a protected segment (80% capacity) and a probationary segment, promoting items to protected on hits and evicting the least recently used item from the probationary segment after handling demotions.\n- **Performance**: It achieves a combined score of 0.23, performing well on specific high-locality workloads (up to 0.88 hit rate) but failing significantly on many others (often <0.05).\n- **Feedback**: The SLRU logic effectively isolates popular items to improve hit rates on stable working sets, but the fixed partition ratio limits adaptability to changing access patterns compared to adaptive variants like ARC.\n**Program Identifier:** Generation 4 - Patch Name slru_eviction - Correct Program: True\n\n**Program Name: Adaptive Replacement Cache (ARC) with Dynamic Tuning**\n- **Implementation**: The program implements the ARC algorithm using four `OrderedDict`s to separate recent (T1) and frequent (T2) items from their ghost entries, dynamically adjusting the target list size `p` based on ghost hits to balance eviction policies.\n- **Performance**: The algorithm achieved a combined score of 0.24, with notable success on specific traces (up to 0.89 hit rate) but near-zero effectiveness on many others.\n- **Feedback**: The implementation accurately captures ARC's adaptive logic, but the high variance in performance suggests that the standard learning rate for `p` may be too slow to adapt to the specific, rapidly changing patterns in this dataset.\n**Program Identifier:** Generation 5 - Patch Name arc_eviction - Correct Program: True\n\n**Program Name: Hyperbolic Frequency-Age-Size Score with Ghost Decay**\n- **Implementation**: The algorithm selects eviction victims by minimizing a `Frequency / (Age * Size)` score, prioritizing the retention of frequently used, recently accessed, and small objects. It implements a ghost history mechanism where the frequency of evicted items is preserved but halved, allowing the cache to distinguish between one-hit wonders and recurring content.\n- **Performance**: The algorithm achieves a combined score of 0.23, showing strong results on high-locality traces (e.g., Trace 28) but near-zero hit rates on scan-heavy or churning workloads.\n- **Feedback**: While the hyperbolic formula successfully integrates multiple factors, the static weighting and aggressive eviction of new items (which start with zero frequency) make it brittle against workloads with shifting patterns or large working sets.\n**Program Identifier:** Generation 6 - Patch Name probation_lfu_size_decay - Correct Program: True\n\n**Program Name: Frequency-Age-Size Score Eviction with Decay**\n- **Implementation**: The algorithm evicts items with the lowest score calculated as `Frequency / (Age * sqrt(Size))`, utilizing integer cross-multiplication for comparisons and decaying frequency upon eviction.\n- **Performance**: Achieved a combined score of 0.22, exhibiting extreme variance with excellent rates on some traces (0.88) but near-zero on many others.\n- **Feedback**: The heuristic effectively prioritizes small, frequent, and recent items in stable workloads but struggles significantly with scans or dynamic patterns where the age penalty causes premature eviction.\n**Program Identifier:** Generation 7 - Patch Name improved_hyperbolic_size_aware - Correct Program: True\n\n**Program Name: GDSF Variant with Frequency Decay**\n- **Implementation**: Implements Greedy Dual Size Frequency (GDSF) using a linear scan, calculating priority as $L + Frequency/Size$ and updating the inflation value $L$ to the evicted item's score. It retains frequency history for evicted items, decaying values by half to balance recency and frequency.\n- **Performance**: Achieved a combined score of 0.22, showing strong results on static frequency traces (e.g., 0.88) but failing near-completely on dynamic workloads.\n- **Feedback**: The algorithm effectively identifies popular items in stable distributions but lacks responsiveness to shifting access patterns, likely due to the persistent frequency history overshadowing recency. Additionally, the $O(N)$ linear scan for eviction is computationally expensive for larger caches.\n**Program Identifier:** Generation 8 - Patch Name gdsf_caching - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue (S3-FIFO-D)**\n- **Implementation**: Implements a three-queue structure (Small, Main, Ghost) where the Ghost queue tracks evicted probation items to promote them directly to Main upon re-access, bypassing the Small queue. It uses a static 10% target size for the Small queue and frequency counters to drive eviction and promotion decisions.\n- **Performance**: Achieved a combined score of 0.25, demonstrating strong performance on high-locality traces (up to 0.89) but failing significantly on others (near 0.00).\n- **Feedback**: While the Ghost queue logic aids in scan resistance and identifying recurring items, the static allocation for the Small queue limits the algorithm's ability to adapt to shifting workload phases compared to fully dynamic approaches.\n**Program Identifier:** Generation 9 - Patch Name s3fifo_ghost - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO (A-S3-FIFO) with Ghost Registries**\n- **Implementation**: This algorithm augments the standard S3-FIFO structure by dynamically adjusting the size ratio between the probationary (S) and protected (M) queues based on hits in ghost registries that track recently evicted items.\n- **Performance**: The program achieved a combined score of 0.24, exhibiting high variance with excellent performance on some traces (e.g., 0.89) but failing near-completely on others.\n- **Feedback**: While the adaptive mechanism attempts to optimize queue allocation, the low overall score and inconsistency suggest that the adaptation logic (step size or ghost hit interpretation) may be unstable or slow to react to rapidly changing access patterns compared to static configurations.\n**Program Identifier:** Generation 10 - Patch Name adaptive_s3_fifo - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Ghost-Based Resizing**\n- **Implementation**: This algorithm integrates S3-FIFO's probationary and main queues with ARC-style ghost lists, dynamically adjusting the probationary queue size based on hits in the ghost registries to balance frequency and recency.\n- **Performance**: The approach yields a combined score of 0.23, exhibiting extreme variance with excellent hit rates on some traces (up to 0.89) but failing completely on others (<0.05).\n- **Feedback**: While the adaptive mechanism attempts to optimize queue allocation, the high variance suggests the adaptation logic (step size or convergence speed) is unstable across diverse workloads compared to simpler static implementations.\n**Program Identifier:** Generation 11 - Patch Name strict_promotion_and_extended_ghosts - Correct Program: True\n\n**Program Name: Byte-Aware S3-FIFO Eviction with Ghost Registry**\n- **Implementation**: The solution implements S3-FIFO using a Small (probation) and Main queue, controlling the Small queue size via a 10% byte-capacity limit rather than item count. It features a ghost registry for rescuing evicted items and uses access bits for lazy promotion and second-chance retention.\n- **Performance**: The algorithm achieves a combined score of 0.23, showing high efficiency on select traces (up to 0.88 hit rate) but poor results on many others.\n- **Feedback**: While the byte-aware tracking adds precision, the static 10% threshold for the probation queue appears too restrictive for certain workloads, causing high variance and thrashing in traces where a larger initial buffer or adaptive sizing would be beneficial.\n**Program Identifier:** Generation 12 - Patch Name s3fifo_byte_aware - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue and Main-to-Small Demotion**\n- **Implementation**: Implements an S3-FIFO variant using probationary (Small) and protected (Main) queues, where unreferenced items in Main are demoted to Small rather than immediately evicted. A ghost queue tracks recently evicted Small items to bypass probation upon re-entry.\n- **Performance**: Achieved a combined score of 0.25, performing well on some workloads (up to 89%) but failing significantly on many others (near 0%).\n- **Feedback**: The demotion strategy likely extends object lifetime excessively for scan patterns, causing the probationary queue to clog and degrading performance on high-churn traces compared to standard eviction logic.\n**Program Identifier:** Generation 13 - Patch Name S3-FIFO-Demotion - Correct Program: True\n\n**Program Name: Adaptive Byte-Aware S3-FIFO with Ghost Queue Sizing**\n- **Implementation**: This solution maintains probation and protected queues using an ARC-inspired adaptive ratio adjusted by hits in ghost registries, alongside byte-level capacity tracking and lazy promotion via access bits.\n- **Performance**: The program achieved a score of 0.23, with high variability showing strong performance on static-friendly traces but near-zero hit rates on many others.\n- **Feedback**: The addition of ARC-style dynamic resizing to S3-FIFO adds complexity that appears to destabilize performance on specific traces, though the byte-awareness correctly handles variable-sized objects.\n**Program Identifier:** Generation 14 - Patch Name adaptive_s3_fifo - Correct Program: True\n\n**Program Name: S3-LRU Hybrid with Ghost Queue and Lazy Promotion**\n- **Implementation**: This algorithm employs a small FIFO queue with second-chance promotion to filter one-time accesses and a main LRU queue for popular items, utilizing a ghost queue to fast-track returning evictions into the main cache.\n- **Performance**: The approach achieved a combined score of 0.25, performing exceptionally well on recency-heavy traces (0.89 hit rate) but struggling with scan-heavy workloads where hit rates dropped near zero.\n- **Feedback**: The static 10% allocation for the small queue appears insufficient for specific access patterns; implementing adaptive queue sizing to dynamically adjust the balance between recency and frequency would likely improve stability across diverse traces.\n**Program Identifier:** Generation 15 - Patch Name s3_lru_hybrid - Correct Program: True\n\n**Program Name: Dynamic S3-FIFO with ARC-like Adaptive Sizing**\n- **Implementation**: This algorithm maintains Small and Main FIFO queues with ghost registries, dynamically adjusting the Small queue's target size based on ghost hits to automatically balance recency and frequency. It employs a second-chance mechanism using access bits for promotion from Small to Main upon eviction and reinsertion within Main.\n- **Performance**: The approach achieved a combined score of 0.23, demonstrating high hit rates on specific traces (up to 0.89) but near-zero performance on many others.\n- **Feedback**: While the adaptive partitioning mechanism effectively captures working sets for some patterns, the high variance suggests the resizing logic or eviction priority may be unstable or slow to converge on workloads with rapid phase changes or scan patterns.\n**Program Identifier:** Generation 16 - Patch Name dyns3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Static Split and Ghost Registry**\n- **Implementation**: Implements the S3-FIFO algorithm using a 10% capacity Small queue for insertions and a Main queue for promoted items, leveraging a ghost registry to identify and promote recurring items upon re-access.\n- **Performance**: Achieved a combined score of 0.24, demonstrating high effectiveness on specific workloads (hit rates > 0.7) but poor performance on the majority of traces.\n- **Feedback**: The ghost registry effectively filters \"one-hit wonders\" to protect the main cache, but the fixed 90/10 split between Main and Small queues likely limits adaptability across diverse access patterns compared to adaptive segmentation.\n**Program Identifier:** Generation 17 - Patch Name implement_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Queue Demotion**\n- **Implementation**: Implements S3-FIFO using a 10% probationary queue, a main queue, and a ghost registry, where unaccessed items from the main queue are demoted back to the probationary queue instead of being evicted.\n- **Performance**: Achieved a combined score of 0.25, performing well on high-locality traces but suffering near-zero hit rates on several dynamic workloads.\n- **Feedback**: The decision to recycle unaccessed main queue items back to the probationary queue creates a circular flow that likely retains cold data too long, undermining the algorithm's scan resistance and eviction efficiency.\n**Program Identifier:** Generation 18 - Patch Name extended_ghost_and_demotion - Correct Program: True\n\n**Program Name: Adaptive S3-LRU with Ghost Queue Sizing**\n- **Implementation**: This hybrid algorithm combines S3-FIFO's probation queue and lazy promotion with an LRU protected region, utilizing ARC-style ghost queues to dynamically adjust the partition size based on eviction history.\n- **Performance**: The algorithm achieved a combined score of 0.23, delivering high hit rates on specific traces (up to 0.89) but failing to capture patterns in others.\n- **Feedback**: While the adaptive resizing aims to balance scan resistance and recency, the significant performance variance suggests the adaptation logic may be unstable or slow to converge on optimal configurations for certain workloads.\n**Program Identifier:** Generation 19 - Patch Name adaptive_s3_lru_ghost - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Ghost Queue**\n- **Implementation**: This algorithm extends S3-FIFO by incorporating a ghost queue to track evicted probation items and dynamically adjusts the ratio between the small and main queues based on hit patterns. It also implements a conditional demotion strategy where items evicted from the main queue are moved to the small queue if space permits.\n- **Performance**: The program achieves a combined score of 0.23, with excellent hit rates on specific traces (up to 0.89) but near-zero performance on others.\n- **Feedback**: While the adaptive resizing and ghost queue allow the cache to adjust to varying working set sizes, the extreme variance in performance suggests the adaptation logic or demotion strategy may be unstable or counterproductive for certain access patterns.\n**Program Identifier:** Generation 20 - Patch Name adaptive_s3_fifo - Correct Program: True\n\n**Program Name: Adaptive S3-LRU Hybrid with Ghost Queue Resizing**\n- **Implementation**: Utilizes a small FIFO queue with second-chance promotion to filter one-time accesses and a main LRU queue for hot items, dynamically adjusting the size ratio based on ghost queue hits.\n- **Performance**: Achieved a combined hit rate score of 0.23, performing exceptionally well on specific traces (0.89) while failing on others.\n- **Feedback**: The ghost-based adaptive resizing effectively balances recency and frequency for stable workloads, though the incremental adjustment step may be too slow for highly volatile traces.\n**Program Identifier:** Generation 21 - Patch Name adaptive_s3_lru_dual_ghost - Correct Program: True\n\n**Program Name: Dynamic S3-FIFO with Adaptive Sizing and Frequency Gating**\n- **Implementation**: Utilizes Small and Main queues with ghost registries to dynamically adjust partition sizes and restricts promotion to Main based on global access frequency counts.\n- **Performance**: The algorithm achieved a combined score of 0.23, showing high variance with excellent hit rates on some traces but failing completely on others.\n- **Feedback**: The adaptive sizing benefits locality-heavy workloads, but the strict frequency gating and S-queue capacity limit likely cause thrashing on scan-heavy or looping access patterns.\n**Program Identifier:** Generation 22 - Patch Name freq_gating_and_s_cap - Correct Program: True\n\n**Program Name: S3-FIFO with Frequency Decay and Large Ghost Queue**\n- **Implementation**: Utilizes a probationary Small queue, a protected Main queue with frequency-based decay (demoting to Small), and an enlarged Ghost queue (20x capacity) to facilitate promotion.\n- **Performance**: Achieves a combined score of 0.23, exhibiting high variance with hit rates ranging from 0.89 on optimal traces to 0.00 on others.\n- **Feedback**: While the large ghost queue and frequency decay successfully capture long loops and repeated access patterns, the specific demotion logic results in zero hit rates on several traces, indicating significant robustness issues.\n**Program Identifier:** Generation 23 - Patch Name s3_fifo_decay_ghost - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Demotion and Ghost Registry**\n- **Implementation**: Utilizes a two-queue system where victims from the protected queue are demoted to the probationary queue, while probationary evictions populate a ghost registry that dynamically adjusts the partition size.\n- **Performance**: Achieved a combined score of 0.22, showing high efficacy on repetitive loops but failing significantly on volatile, scan-heavy workloads.\n- **Feedback**: The demotion strategy creates a useful recirculating buffer for stable working sets, but the adaptive sizing mechanism is likely biased or slow to converge, causing the probationary queue to thrash during phase changes.\n**Program Identifier:** Generation 24 - Patch Name adaptive_s3fifo_v2 - Correct Program: True\n\n**Program Name: Dynamic S3-FIFO with ARC-like Partitioning**\n- **Implementation**: Maintains Small and Main FIFO queues with ghost registries to dynamically adjust partition ratios based on marginal utility (ghost hits), similar to ARC. It incorporates size-gating to evict large items immediately and demotes unaccessed Main items to the Small queue rather than evicting them directly.\n- **Performance**: The approach yields a combined score of 0.22, excelling on specific workloads (up to 0.88 hit rate) but failing significantly on most others (<0.05).\n- **Feedback**: While the dynamic sizing and ghost registries provide adaptability for stable working sets, the complex item demotion logic and reliance on heuristic global state resets likely cause instability and poor generalization across diverse traces.\n**Program Identifier:** Generation 25 - Patch Name evict_demotion_sizegating - Correct Program: True\n\n**Program Name: S3-FIFO with Probation Hysteresis and Ghost Registry**\n- **Implementation**: Uses a split-queue architecture (Small 10%, Main 90%) with a ghost registry for history-based promotion and a strict probation mechanism requiring two hits in the Small queue for promotion to Main.\n- **Performance**: Achieved a combined score of 0.25, with strong results on static workloads (up to 89% hit rate) but near-zero performance on several specific trace patterns.\n- **Feedback**: The strict \"two-hit\" requirement within the small queue likely acts as an overly aggressive filter, preventing legitimate working sets from stabilizing in the Main queue before being evicted, causing thrashing on dynamic workloads.\n**Program Identifier:** Generation 26 - Patch Name optimize_s3_fifo_hysteresis - Correct Program: True\n\n**Program Name: S3-FIFO-D with Ghost Cache and Demotion Logic**\n- **Implementation**: Implements a segmented FIFO (Small/Main) where items demote from Main to Small based on frequency counters (capped at 3), utilizing a ghost cache to promote re-accessed evicted items directly to Main with boosted priority.\n- **Performance**: Achieved a combined score of 0.25, showing strong results on static high-locality traces (up to 0.89) but failing significantly on scan or loop patterns (near 0.00).\n- **Feedback**: The demotion mechanism effectively retains hot content, but the lack of adaptive queue sizing and rigid frequency resets leads to thrashing in dynamic or large working-set scenarios.\n**Program Identifier:** Generation 27 - Patch Name s3_fifo_demotion_ghost_persistence - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Ghost Queue Resizing**\n- **Implementation**: Implements a two-queue S3-FIFO structure where the ratio between probationary and protected queues is dynamically adjusted based on hits in ghost registries, utilizing a second-chance mechanism for promotion.\n- **Performance**: Achieves a combined score of 0.23, showing strong results on frequency-biased workloads (up to 0.89) but poor performance on scan-heavy traces.\n- **Feedback**: While the adaptive resizing effectively captures high-frequency items, the near-zero scores on many traces suggest the algorithm struggles to filter one-time access patterns or adapt quickly enough to shifting workload phases.\n**Program Identifier:** Generation 28 - Patch Name as3fifo_v2 - Correct Program: True\n\n**Program Name: Hyper S3-FIFO with Dual Ghost Queues and Adaptive Sizing**\n- **Implementation**: Manages a probationary (S) and protected (M) queue, dynamically adjusting the partition ratio based on ghost hits, and demotes M-evictions to S to filter warm items.\n- **Performance**: Achieved a combined score of 0.23, with high hit rates on selected traces (e.g., 0.89) but near-zero performance on several others.\n- **Feedback**: The ghost-based adaptive sizing effectively balances recency and frequency for some patterns, but the extreme low scores indicate the adaptation logic or queue management is unstable or slow to react on certain workloads.\n**Program Identifier:** Generation 29 - Patch Name hyper_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Two-Hit Promotion**\n- **Implementation**: Utilizes Small (10%) and Main (90%) queues via `OrderedDict`, promoting items to Main only upon two hits or a ghost match, and evicting cold items directly from Main without demotion.\n- **Performance**: Achieved a combined score of 0.22, performing well on high-frequency loops (e.g., 88% hit rate) but failing near-completely on sparse workloads.\n- **Feedback**: The strict two-hit promotion threshold combined with a small probationary queue likely filters too aggressively, preventing items with moderate reuse intervals from establishing residency in the protected Main queue.\n**Program Identifier:** Generation 30 - Patch Name s3_fifo_2h_ghost - Correct Program: True\n\n**Program Name: Dynamic S3-FIFO with ARC-like Partition Sizing**\n- **Implementation**: Enhances S3-FIFO with a dynamic probation queue size adjusted by ghost hits, distinguishing between premature S-evictions and M-demotions to guide resizing.\n- **Performance**: Achieved a combined score of 0.23, showing high efficiency on specific repetitive traces (up to 0.89) but poor generalization across the broader dataset.\n- **Feedback**: While the ghost-based adaptation logic correctly targets loop-heavy workloads, the specific parameter tuning or demotion policy struggles to maintain consistency on mixed or scan-heavy traces.\n**Program Identifier:** Generation 31 - Patch Name freq_demote_s3fifo - Correct Program: True\n\n**Program Name: DynS3FIFO with Adaptive Partitioning and Ghost Registries**\n- **Implementation**: This S3-FIFO variant dynamically resizes the small probation queue using ARC-like ghost hits and demotes cold items from Main to Small instead of immediate eviction.\n- **Performance**: Achieved a combined score of 0.23, performing well on specific looping patterns but poorly on most mixed workloads.\n- **Feedback**: The dynamic resizing coupled with Main-to-Small demotion appears to cause instability or pollution in the probation queue, resulting in near-zero hit rates on many traces compared to standard static configurations.\n**Program Identifier:** Generation 32 - Patch Name persistent_freq_eviction - Correct Program: True\n\n**Program Name: Advanced S3-FIFO with Ghost Queue and Demotion**\n- **Implementation**: Uses a three-queue structure (`q_small`, `q_main`, `q_ghost`) with a static 10% probation size, promoting items on hits or ghost hits and demoting warm main items back to probation during eviction.\n- **Performance**: The algorithm achieved a combined score of 0.24, excelling on specific traces (up to 0.89 hit rate) but performing poorly on many others.\n- **Feedback**: The ghost queue and promotion logic provide strong scan resistance, but the static queue sizing and specific demotion strategy limit adaptability across diverse access patterns.\n**Program Identifier:** Generation 33 - Patch Name s3_fifo_demotion - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Dual Ghost Queues**\n- **Implementation**: The algorithm maintains probation and protected FIFO queues, dynamically adjusting their size ratio based on hits in corresponding ghost queues that track evicted items. Access frequency determines promotion from probation to protected or reinsertion within the protected queue.\n- **Performance**: It achieved a combined score of 0.24, excelling on specific traces (up to 0.89 hit rate) while performing poorly (<0.05) on a large subset of the dataset.\n- **Feedback**: While the adaptive partitioning attempts to optimize queue sizing, the reliance on simple frequency bits and FIFO order limits its ability to handle complex or scanning patterns effectively across diverse workloads.\n**Program Identifier:** Generation 34 - Patch Name adaptive_s3_fifo - Correct Program: True\n\n**Program Name: Enhanced Adaptive S3-FIFO with Dual Ghost Queues**\n- **Implementation**: This algorithm maintains Small and Main FIFO queues with an adaptive capacity ratio tuned by hits in dual ghost queues, promoting frequently accessed items to the Main queue based on frequency caps.\n- **Performance**: It achieves a combined score of 0.23, showing high efficiency on specific traces (up to 0.89) but extremely poor performance on the majority of diverse workloads.\n- **Feedback**: While the adaptive mechanism captures some stable high-locality patterns, the slow convergence or instability of the ratio adjustment leads to ineffective caching on dynamic or scan-heavy traces.\n**Program Identifier:** Generation 35 - Patch Name enhanced_adaptive_s3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Frequency Decay and Ghost Queue**\n- **Implementation**: This approach combines a small probationary FIFO queue and a main LRU queue, implementing frequency decay upon demotion and utilizing a ghost queue to rescue previously evicted items.\n- **Performance**: The algorithm achieves a combined score of 0.25, with notable strength in specific traces but zero hit rates in others.\n- **Feedback**: The frequency decay mechanism allows for a \"second chance\" based on intensity, but the static 10% allocation for probation may be too restrictive for certain access patterns.\n**Program Identifier:** Generation 36 - Patch Name freq_decay_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Frequency Decay**\n- **Implementation**: Implements an S3-FIFO architecture where items evicted from the protected \"main\" queue are demoted back to the probationary \"small\" queue rather than being immediately discarded. It utilizes a ghost cache and frequency counters with decay logic to manage promotions and re-insertions.\n- **Performance**: Achieved a combined score of 0.24, showing strong performance on high-locality traces (e.g., 0.89 on trace 28) and decent stability across mixed workloads.\n- **Feedback**: The demotion mechanism provides a valuable second chance for cooling items, effectively extending the lifecycle of useful data, though the frequency resetting strategy upon promotion may limit effectiveness in scenarios requiring persistent high-frequency retention.\n**Program Identifier:** Generation 37 - Patch Name tune_ghost_parameters - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Ghost Queue**\n- **Implementation**: Uses three queues (Small, Main, Ghost) with a 10% small partition, where cold items evicted from Main are demoted back to Small for a second chance rather than being removed immediately.\n- **Performance**: Achieved a score of 0.25, showing strength in high-frequency traces (up to 89%) but failing completely on others (near 0% hit rate).\n- **Feedback**: The demotion strategy effectively extends the lifetime of cold items from Main, causing cache pollution on scan-heavy workloads which likely explains the poor performance on specific traces compared to standard S3-FIFO.\n**Program Identifier:** Generation 38 - Patch Name s3_fifo_p - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Dual Ghost Queues and Demotion**\n- **Implementation**: Extends S3-FIFO by utilizing two distinct ghost queues to track evictions from the Small and Main regions separately, using hits in these queues to dynamically adjust the ratio between the two partitions. It also includes a demotion policy where items evicted from the Main queue are moved to the Small queue for a second chance.\n- **Performance**: Achieves a combined score of 0.23, exhibiting high variance with excellent performance on a few specific traces but near-zero hit rates on many others.\n- **Feedback**: The complex adaptive sizing mechanism driven by dual ghost queues appears unstable, leading to poor generalization and failure to retain the working set on sparse or scanning workloads compared to simpler approaches.\n**Program Identifier:** Generation 39 - Patch Name s3_fifo_dual_ghost_adaptive - Correct Program: True\n\n**Program Name: Smart S3-FIFO with Ghost Registry and Conditional Demotion**\n- **Implementation**: Enhances S3-FIFO with a ghost registry to rescue previously evicted items and utilizes conditional demotion, where cold items from the main queue are strictly evicted rather than demoted if the probationary queue is full.\n- **Performance**: The algorithm achieves a combined score of 0.25, demonstrating strong results on high-locality traces (e.g., trace 28) but failing significantly on high-churn workloads (e.g., trace 14).\n- **Feedback**: While the ghost registry effectively captures recurrence, the strict eviction policy is likely too aggressive; discarding main-queue items immediately when the probationary queue is full prevents valuable data from recirculating during pressure.\n**Program Identifier:** Generation 40 - Patch Name smart_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Ghost Origin Tracking**\n- **Implementation**: This algorithm partitions the cache into a small probation queue (fixed at 10%) and a main protected queue, utilizing a conditional demotion strategy where items evicted from main are moved to probation if space permits rather than being immediately discarded. It also employs a ghost cache that tracks whether evicted items originated from the main or probation queues to determine their restoration policy.\n- **Performance**: The approach yields a combined score of 0.23, demonstrating strong results on stable, loop-heavy traces (e.g., 0.8874 on trace_28) but performing poorly on high-churn workloads (e.g., 0.0000 on trace_14).\n- **Feedback**: While the demotion logic effectively extends the residency of valuable items when pressure is low, the small fixed probation size causes rapid thrashing during scans, preventing new items from accumulating enough frequency to be promoted.\n**Program Identifier:** Generation 41 - Patch Name conditional_demotion_ghost_origin - Correct Program: True\n\n**Program Name: S3-FIFO-P with Conditional Demotion and Origin-Tracking Ghost**\n- **Implementation**: Implements a partitioned S3-FIFO with a 10% probation queue, featuring conditional demotion that evicts protected items directly if probation is full, and a ghost cache that tracks entry origin for restoration.\n- **Performance**: Achieved a combined score of 0.22, exhibiting extreme variance with high hit rates on specific workloads but failing completely on others.\n- **Feedback**: The strict conditional demotion logic, which bypasses the probation queue when full, likely causes premature eviction of useful data, reducing robustness and adaptability across diverse access patterns compared to standard S3-FIFO.\n**Program Identifier:** Generation 42 - Patch Name s3_fifo_p - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Origin Tracking**\n- **Implementation**: Utilizes a three-queue structure (Small, Main, Ghost) where the Ghost queue retains a flag indicating previous Main residency, enabling selective restoration of ghost hits to either Main or Small based on their history.\n- **Performance**: The algorithm achieved a combined score of 0.23, demonstrating high hit rates on select traces (up to 0.88) but failing completely on others (0.00 on trace 14).\n- **Feedback**: The provenance-based restoration logic effectively filters scan patterns for some workloads, but the rigid queue sizing and promotion rules lack the robustness needed for consistently high performance across all trace types.\n**Program Identifier:** Generation 43 - Patch Name trace_origin_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue and Conditional Demotion**\n- **Implementation**: This approach augments S3-FIFO with a Ghost queue to bypass probation for re-accessed evicted items and implements conditional demotion from Main to Small based on queue occupancy and frequency decay.\n- **Performance**: The algorithm achieves a combined score of 0.25, excelling on high-locality traces (e.g., 0.89 on trace_28) but performing poorly on scan-heavy or sparse workloads.\n- **Feedback**: While the Ghost queue improves adaptation to recurring items, the complex demotion logic and frequency capping may lead to inconsistent retention on diverse trace patterns.\n**Program Identifier:** Generation 44 - Patch Name conditional_demotion_evict - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Ghost Registry**\n- **Implementation**: Maintains a probationary small queue and a protected main queue, where items are promoted to main upon hits and demoted back to the small queue rather than immediately evicted.\n- **Performance**: Achieved a combined score of 0.25, demonstrating strong scan resistance and high hit rates on repetitive traces (up to 0.89) but struggling with sparse data.\n- **Feedback**: The implementation adds robustness through M-to-S demotion and ghost entries, though the static queue sizing and specific frequency decay logic may introduce overhead for simple LRU-friendly workloads.\n**Program Identifier:** Generation 45 - Patch Name s3_fifo_demotion_decay - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Conditional Demotion**\n- **Implementation**: Maintains a small probationary queue (10%) and a large main queue, utilizing a ghost registry to effectively rescue returning evicted items directly to the main queue. It employs conditional demotion where victims from the main queue are only moved to probation if the probationary queue is not full.\n- **Performance**: Achieves a combined score of 0.25, showing strong results on recurring loop patterns (e.g., 0.89 hit rate) but performing poorly on scan-heavy workloads (e.g., 0.00 hit rate).\n- **Feedback**: While the ghost registry successfully captures looping working sets, the static queue sizing and strict demotion policy limit adaptability, causing the cache to drop useful data too aggressively during scans or sparse access patterns.\n**Program Identifier:** Generation 46 - Patch Name s3_fifo_optim - Correct Program: True\n\n**Program Name: S3-FIFO with Frequency Decay and Recursive Demotion**\n- **Implementation**: This algorithm extends S3-FIFO by demoting cold items from the Main queue back to the Small (probation) queue instead of evicting them, using a decayed frequency counter to govern promotion and reinsertion.\n- **Performance**: The approach achieved a combined score of 0.25, with high hit rates on stable workloads (e.g., 0.89 on trace 28) but poor performance on scan-heavy traces.\n- **Feedback**: While the demotion strategy effectively retains warm data in static working sets, the recycling of Main items back to Small appears to hinder the rapid eviction necessary for dynamic or high-churn access patterns.\n**Program Identifier:** Generation 47 - Patch Name s3_fifo_decay_demote - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Origin-Aware Ghost**\n- **Implementation**: Uses a 10% probation FIFO and a protected Main FIFO, employing a ghost cache that tracks eviction origin to tune readmission frequency. Victims from Main are evicted directly (bypassing probation) if the probation queue is full to prevent pollution during scans.\n- **Performance**: Achieves a combined score of 0.25, showing strong locality handling (e.g., 0.89 hit rate) but struggling significantly on specific scan-heavy workloads (near 0% on several traces).\n- **Feedback**: While conditional demotion prevents the probation queue from blocking during churn, the aggressive direct eviction and small fixed probation size likely cause thrashing on traces with larger working sets or looping patterns.\n**Program Identifier:** Generation 48 - Patch Name s3fifo_cd_og - Correct Program: True\n\n**Program Name: Two-Tier Ghost S3-FIFO with Conditional Demotion**\n- **Implementation**: Maintains separate ghost registries for Small and Main queues and enforces a two-hit probation filter for promoting items from Small to Main, while conditionally demoting Main items to Small only if space permits.\n- **Performance**: Achieved a combined score of 0.21, excelling on specific patterns (e.g., 0.88 hit rate) but failing completely on others (0.00 hit rate).\n- **Feedback**: The strict probation mechanism effectively filters one-time access noise but delays the identification of new hot items, and the complex eviction path struggles to adapt quickly to high-churn workloads compared to simpler policies.\n**Program Identifier:** Generation 49 - Patch Name 2tg_s3 - Correct Program: True\n\n**Program Name: Tiered S3-FIFO with Ghost Registry and Frequency Gating**\n- **Implementation**: Utilizes a small FIFO probation queue (10% capacity) and a main LRU queue, promoting items via frequency checks or ghost list hits while handling evictions through demotion or removal.\n- **Performance**: Achieved a combined score of 0.24, excelling on specific workloads (0.89 max hit rate) but struggling significantly on many others.\n- **Feedback**: The ghost-guided promotion effectively captures recurrent items in stable workloads, but the aggressive probation sizing and strict hit requirements likely hinder performance on scan-heavy or high-churn traces.\n**Program Identifier:** Generation 50 - Patch Name s3fifo_tiered_ghost - Correct Program: True\n\n**Program Name: Optimized S3-FIFO with Conditional Demotion and Adaptive Promotion**\n- **Implementation**: This algorithm refines S3-FIFO by using a probationary (S) and protected (M) queue structure, implementing conditional demotion from M to S only when space permits and adjusting promotion thresholds based on M-queue utilization.\n- **Performance**: It achieved a combined score of 0.24, demonstrating strong results on looping and frequency-heavy traces (e.g., 0.89 on trace 28) while struggling with scan patterns.\n- **Feedback**: The adaptive promotion logic effectively accelerates working set capture when the cache is underutilized, and conditional demotion helps retain marginal items, though scan resistance remains a limitation on single-pass workloads.\n**Program Identifier:** Generation 51 - Patch Name S3FIFO_Ghost4x_Freq2 - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue and Conditional Demotion**\n- **Implementation**: This algorithm extends S3-FIFO by adding a Ghost queue for history tracking and a logic path where cold items evicted from the Main queue are demoted to the Small queue instead of being immediately removed. It uses Python ordered dictionaries to manage the Small (probation), Main (protected), and Ghost queues with a 10% capacity target for Small.\n- **Performance**: The approach yields a combined score of 0.23, demonstrating strong hit rates on stable, repetitive patterns (e.g., 0.89 on trace 28) but failing significantly on high-churn workloads (0.00 on trace 14).\n- **Feedback**: The addition of the Ghost queue and Main-to-Small demotion improves retention of intermediate-frequency items, but the rigid 10% size limit on the Small queue likely causes thrashing on workloads that require a larger filter for one-time accesses.\n**Program Identifier:** Generation 52 - Patch Name conditional_demotion_and_larger_ghost - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Conditional Demotion**\n- **Implementation**: Utilizes Small, Main, and Ghost queues (via `OrderedDict`) to manage probationary versus frequent items, using simulated access bits for second-chance re-insertion and ghost history for direct Main queue insertion.\n- **Performance**: Achieved a combined score of 0.23, with high efficiency on specific traces (up to 0.89 hit rate) but poor consistency across the full dataset, dropping to near-zero on several inputs.\n- **Feedback**: The ghost registry effectively filters \"one-hit wonders\" to improve scan resistance, but the static 10% sizing of the probationary queue and the specific demotion logic likely caused the significant performance drops on dynamic workloads.\n**Program Identifier:** Generation 53 - Patch Name conditional_demotion_and_larger_ghost - Correct Program: True\n\n**Program Name: Advanced S3-FIFO with Conditional Demotion**\n- **Implementation**: Extends S3-FIFO with a 10% probationary queue, a 4x ghost registry, and conditional demotion logic that moves evicted Main items to Probation only if space allows.\n- **Performance**: The algorithm achieved a combined score of 0.23, showing strong performance on high-locality traces but failing on scanning or looping patterns.\n- **Feedback**: While conditional demotion aids in retaining marginal items, the fixed queue sizing lacks the adaptability required to handle diverse traces consistently.\n**Program Identifier:** Generation 54 - Patch Name adv_s3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with 10% Probation Queue and 5x Ghost History**\n- **Implementation**: Uses Small (10% cap), Main, and Ghost FIFO queues; Small promotes frequently accessed items to Main or evicts to an expanded Ghost queue (5x cap).\n- **Performance**: Score 0.23; strong on looping traces (>0.80) but poor on scans and random access patterns (~0.02).\n- **Feedback**: The small probation area effectively filters one-hit wonders but evicts potential hits too early in diverse workloads, despite the extended history tracking.\n**Program Identifier:** Generation 55 - Patch Name s3_fifo_v5_large_ghost - Correct Program: True\n\n**Program Name: Adaptive S3-FIFO with Conditional Demotion**\n- **Implementation**: This algorithm partitions the cache into probationary (S) and protected (M) queues, dynamically adjusting the partition size based on ghost hits and employing a conditional demotion strategy where M-victims move to S if space permits.\n- **Performance**: The algorithm achieves a combined score of 0.24, demonstrating strong results on high-locality traces (up to 0.88 hit rate) but performing poorly on scan-heavy workloads (near 0.0 hit rate).\n- **Feedback**: While conditional demotion effectively retains stable working sets, the adaptive sizing mechanism appears vulnerable to scans, failing to filter one-hit wonders effectively in low-locality scenarios.\n**Program Identifier:** Generation 56 - Patch Name adaptive_s3_demote - Correct Program: True\n\n**Program Name: Tiered Ghost S3-FIFO Cache**\n- **Implementation**: Utilizes a segmented cache with probationary (S) and protected (M) queues, employing a ghost registry that tracks eviction origin to enable tiered rescue policies (M-ghosts restore to M, S-ghosts retry in S with credit).\n- **Performance**: The algorithm achieved a combined score of 0.24, demonstrating strong performance on high-locality traces (e.g., Trace 28) but effectively zero hit rate on specific scan patterns.\n- **Feedback**: The origin-aware rescue strategy effectively prioritizes previously protected items, but the static 10% probationary queue allocation limits the cache's ability to adapt to workloads requiring larger scan buffers.\n**Program Identifier:** Generation 57 - Patch Name tiered_ghost_s3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Ghost Origins**\n- **Implementation**: Implementation utilizes three FIFO queues (Small, Main, Ghost) where items evicted from Main are only demoted to Small if the Small queue is under capacity; otherwise, they are evicted directly to a Ghost queue which tracks their origin for optimized re-insertion.\n- **Performance**: Achieved a combined score of 0.24, showing high effectiveness on standard locality traces (up to 0.89) but failing significantly on scan-heavy workloads (0.00 on trace 14).\n- **Feedback**: The conditional demotion logic successfully prevents cold Main items from trashing the probationary queue, but the static 10% allocation for new items appears too restrictive for handling larger working sets or looping patterns efficiently.\n**Program Identifier:** Generation 58 - Patch Name s3fifo_dg - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Frequency-Based Promotion**\n- **Implementation**: Utilizes three queues (Small, Main, Ghost) where items evicted from Main are demoted to Small for a second chance, controlled by access frequency caps and a large ghost history.\n- **Performance**: Achieved a combined score of 0.23, excelling on stable looping workloads (up to 0.89 hit rate) while performing poorly on highly dynamic patterns.\n- **Feedback**: The demotion logic effectively protects the working set in static scenarios, but the fixed 10% probationary queue size appears too restrictive for workloads requiring rapid adaptation to new content.\n**Program Identifier:** Generation 59 - Patch Name freq_boost_and_ghost_expansion - Correct Program: True\n\n**Program Name: S3-FIFO with Frequency Decay and Conditional Demotion**\n- **Implementation:** Extends S3-FIFO by adding frequency decay and a conditional demotion mechanism where items evicted from the Main queue return to the Small queue if space permits, rather than being discarded.\n- **Performance:** Achieved a combined score of 0.23, excelling on static traces (0.89 hit rate) but struggling significantly with dynamic or scan-heavy patterns (near 0.00).\n- **Feedback:** While the demotion strategy effectively protects the working set, the lack of aggressive eviction for zero-frequency items in the Small queue likely causes cache pollution during scans.\n**Program Identifier:** Generation 60 - Patch Name conditional_demote_extended_ghost - Correct Program: True\n\n**Program Name: S3-FIFO Implementation with Ghost Registry**\n- **Implementation**: Utilizes a small probationary FIFO queue (10%) and a main protected FIFO queue, employing a ghost registry to track evicted items for promotion and accessed bits for second-chance re-insertion.\n- **Performance**: Achieved a combined score of 0.23, with high efficiency on specific traces (up to 0.89) but poor results on others (near 0.00).\n- **Feedback**: The algorithm demonstrates strong scan resistance and frequency awareness, though the static 10% partition size appears too rigid for certain workloads, causing significant misses.\n**Program Identifier:** Generation 61 - Patch Name improved_s3fifo_ghost - Correct Program: True\n\n**Program Name: Optimized S3-FIFO with Conditional Demotion and Ghost Registry**\n- **Implementation**: Implements a segmented cache with probationary (S) and protected (M) queues, utilizing a ghost registry to rescue previously evicted items directly to M. Uniquely, M-victims are only demoted to S if S is under capacity; otherwise, they are discarded to prevent polluting the insertion buffer.\n- **Performance**: Achieved a combined score of 0.25, showing strong results on frequency-biased traces (up to 0.89) but struggling significantly with high-churn patterns (near 0.02).\n- **Feedback**: The conditional demotion logic effectively filters one-hit wonders and keeps the probationary queue open for new entries, but the static 10% allocation for probation appears too rigid for traces with larger transient working sets.\n**Program Identifier:** Generation 62 - Patch Name ghost_expansion_and_bonus - Correct Program: True\n\n**Program Name: S3-FIFO with Extended Ghost and Conservative Rescue**\n- **Implementation**: Uses a 10% probationary queue and a main queue with conditional demotion, utilizing a double-sized ghost registry that rescues items into the main queue without initial access credit (\"cold\").\n- **Performance**: Achieved a combined score of 0.25, excelling on frequency-heavy traces (e.g., 0.89 on trace_28) while struggling with certain scan patterns (0.00 on trace_14).\n- **Feedback**: The extended ghost capacity improves the detection of longer reuse loops (Trace 29), and the conservative rescue logic effectively mitigates main-queue pollution, though the static queue sizing limits adaptability on variable workloads.\n**Program Identifier:** Generation 63 - Patch Name s3fifo_ext_ghost_clean - Correct Program: True\n\n**Program Name: S3-FIFO with Extended Ghost and Conservative Rescue**\n- **Implementation**: This S3-FIFO variant employs a large ghost registry (5x capacity) and a \"conservative rescue\" where items recovered from history enter the Main queue without an access bit, requiring a subsequent hit to persist. It also conditionally demotes victims from the Main queue to the eviction end of the Small queue.\n- **Performance**: The approach achieves a combined score of 0.23, with notable strength on scanning and looping traces (e.g., 0.3171 on Trace 12) while maintaining high hit rates on frequency-heavy workloads.\n- **Feedback**: The \"no-bonus\" rescue logic effectively prevents one-hit wonders in the ghost history from polluting the protected queue, and the extended ghost size significantly aids in capturing long-period cyclic patterns.\n**Program Identifier:** Generation 64 - Patch Name s3fifo_extended_ghost_soft_demotion - Correct Program: True\n\n**Program Name:** S3-FIFO Cache with Ghost Registry and Probationary Queue\n- **Implementation:** Maintains a small probationary FIFO (10% capacity) and a main FIFO, using a ghost registry to promote recurring items and a second-chance mechanism to retain frequently accessed objects.\n- **Performance:** Achieved a combined score of 0.24, demonstrating high hit rates on standard locality traces but failing significantly on several specific access patterns (e.g., traces 14-19).\n- **Feedback:** The implementation successfully separates scan-resistant probationary items from popular ones, though the fixed queue sizing and specific demotion strategy likely limit adaptation to dynamic workload shifts compared to adaptive policies.\n**Program Identifier:** Generation 65 - Patch Name smart_s3fifo_v2 - Correct Program: True\n\n**Program Name: S3-FIFO Hybrid with Ghost Queue and Recirculating Demotion**\n- **Implementation**: Implements a segmented cache with a 10% FIFO probation queue and a main LRU queue, using a ghost history for promotions and recirculating demoted main items back to probation.\n- **Performance**: Achieves a combined score of 0.24, demonstrating strong results on looping patterns (e.g., traces 27-28) but failing significantly on scan-heavy workloads.\n- **Feedback**: The policy of recirculating demoted items into a small, fixed-size probation queue likely causes congestion and pollution during scans, suggesting that adaptive queue sizing or stricter eviction rules are necessary.\n**Program Identifier:** Generation 66 - Patch Name s3_lru_ghost_expanded - Correct Program: True\n\n**Program Name: S3-FIFO with Conservative Rescue and Rapid Demotion**\n- **Implementation**: Utilizes a dual-queue S3-FIFO structure with a 4x ghost registry, where ghost hits are rescued to the main queue without hit credits and main-queue evictions are demoted to the immediate eviction position of the small queue.\n- **Performance**: The algorithm scored 0.23, performing well on Zipfian traces but suffering severe degradation on scan and loop-heavy workloads (e.g., Traces 14-19).\n- **Feedback**: The conservative rescue logic successfully balanced pollution resistance in mixed workloads, but the aggressive demotion strategy (placing items at the FIFO head) evicted potentially useful data too quickly in looping scenarios.\n**Program Identifier:** Generation 67 - Patch Name optimize_ghost_and_demotion - Correct Program: True\n\n**Program Name: Probation-Rejection Optimized S3-FIFO with Capacity Gating**\n- **Implementation**: Enhances S3-FIFO by evicting Main items directly to ghost history when the Small queue is full (bypassing probation), and enforces \"strict probation\" where demoted items are placed at the immediate eviction position.\n- **Performance**: Achieved a combined score of 0.23, excelling on static high-locality traces (up to 0.89 hit rate) but failing significantly on dynamic or sparse workloads (near 0.00).\n- **Feedback**: While the capacity-gated bypass effectively prevents scan pollution, the strict probation logic (inserting demoted items as the next victim) likely flushes useful items too aggressively in shifting access patterns.\n**Program Identifier:** Generation 68 - Patch Name pro_s3_fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion Recycling and Ghost Queue**\n- **Implementation**: This algorithm modifies S3-FIFO by demoting cold items from the main queue back to the small (probation) queue rather than evicting them, utilizing a ghost queue for history-based promotion.\n- **Performance**: The approach achieved a combined score of 0.24, showing strong results on specific repetitive traces but failing significantly on dynamic workloads with near-zero hit rates.\n- **Feedback**: Recycling items from Main to Small likely overcrowded the limited (10%) probation area, preventing new items from establishing residency and leading to high churn in dynamic scenarios.\n**Program Identifier:** Generation 69 - Patch Name extended_ghost_and_decay - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Capacity-Gated Demotion**\n- **Implementation**: This approach modifies S3-FIFO by adding a ghost queue for history tracking and a conditional demotion mechanism that moves cold Main items to the Small queue only when capacity permits.\n- **Performance**: It achieves a combined score of 0.23, performing exceptionally well on specific traces while struggling with low hit rates on many dynamic workloads.\n- **Feedback**: The ghost registry helps recover false negatives, but the restrictive demotion logic may cause cache stagnation, preventing efficient adaptation to shifting access patterns.\n**Program Identifier:** Generation 70 - Patch Name s3_lru_ghost_v2 - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue and Conditional Demotion**\n- **Implementation**: This program implements an S3-FIFO variation using three ordered dictionaries (Small, Main, Ghost) where items found in the Ghost queue bypass the probationary Small queue upon re-insertion, and eviction relies on frequency bits with a conditional demotion strategy from Main to Small based on available budget.\n- **Performance**: The algorithm achieves a combined score of 0.23, demonstrating strong hit rates on stable working sets (e.g., traces 28, 34) but performing poorly on high-churn workloads.\n- **Feedback**: While the ghost queue mechanism improves handling of items that quickly re-enter the cache, the fixed 20% probationary budget and specific demotion logic struggle with aggressive scanning patterns, resulting in near-zero hit rates on several traces.\n**Program Identifier:** Generation 71 - Patch Name s3_enhanced_eviction - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Ghost Frequency Boost**\n- **Implementation**: This algorithm utilizes an S3-FIFO structure with a 20% small queue, where cold items evicted from the main queue are conditionally demoted back to the small queue if space permits, and ghost hits are promoted to main with an initial frequency bonus.\n- **Performance**: The model achieved a combined score of 0.23, demonstrating highly variable performance with excellent hit rates on specific traces (up to 88%) but near-zero results on others.\n- **Feedback**: The conditional demotion logic likely retains decaying items too long, crowding out new insertions in the small queue, while the aggressive frequency boost for ghost hits may preserve obsolete items in dynamic workloads.\n**Program Identifier:** Generation 72 - Patch Name s3_fifo_optimized_p - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Queue and Demotion Strategy**\n- **Implementation**: Implements S3-FIFO using Small, Main, and Ghost queues, where items evicted from Main with zero frequency are conditionally demoted to Small, and Ghost hits promote directly to Main.\n- **Performance**: Achieves a combined score of 0.22, showing high variance with strong results on specific traces (up to 88%) but near-zero hit rates on many others.\n- **Feedback**: The addition of Main-to-Small demotion and a large Ghost queue attempts to improve retention, but the inconsistent performance suggests the tuning fails to adapt to high-churn workloads where the probation queue may become clogged with demoted items.\n**Program Identifier:** Generation 73 - Patch Name s3_fifo_tuned - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Ghost Queue**\n- **Implementation**: Maintains a probationary \"Small\" queue (10% capacity) and a protected \"Main\" queue, where items evicted from Main are demoted back to Small rather than immediately discarded. A ghost queue is used to fast-track previously evicted items directly to the Main queue upon re-access.\n- **Performance**: Achieved a combined score of 0.25, showing strong hit rates on frequency-heavy traces but lower effectiveness on scan-heavy workloads.\n- **Feedback**: The demotion mechanism provides a robust second chance for items leaving the protected segment, though the static queue sizing limits adaptability compared to algorithms with dynamic resizing.\n**Program Identifier:** Generation 74 - Patch Name s3fifo_d_reset - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion (S3-FIFO-D)**\n- **Implementation**: Implements a segmented cache with a probationary \"Small\" queue (20%) and a protected \"Main\" queue (80%), using a ghost queue for history and a specific policy where unreferenced Main items are demoted to Small rather than evicted immediately.\n- **Performance**: Achieved a combined score of 0.23, with exceptional performance on specific high-locality traces (up to 88% hit rate) but poor results (<5%) on many scan-heavy workloads.\n- **Feedback**: The demotion mechanism helps retain working sets in static scenarios, but the fixed partition sizes and movement of cold items back to the probationary queue likely cause cache pollution during sequential scans.\n**Program Identifier:** Generation 75 - Patch Name s3_fifo_conditional_demotion - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Ghost Queue**\n- **Implementation**: Implements a probationary Small queue (20%) and protected Main queue (80%) with a Ghost queue for history tracking, uniquely applying conditional demotion where items evicted from Main only return to Small if space permits.\n- **Performance**: Achieves a combined score of 0.23, showing high efficiency on specific locality-heavy traces (up to 0.88 hit rate) but struggling significantly on sparse or scanning workloads (often < 5%).\n- **Feedback**: The strict conditional demotion logic, which bypasses the Small queue when full, likely causes premature eviction of potentially useful items during high-churn periods. Additionally, the static 20/80 partition may be too rigid to adapt to the wide variance in trace characteristics.\n**Program Identifier:** Generation 76 - Patch Name s3_fifo_optimized - Correct Program: True\n\n**Program Name: Smart S3-FIFO v2 with Ghost Rescue and Demotion**\n- **Implementation**: Modifies S3-FIFO with a 20% probationary queue target, a 4x ghost registry, and a mechanism where ghost hits enter the main queue with \"warm\" status while cold main items demote to probationary.\n- **Performance**: Achieved a combined score of 0.24, with high hit rates on looping traces (e.g., 0.88) but very low performance on many others (<0.05).\n- **Feedback**: The warm start for ghost hits effectively captures loops, but the rigid queue sizing and demotion logic appear brittle, failing to adapt to changing working set sizes in diverse workloads.\n**Program Identifier:** Generation 77 - Patch Name smart_s3fifo_v2 - Correct Program: True\n\n**Program Name: Hyper S3-FIFO with Frequency Decay**\n- **Implementation**: Combines a 20% probationary queue with a protected queue using 3-bit frequency counters that decay on eviction; notably, it only allows demotion from protected to probationary if the latter has spare capacity.\n- **Performance**: Achieves a combined score of 0.23, performing well on static frequency traces (up to 0.89) but failing completely on large loop patterns (0.00 score on Trace 14).\n- **Feedback**: The strict conditional demotion logic (blocking M-to-S moves when S is full) bypasses the probationary buffer during high contention, causing the cache to lose track of working sets in loop-based workloads despite the expanded ghost registry.\n**Program Identifier:** Generation 78 - Patch Name hyper_s3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Adaptive Demotion and Extended Ghost**\n- **Implementation**: Extends S3-FIFO with a 20% small queue reservation, a 4x capacity ghost registry that grants frequency bonuses on promotion, and a conditional demotion mechanism that bypasses the small queue when full.\n- **Performance**: The algorithm scored 0.23 overall, demonstrating significant instability with excellent hit rates on some traces (0.88) and zero on others.\n- **Feedback**: While the conditional demotion logic aims to improve scan resistance by protecting the small queue, the aggressive promotion bonuses and rigid thresholds likely caused the poor adaptability observed in the low-scoring traces.\n**Program Identifier:** Generation 79 - Patch Name s3_fifo_adaptive_ghost_v2 - Correct Program: True\n\n**Program Name: Robust S3-FIFO with Always-Demote Policy**\n- **Implementation**: Uses two `OrderedDict` queues (Small/Main) with a ghost registry and global state reset, implementing an \"always demote\" policy where unreferenced Main-queue items are moved to the Small-queue.\n- **Performance**: The algorithm achieves a combined score of 0.24, excelling on high-locality workloads (up to 0.89 hit rate) while performing poorly on specific adversarial traces.\n- **Feedback**: The global reset effectively handles environment state persistence, but the demotion strategy combined with a constrained Small-queue size likely causes cache pollution, hindering performance on certain access patterns.\n**Program Identifier:** Generation 80 - Patch Name robust_s3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Probabilistic Guard**\n- **Implementation**: This algorithm maintains probationary (Small) and protected (Main) FIFO queues, using a probabilistic guard to insert new items at the head of the Small queue (immediate eviction) when full, and uniquely demotes evicted Main items back to the Small queue.\n- **Performance**: The program achieves a combined score of 0.24, performing well on frequency-biased workloads but failing completely on specific loop traces (e.g., 0.00% hit rate on trace 14).\n- **Feedback**: The strategy of demoting items from Main to Small instead of direct eviction likely contributes to thrashing or pollution in strict looping patterns; the probabilistic admission is a good concept but needs tuning to avoid rejecting too many items in scan-heavy scenarios.\n**Program Identifier:** Generation 81 - Patch Name reset_scan_ghost_tuning - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Robust State Management**\n- **Implementation**: Implements S3-FIFO with a 10% probationary queue and a 90% main queue, where cold items evicted from the main queue are demoted back to probation for a final chance, managed via global state resets.\n- **Performance**: Achieves a combined score of 0.25, with high hit rates on looping patterns (e.g., 89%) but near-zero performance on scan-heavy traces.\n- **Feedback**: The demotion mechanism effectively retains warm data by preventing immediate eviction from the main cache, though the static queue sizing leads to significant performance disparities across different workload types.\n**Program Identifier:** Generation 82 - Patch Name s3fifo_robust_demotion - Correct Program: True\n\n**Program Name: Smart S3-FIFO with Ghost Registry and Conditional Demotion**\n- **Implementation**: Enhances S3-FIFO with a ghost registry for efficient re-entry, integer frequency counters with decay, and a conditional demotion policy that evicts cold Main items directly if the Small queue is full.\n- **Performance**: Achieves a combined score of 0.23, showing strong results on high-locality traces (up to 89% hit rate) but struggling significantly with scan-heavy or random workloads.\n- **Feedback**: The ghost registry helps rescue false negatives, but the strict eviction from the Main queue when the Small queue is full likely causes premature data loss for working sets that exceed the Main queue's capacity.\n**Program Identifier:** Generation 83 - Patch Name improved_smarts3fifo - Correct Program: True\n\n**Program Name: S3-FIFO with Extended Ghost and Tenancy Bonus**\n- **Implementation**: This S3-FIFO variant uses a fixed 10% probationary / 90% main queue split and a 5x capacity ghost registry, granting items rescued from ghost a frequency bonus (set to 1) in the main queue to ensure short-term survival. It employs frequency-based eviction logic and conditionally demotes victims from the main queue back to the probationary queue if space allows.\n- **Performance**: Achieved a combined score of 0.23, demonstrating high hit rates on specific looping workloads (e.g., 0.89 on trace 28) but failing significantly on scan-heavy or high-churn traces (e.g., 0.00 on trace 14).\n- **Feedback**: While the extended ghost registry improves loop detection, the static queue sizing and specific demotion logic lack the adaptability required for diverse workloads, leading to inconsistent performance across the benchmark suite.\n**Program Identifier:** Generation 84 - Patch Name s3fifo_freq_ghost - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Aggressive Scan Filtering**\n- **Implementation**: Enhances S3-FIFO with a Ghost registry for Main queue promotion and applies a strict probabilistic filter that inserts 90% of new items at the head of the Small queue when full.\n- **Performance**: Achieved a combined score of 0.24, excelling on static patterns but failing significantly (near 0% hit rate) on many dynamic traces.\n- **Feedback**: The aggressive filtering mechanism (10% survival rate) prevents the cache from learning new working sets in dynamic workloads, causing valid items to be evicted before their second access.\n**Program Identifier:** Generation 85 - Patch Name s3_fifo_scan_resistant - Correct Program: True\n\n**Program Name: S3-FIFO with 2-bit Frequency and 3x Ghost Registry**\n- **Implementation**: This approach modifies S3-FIFO by replacing the boolean access bit with a 0-3 frequency counter and expanding the ghost registry to 3x capacity. It utilizes a Small/Main queue split where ghost hits promote to Main with reset frequency to validate tenancy.\n- **Performance**: The algorithm scores 0.24 overall, excelling on mixed and frequency-biased traces (Trace 28: 0.89) while failing completely on specific loop patterns (Trace 14: 0.0).\n- **Feedback**: Expanding the ghost registry offers limited benefit for difficult loops, and resetting frequency to zero upon promotion likely causes premature eviction of recurring items.\n**Program Identifier:** Generation 86 - Patch Name s3_fifo_multibit_expanded_ghost - Correct Program: True\n\n**Program Name: S3-FIFO with Frequency Retention and Extended Ghost Registry**\n- **Implementation**: Utilizes an S3-FIFO structure with a double-capacity ghost queue and frequency counters (capped at 3) to manage promotion and demotion, employing a conservative zero-frequency reset for ghost rescues.\n- **Performance**: Achieves a combined score of 0.25, excelling on mixed patterns and high-locality workloads (e.g., Trace 28 hit rate 0.89) but struggling with large loops (Trace 14).\n- **Feedback**: The extended ghost registry aids in loop detection, but the conservative rescue policy (resetting frequency to zero) likely hampers rapid adaptation to reoccurring hot items.\n**Program Identifier:** Generation 87 - Patch Name s3_fifo_freq_xghost - Correct Program: True\n\n**Program Name: S3-FIFO with Early Discharge Queue and Probabilistic Admission**\n- **Implementation**: This S3-FIFO variant adds an \"Early Discharge\" queue to filter scans, probabilistically directing 75% of overflows there, and grants a frequency bonus to items promoted from the ghost history.\n- **Performance**: The program achieves a combined score of 0.24, with strong performance on static locality traces (up to 89%) but poor results on dynamic or sparse workloads (often <3%).\n- **Feedback**: The fixed probabilistic admission to the discharge queue effectively guards against scans but appears too rigid for changing workloads, causing significant misses on traces that require rapid adaptation or have low repetition.\n**Program Identifier:** Generation 88 - Patch Name s3_fifo_pa_tb - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost List and Demotion Strategy**\n- **Implementation**: This algorithm extends S3-FIFO by adding a \"ghost\" queue to track evicted items for quick promotion and implements a demotion logic where items evicted from the main queue return to the small queue for a second chance.\n- **Performance**: The approach achieves a combined score of 0.25, excelling on static locality traces but performing poorly on many others (e.g., trace 14 with 0.0 hit rate).\n- **Feedback**: While the ghost list aids loop detection, the demotion strategy (Main to Small) likely increases the retention of cold items during scans, preventing the cache from adapting quickly to new working sets.\n**Program Identifier:** Generation 89 - Patch Name S3FIFO_GhostBonus_Decay - Correct Program: True\n\n**Program Name: Ghost-Gated S3-FIFO with Rejected Queue**\n- **Implementation**: Enhances S3-FIFO by directing insertions to a \"rejected\" queue when the small probation queue (5% capacity) is full, prioritizing their immediate eviction to mitigate scans, supported by a 5x ghost capacity and frequency tracking.\n- **Performance**: The algorithm achieved a combined score of 0.24, excelling on static workloads (Trace 28: 0.89) but performing poorly on dynamic traces, notably scoring 0.00 on Trace 14.\n- **Feedback**: The \"rejected\" queue mechanism acts as an overly aggressive filter, preventing new items from entering the cache even when useful, leading to extremely poor hit rates on traces requiring rapid adaptation or larger probation spaces.\n**Program Identifier:** Generation 90 - Patch Name s3fifo_ghost_gate - Correct Program: True\n\n**Program Name: S3-FIFO with Demotion and Ghost Queues**\n- **Implementation**: Extends S3-FIFO by demoting items from the protected 'Main' queue back to the 'Small' probation queue upon eviction, utilizing frequency counters with decay and a ghost queue for fast-track promotion.\n- **Performance**: Achieved a combined score of 0.23, showing high variance with strong results on loop-heavy traces (e.g., 0.89) but poor adaptability on most others.\n- **Feedback**: The demotion strategy recycles cold items from the main queue back into probation, likely causing cache pollution that starves new insertions and hinders adaptation to shifting working sets.\n**Program Identifier:** Generation 91 - Patch Name s3_fifo_tuning - Correct Program: True\n\n**Program Name: Smart S3-FIFO with Ghost Registry and Frequency Counters**\n- **Implementation**: Uses a 10% probationary FIFO and a main protected FIFO, leveraging a ghost registry to restore frequency counts for evicted items to improve promotion decisions.\n- **Performance**: Attained a combined score of 0.24, showing high efficacy on specific traces (0.89 peak) but failing significantly on others (near 0.0).\n- **Feedback**: While the ghost registry aids in recovering useful data, the small fixed probationary queue size appears too restrictive for many workloads, leading to excessive early evictions.\n**Program Identifier:** Generation 92 - Patch Name smarts3fifo_strict_ghost_freq - Correct Program: True\n\n**Program Name: S3-FIFO with 5x Ghost and Optimistic Rescue**\n- **Implementation**: This S3-FIFO variant utilizes a 5x capacity ghost registry to track long-term history and employs an \"optimistic rescue\" where items returning from ghost start with a frequency of 1. It manages probation, protected, and ghost queues using a frequency counter (capped at 7) to determine promotion and demotion priorities.\n- **Performance**: The algorithm achieves a combined score of 0.23, showing strong results on stable workloads (e.g., 0.89 on trace 28) but maintaining low hit rates on high-churn traces (e.g., 0.02 on trace 29).\n- **Feedback**: Increasing the ghost registry size aids in identifying looping patterns over longer intervals, while the optimistic frequency assignment helps stabilize the working set by preventing immediate eviction of recently rescued items.\n**Program Identifier:** Generation 93 - Patch Name optimize_s3_fifo_params_v2 - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost Registry and Conditional Demotion**\n- **Implementation**: Maintains Small and Main FIFO queues with a ghost registry for history-aware promotion, uniquely implementing a conditional demotion strategy where cold items from the Main queue are moved back to the Small queue if space permits.\n- **Performance**: The algorithm scored 0.23, demonstrating strong results on specific traces (hitting ~89%) but suffering near-zero hit rates on numerous others.\n- **Feedback**: The non-standard demotion of items from Main back to Small likely causes older cold items to displace newer potential hits in the probationary queue, hurting performance on workloads that benefit from quicker turnover of cold data; standard S3-FIFO typically evicts directly from Main.\n**Program Identifier:** Generation 94 - Patch Name enhanced_s3fifo_ghost_freq - Correct Program: True\n\n**Program Name: S3-FIFO with Ghost-Gated Admission**\n- **Implementation**: Implements a three-queue architecture (Filter, Small, Main) where new items enter a transient Filter queue, while a \"Ghost\" registry tracks evicted keys to bypass the Filter and promote recurring items directly to the Main queue.\n- **Performance**: The algorithm achieved a combined score of 0.24, showing excellent performance on specific loop-heavy traces (up to 0.89) but failing near-completely on many others.\n- **Feedback**: The strict prioritization of evicting from the Filter queue likely acts as an overly aggressive gate, discarding potentially useful data too quickly before it can be promoted; additionally, the fixed 5% allocation for the Small queue limits adaptability across diverse workloads.\n**Program Identifier:** Generation 95 - Patch Name s3fifo_ghost_gated - Correct Program: True\n\n**Program Name: S3-FIFO with Conditional Demotion and Origin-Aware Ghost**\n- **Implementation**: This algorithm extends S3-FIFO by conditionally demoting main queue victims to the probation queue if space permits and using an extended ghost cache to assign higher initial frequencies to reinstated main items.\n- **Performance**: It achieved a combined score of 0.23, excelling in repetitive access patterns while struggling significantly with single-pass scans.\n- **Feedback**: The conditional demotion strategy dynamically repurposes probation space for retention, and the origin-aware reinstatement helps discriminate between transient and persistent data, though scan resistance remains a weakness.\n**Program Identifier:** Generation 96 - Patch Name s3fifo_extended_ghost_reduced_small - Correct Program: True\n\n**Program Name: S3-FIFO-Gated with Transient Queue and Strict Promotion**\n- **Implementation**: This algorithm introduces a 'Transient' queue for new items when the small probation queue (5% capacity) is full, prioritizing their eviction and requiring ghost-list hits or multiple accesses for promotion to the main queue.\n- **Performance**: It achieved a combined score of 0.24, demonstrating strong scan resistance on specific traces but suffering near-zero hit rates on many dynamic workloads.\n- **Feedback**: The aggressive gating and small probation size effectively filter scans but likely starve the main cache during working set shifts, suggesting the admission criteria is too restrictive for general cases.\n**Program Identifier:** Generation 97 - Patch Name s3_fifo_ghost_gated - Correct Program: True\n\n**Program Name: S3-FIFO with Main-to-Small Demotion and Ghost Cache**\n- **Implementation**: Extends S3-FIFO by demoting cold Main items back to a 5% capacity Small queue and utilizing a ghost cache for re-entry promotion with frequency bonuses.\n- **Performance**: Achieved a score of 0.23, excelling on specific loop traces but failing significantly on most mixed workloads.\n- **Feedback**: The 5% probation queue is likely too small to handle both new insertions and demoted items, causing high churn that prevents new working sets from stabilizing.\n**Program Identifier:** Generation 98 - Patch Name optimize_s3_params - Correct Program: True\n\n**Program Name: S3-FIFO with Extended Ghost and Conservative Rescue**\n- **Implementation**: Uses a 10% small queue with aggressive scan resistance that inserts new items at the eviction head when full, and drops main queue victims instead of demoting them if the small queue lacks space.\n- **Performance**: Achieved a score of 0.25, excelling on simple loops (Trace 28: 0.89) but performing poorly on mixed scan/loop patterns (Trace 29: 0.06).\n- **Feedback**: The strict refusal to demote M-victims to a full S-queue and the bypass mechanism for new items prioritizes scan resistance too heavily, causing the cache to miss items in dynamic, high-churn workloads.\n**Program Identifier:** Generation 99 - Patch Name increase_ghost_limit - Correct Program: True",
  "meta_scratch_pad": "Based on the evaluation of Generations 90-99 and the continued superior robustness of the Current Best Program (Generation 74), here are the extracted optimization insights.\n\n## Successful Algorithmic Patterns\n- **Unconditional Demotion with Immediate Re-evaluation:** The **Current Best Program (Gen 74)** maintains a stable score of **0.25** by unconditionally demoting items from the Main queue to the Small queue when their frequency is 0. Crucially, this is nested within a `while True` loop that immediately re-checks the Small queue's capacity. This ensures that a demoted item is instantly evaluated against the current Small queue contents, preventing cache bloat while preserving the \"second chance\" mechanic.\n- **Static 10% Probation Allocation:** Programs that utilized a strict 10% allocation for the probationary (Small) queue, such as **Gen 74** and **Gen 99**, achieved the highest scores (**0.25**). Conversely, programs attempting to restrict this further to 5% (e.g., **Gen 90**, **Gen 95**, **Gen 97**, **Gen 98**) consistently capped at **0.23-0.24**, as the smaller buffer caused excessive thrashing of new insertions before they could be promoted.\n- **Zero-Reset Policy on Transitions:** The **Current Best Program** resets an item's frequency to 0 whenever it moves between queues (Main to Small, or Ghost to Main). **Gen 93** attempted an \"Optimistic Rescue\" where items returning from the Ghost registry started with a frequency of 1, but this resulted in a lower score (**0.23**). The zero-reset policy forces reinstated items to prove their utility via recency (MRU position) rather than relying on artificial tenure.\n\n## Ineffective Approaches\n- **Gated and Transient Admission Queues:** Several programs (**Gen 90**, **Gen 95**, **Gen 97**) introduced auxiliary queues (\"Rejected\", \"Filter\", \"Transient\") to guard the probationary queue. While these achieved scores of **0.24**, they failed to surpass the baseline. Feedback indicates these mechanisms acted as \"overly aggressive filters,\" starving the main cache of useful data in dynamic workloads (Trace 14, Trace 29) relative to the simpler S3-FIFO structure.\n- **Conditional Demotion (Capacity-Gated):** Programs like **Gen 94** and **Gen 96** (Score **0.23**) implemented logic to demote Main items *only if* the Small queue had space. This approach fails because it denies Main items the opportunity to compete with potentially colder items currently in the Small queue, disrupting the natural \"tournament\" flow of the cache.\n- **Complex Frequency Bonuses:** **Gen 93** (Score **0.23**) and **Gen 98** attempted to assign frequency bonuses or complex tenure weights to ghost-rescued items. This proved less effective than the **Current Best Program's** approach of treating ghost hits purely as admission signals (promoting to Main) while resetting their frequency count to zero.\n\n## Implementation Insights\n- **The \"While True\" Eviction Driver:** The effectiveness of the **Current Best Program (Gen 74)** stems from its control flow: `while True: if len(s_queue) > s_capacity or not m_queue: ...`. This loop structure allows the algorithm to perform a demotion (Main -> Small) and, if that demotion violates the Small queue's capacity, immediately perform an eviction (Small -> Ghost) in the same logical pass. This contrasts with linear `if/else` implementations in lower-scoring variants that may leave the cache momentarily over-subscribed or simply drop victims.\n- **Decoupled Frequency Management:** The **Current Best Program** maintains `access_counts` in a separate dictionary, enabling efficient \"decay\" or \"reset\" operations without modifying the queue objects themselves. This is essential for the unconditional demotion strategy, where an item's metadata (frequency) changes context (from \"protected\" to \"probation\") instantly.\n- **Ghost Registry Sizing (2x vs 5x):** While **Gen 93** tested a 5x ghost capacity, it scored **0.23**. The **Current Best Program** uses a 2x capacity and scores **0.25**. The 2x size appears optimal for the provided traces, offering enough history to detect loops without the management overhead or false-positive rate of a larger registry.\n\n## Performance Analysis\n- **Robustness on Dynamic Traces (Trace 29):** While **Gen 99** matched the **Current Best Program's** overall score of **0.25**, a deeper look reveals a significant weakness. **Gen 99** (using a form of conditional rescue) scored only **0.06** on the mixed-pattern Trace 29, whereas the **Current Best Program** scored **0.1566**. This confirms that the unconditional demotion strategy provides significantly better adaptability to changing working sets than conditional drops.\n- **The 0.25 Ceiling:** The evaluation set continues to show a \"glass ceiling\" at 0.25. Programs adding complexity (transient queues, conditional logic) consistently drop to 0.23-0.24. The highest performance is achieved by maximizing static locality (Trace 28: ~0.89) while maintaining a baseline on dynamic traces, a balance best struck by the simple, strict 10/90 S3-FIFO implementation of **Gen 74**.\n- **Scan Resistance vs. Adaptability:** The \"Gated\" programs (**Gen 90**, **Gen 97**) successfully filtered single-pass scans but at the cost of adaptability, scoring **0.00** on Trace 14. The **Current Best Program** also struggles on Trace 14 (0.00) but compensates with superior hit rates on mixed traces (Trace 29), suggesting that strict gating mechanisms are net-negative if they hinder the cache's ability to learn new patterns.",
  "meta_recommendations": "Based on the analysis of Generations 90-99 and the continued dominance of the Current Best Program (Generation 74), here are 5 actionable recommendations for future mutations. These recommendations focus on resolving the specific weakness on scan traces (Trace 14: 0.00%) while preserving the structural advantages that yield high locality scores.\n\n1.  **Ghost-Gated Admission Policy (Scan Resistance)**\n    Implement a conditional admission logic in `update_after_insert` to address the 0.00% score on Trace 14. If the `s_queue` is full and the new item is *not* present in the `ghost_registry`, bypass the cache entirely and insert the item directly into the `ghost_registry`. This ensures that one-time-use items (scans) never displace valid data in the `s_queue` or `m_queue`, reserving cache capacity for items that have demonstrated recurrence via a Ghost hit.\n\n2.  **Expanded Ghost Registry Capacity (5x)**\n    Increase the `ghost_registry` capacity from `2x` to `5x` (or larger) of the cache size. With the implementation of Ghost-Gated Admission (#1), the Ghost registry becomes the primary filter for all incoming traffic. A significantly larger metadata history is required to capture the working set of larger looping patterns and ensure that valuable items are not forgotten before they recur.\n\n3.  **Strict Promotion Threshold (Lazy Promotion)**\n    Raise the promotion criteria from `s_queue` to `m_queue` to require `freq > 1` (at least two hits while in probation) instead of `freq > 0`. Combined with the 10% probation allocation, this stricter filter ensures that only items with strong evidence of utility enter the protected `m_queue`, effectively filtering \"two-hit wonders\" that might otherwise pollute the main cache segment.\n\n4.  **Increased Frequency Ceiling**\n    Raise the `access_counts` cap from `3` to `7`. The current low cap limits the algorithm's ability to distinguish between \"warm\" items and \"hot\" core working set items in the `m_queue`. A higher ceiling allows for more granular decay (e.g., requiring more eviction cycles to demote a very popular item), which should further optimize the hit rate on high-locality traces like Trace 28.\n\n5.  **Enlarged Probation Queue Allocation (20%)**\n    Experiment with increasing the `s_capacity` from 10% to 20% *in conjunction with* Ghost-Gated Admission. Since the gating mechanism (#1) prevents scan noise from entering the `s_queue`, the items that *do* enter are of higher potential quality. A larger probation buffer gives these filtered items more time to accrue the hits necessary for promotion, potentially capturing medium-term loops that the tighter 10% window currently misses.",
  "meta_recommendations_history": [
    "Based on the success of the S3-FIFO implementation (Gen 9) and the analysis of ineffective approaches, here are 5 actionable recommendations for future program mutations:\n\n1.  **Adaptive Queue Sizing (Dynamic Partitioning)**\n    The current implementation uses a static 10% allocation for the probationary `s_queue`. Workloads vary significantly in the size of their \"scan\" vs. \"hot\" sets. Implement a feedback loop similar to ARC: increase the target size of `s_queue` when a \"hit\" occurs in the `ghost_registry` (indicating the probationary period was too short), and decrease it when hits occur in the protected `m_queue`. This allows the algorithm to dynamically optimize the probation window.\n\n2.  **Extended Ghost Registry Capacity**\n    The current program caps the `ghost_registry` size equal to the cache capacity. For traces with large looping patterns (loop-twice) that slightly exceed cache size, this history is lost too soon. Experiment with increasing the ghost registry limit (e.g., to 2.0x or 3.0x of cache capacity). Since the ghost registry only stores metadata (keys), the memory overhead is low, but the gain in recognizing longer-period recurring items could be significant.\n\n3.  **Demotion-Based Eviction (SLRU-Style Fallback)**\n    Currently, items evicted from the protected `m_queue` (that have no access bit) are permanently removed. Introduce a \"demotion\" step: move these victims back to the tail of the probationary `s_queue` instead of deleting them. This essentially treats the cache as a Segmented LRU, giving formerly hot items a final \"survival lap\" in the probationary queue to catch intermittent accesses before they are lost to the ghost registry.\n\n4.  **Strict Promotion Criteria (Frequency Gating)**\n    The current logic promotes items from `s_queue` to `m_queue` on a single hit (access bit). This may pollute the protected queue with \"two-hit wonders.\" Tighten the promotion logic: when an item in `s_queue` is accessed, keep it in `s_queue` (move to tail) for its first survival round. Only promote it to `m_queue` if it is accessed *again* in a subsequent round or if it is effectively \"rescued\" via the ghost registry. This filters out weak frequency signals more aggressively.\n\n5.  **Access-Bit Persistence in Ghost Registry**\n    Currently, the `ghost_registry` tracks existence but drops the \"accessed\" state. Modify the ghost registry to store a boolean flag or small counter indicating if the item was heavily accessed before eviction. When a ghost item is re-inserted, use this metadata to determine its placement: \"hot\" ghosts bypass probation directly to `m_queue` (as currently done), while \"cold\" ghosts might be re-inserted into `s_queue` to re-prove their utility, preventing history from overly prioritizing stale data.",
    "Based on the analysis of the S3-FIFO-D (Demotion) implementation and its performance characteristics (high variance, poor scan resistance on Trace 14), here are 5 actionable recommendations for future mutations:\n\n1.  **Conditional Demotion Strategy**\n    The current \"Main-to-Small\" recycling helps retain working sets but causes 0.00% hit rates on pure scans (Trace 14) by clogging the probationary queue with cold data. Modify the `evict` logic to make demotion conditional: only move a victim from `_s3_main` to `_s3_small` if the `_s3_small` queue has low utilization or if the recent hit rate in `_s3_small` is high. During scan phases (high churn in Small), disable demotion and strictly evict Main victims to keep the pipeline clear for new data.\n\n2.  **Frequency-Gated Promotion (Hysteresis)**\n    Currently, a single hit in `_s3_small` promotes an item to the protected `_s3_main` queue. This pollutes the protected queue with items that are accessed only twice (insert + 1 hit). Implement a \"two-hit\" promotion rule: on the first hit in `_s3_small`, move the item to the tail of `_s3_small` (renew probation). Only promote to `_s3_main` if the item is accessed again (frequency $\\ge$ 2). This filters out weak signals more aggressively.\n\n3.  **Ghost-Driven Adaptive Partitioning**\n    Previous adaptive attempts failed due to instability, but the static 90/10 split is suboptimal for some traces. Implement a robust adaptive resizing driven *only* by Ghost hits. If an item is found in the `ghost_registry` (indicating premature eviction), increment the target size of `_s3_small` (e.g., +1% capacity). Decay the target size slowly on hits in `_s3_main`. This ensures the probation window expands specifically to capture loops that are currently being missed.\n\n4.  **Metadata Persistence in Ghost Registry**\n    Currently, the ghost registry only tracks key existence, treating all returning items equally. Modify `_s3_ghost` to store a \"was_hot\" boolean or the eviction frequency. When a ghost item is re-accessed, use this metadata to decide placement: if it was previously hot (high freq or from Main), bypass to `_s3_main`; if it was cold (from Small), re-insert into `_s3_small`. This prevents recurring cold scans from bypassing the probation filter.\n\n5.  **Scan-Resistant Admission Policy**\n    To further protect against the 0.00% scan scenarios, implement a probabilistic admission policy when the cache is full and under stress. If the `_s3_small` queue is effectively full and churning, admit new items with a probability $P < 1.0$ (e.g., based on the ratio of eviction generation to current generation). Skipping the insertion of some one-time items during heavy scans can preserve existing hot data and improve the overall hit rate.",
    "Based on the analysis of the top-performing Generation 27 (Score 0.25) and the algorithmic insights gathered, here are 5 actionable recommendations for future mutations. These recommendations focus on mitigating the \"scan intolerance\" of the current best program (Trace 14: 0.00%) while preserving its excellent handling of recurring patterns.\n\n1.  **Conditional Demotion Logic**\n    The current program blindly recycles every zero-frequency victim from `_s3_main` back into `_s3_small`. This floods the probation queue with cold data during scans, causing the 0.00% hit rate on Trace 14. Modify `evict` to make demotion conditional: only move a victim from Main to Small if `_s3_small` is not currently full or if the global hit rate is stable. In all other cases (especially when Small is churning rapidly), evict the Main victim directly to keep the pipeline clear for new scan items.\n\n2.  **Probationary Hysteresis (Two-Hit Promotion)**\n    Combine the strengths of Gen 27 (Demotion) and Gen 26 (Hysteresis). Modify the promotion logic in `_s3_small` to require two hits instead of one to enter the protected `_s3_main` queue. On the first hit, simply move the item to the tail of `_s3_small` (renew probation). This higher barrier to entry prevents \"one-hit wonders\" and weak signals from polluting the large protected region, reserving it for truly high-frequency content.\n\n3.  **Frequency-Aware Ghost Registry**\n    Currently, the ghost registry treats all evicted items equally, allowing any returning ghost to bypass probation. Enhance `_s3_ghost` to store metadata (e.g., a \"was_hot\" boolean) indicating if the item was evicted from Main or Small. On a ghost hit, only bypass probation if the item was previously hot (from Main). If it was cold (from Small), re-insert it into `_s3_small`. This distinguishes valuable looping data from recurring low-value scans.\n\n4.  **Probabilistic Admission (Scan Resistance)**\n    To further protect against scan-heavy workloads where the cache is thrashing, implement a probabilistic admission policy. When the cache is full (specifically when `_s3_small` is full), admit new items with a probability $P < 1.0$ (e.g., 0.9). Randomly rejecting a small percentage of inserts during high pressure creates \"breathing room\" for existing items in the probation queue to accumulate hits, significantly improving robustness on traces like Trace 14.\n\n5.  **Frequency Persistence on Demotion**\n    Currently, when an item is demoted from Main to Small, its frequency is reset to 0, making it the immediate next victim in the Small queue if not accessed instantly. Modify the demotion step to initialize the item's frequency in `_s3_small` to 1 (or a \"grace\" value). This grants the demoted item one full cycle of protection in the probation queue, effectively implementing a \"soft landing\" that allows slightly cooling items a fair chance to be re-promoted before final eviction.",
    "Based on the analysis of Generations 30-39 and the specific weaknesses of the Current Best Program (0.00% hit rate on scan traces), here are 5 actionable recommendations for future mutations:\n\n1.  **Capacity-Aware Conditional Demotion**\n    The current \"blind\" demotion of all Main queue victims into the Small queue causes severe clogging during scan phases (Trace 14). Modify the `evict` function to make demotion conditional: only recycle a victim from `_s3_main` to `_s3_small` if `len(_s3_small) < s_target`. If the Small queue is already at or above capacity, evict the Main victim directly. This prevents cold data from the Main queue from suffocating new insertions during high-churn periods.\n\n2.  **Probationary Hysteresis (Two-Hit Promotion)**\n    To filter out weak signals and \"one-hit wonders\" that pollute the protected Main queue, implement a stricter promotion policy. Modify the logic in `_s3_small` to require two hits (frequency > 1) for promotion to `_s3_main`. On the first hit, simply move the item to the tail of `_s3_small` (renew probation). This effectively reserves the Main queue for items with proven recurrence.\n\n3.  **Origin-Based Ghost Handling**\n    Refine the ghost registry to track the source of evicted items (e.g., store `True` if evicted from Main, `False` if from Small). Modify `update_after_insert` to use this metadata: only allow a direct bypass to `_s3_main` if the ghost originated from Main. Ghosts that originated from Small should be re-inserted into `_s3_small`. This maintains the algorithm's loop-detecting strength for established data while preventing scan cycling.\n\n4.  **Frequency Inheritance on Demotion**\n    Currently, items demoted from Main to Small have their frequency reset to 0, making them immediate candidates for eviction in the Small queue. Change this to initialize the frequency of demoted items to 1 (or a dedicated \"grace\" value). This provides a \"soft landing,\" giving cooling heavy-hitters a fair survival window against completely new, cold insertions in the probation queue.\n\n5.  **Probabilistic Admission Filter**\n    To further harden the algorithm against pure scan workloads where the cache thrashes, add a probabilistic guard at the entry. When `_s3_small` is full, reject new insertions with a small probability (e.g., 5-10%). This seemingly counter-intuitive noise prevents the cache from becoming perfectly synchronized with a scan pattern, creating \"breathing room\" for the probation queue to identify valid working sets.",
    "Based on the global insights from Generations 40-49 and the specific performance characteristics of the Current Best Program (Score 0.25), here are 5 actionable recommendations for future mutations. These recommendations focus on fixing the critical \"Scan vs. Recycling\" conflict while refining the successful ghost and demotion patterns.\n\n1.  **Capacity-Aware Conditional Demotion**\n    *Address the 0.00% hit rate on Trace 14.*\n    Modify the `evict` function to make the demotion from the Main queue to the Small queue conditional. Currently, the code unconditionally recycles Main victims to `s_queue`. Change this to check `len(s_queue) < s_capacity` (or a slightly higher tolerance like 1.5x capacity) before demoting. If the Small queue is full, evict the Main victim directly to the ghost registry. This prevents cooling items from the Main queue from clogging the probation buffer during high-churn scan phases.\n\n2.  **Tiered Promotion Strategy (Differential Hysteresis)**\n    *Refine the \"Two-Hit\" approach that failed in Gen 49 by respecting history.*\n    Implement a promotion threshold where new items require 2 hits to enter the Main queue, while previously demoted items require only 1. This can be achieved by:\n    1. Increasing the promotion requirement in `evict` to `freq > 1`.\n    2. Initializing new insertions with `freq = 0`.\n    3. Initializing items demoted from Main to Small with `freq = 1`.\n    4. If an item in Small has `freq == 1` during eviction, move it to the tail (renew probation) instead of evicting.\n    This effectively filters \"one-hit wonders\" from new traffic while giving established heavy-hitters a faster path back to safety.\n\n3.  **Origin-Tracking Ghost Registry**\n    *Optimize loop detection by distinguishing strong vs. weak signals.*\n    Update the `ghost_registry` to store a boolean flag indicating the source of the evicted item (e.g., `True` for Main, `False` for Small). In `update_after_insert`, use this flag to direct ghost hits: only promote directly to `m_queue` if the ghost originated from the Main queue. If it originated from the Small queue, re-insert it into `s_queue` (probation). This prevents weak signals from bypassing the probation filter while maintaining the \"loop shortcut\" for high-value data.\n\n4.  **Probabilistic Admission Guard**\n    *Harden the cache against synchronized thrashing.*\n    In `update_after_insert`, introduce a probabilistic filter when `s_queue` is at or above capacity. Reject new insertions (do not cache them) with a small probability (e.g., 5-10%). This introduces necessary \"noise\" that prevents the cache eviction cycles from becoming perfectly synchronized with scan patterns, effectively breaking the thrashing loops observed in Trace 14.\n\n5.  **Ghost Capacity Expansion**\n    *Leverage the strong \"Ghost-Guided\" pattern.*\n    The Current Best Program shows exceptional performance on large loops (Traces 27 & 28) due to its `2x` ghost capacity. Increase the ghost registry capacity to `3x` or `4x` the cache size. Since ghost entries are metadata-only and cheap, a larger history window allows the algorithm to detect and recover even larger cyclic working sets that exceed the current lookback window, further boosting hit rates on loop-heavy traces.",
    "Based on the analysis of Generations 50-59 and the strong performance (and specific weaknesses) of the Current Best Program, here are 5 actionable recommendations for future mutations:\n\n1.  **Capacity-Gated Conditional Demotion**\n    *Fix the 0.00% hit rate on scan traces (Trace 14).*\n    Modify the eviction logic in `evict` to check the size of the Small queue before demoting an item from the Main queue. Specifically, change the demotion line to: `if len(s_queue) < s_capacity: demote_to_s() else: demote_to_ghost()`. This prevents the \"recycling\" of aging Main items from clogging the probation queue during high-churn phases, ensuring that new incoming items can still enter the Small queue and prove their utility.\n\n2.  **Extended Ghost History Window**\n    *Maximize the ghost-guided loop detection.*\n    Increase the capacity of the `ghost_registry` from `2x` to `4x` the cache size. The analysis shows that the current `2x` capacity is the primary driver for high scores on Traces 27 and 28 (looping). Since ghost entries are metadata-only and memory-cheap, expanding this window allows the algorithm to capture even larger working sets and longer loops without disrupting the resident cache.\n\n3.  **Tiered Initial Frequency (Tenancy Bonus)**\n    *Stabilize the Main queue against thrashing.*\n    Differentiate the starting frequency of items entering the Main queue based on their source. When promoting an item from Small to Main, set `access_counts[key] = 1` (instead of 0). When promoting from Ghost to Main, set `access_counts[key] = 2` (indicating higher confidence). This gives proven items a \"buffer\" of one or two eviction cycles in the Main queue before they are subjected to decay or demotion, reducing churn.\n\n4.  **Probabilistic Probation Admission**\n    *Harden the cache against synchronized scan thrashing.*\n    In `update_after_insert`, introduce a probabilistic filter when the Small queue is full. If `len(s_queue) >= s_capacity` and the item is not in the ghost registry, admit the new item with a low probability (e.g., 25%) and drop it otherwise. This injects necessary randomness to desynchronize eviction cycles from scan patterns, breaking the \"lock-out\" effect observed in \"Ineffective Approaches.\"\n\n5.  **Frequency-Preserving Demotion (Soft Reset)**\n    *Refine the \"Second Chance\" mechanism.*\n    Instead of unconditionally resetting frequency to 0 when demoting from Main to Small (`access_counts[candidate_key] = 0`), consider resetting it to `1` *if* the Small queue logic is updated to require `freq > 1` for promotion. Alternatively, if keeping the current promotion logic (`freq > 0`), simply ensure the demotion places the item at the tail of the Small queue but allows it to retain `freq=0` (as it does now), but explicitly place it at the *Start* of the Small queue (LRU position) rather than the End (MRU) to force it to prove itself quickly or be evicted to Ghost. (Note: The current `s_queue[key]=None` places at MRU; try using `s_queue[key]=None; s_queue.move_to_end(key, last=False)` to put it at the front for immediate re-evaluation).",
    "Based on the analysis of Generations 60-69 and the performance profile of the Current Best Program (specifically its 0.00 hit rate on scan traces vs. 0.89 on locality traces), here are 5 actionable recommendations for future mutations:\n\n1.  **Capacity-Gated Conditional Demotion**\n    Implement a conditional check before demoting items from the Main queue to the Small queue. In the `evict` function, change the unconditional demotion logic to: `if len(s_queue) < s_capacity: demote_to_small() else: demote_to_ghost()`. This modification, observed in the high-performing Gen 62, prevents \"recycling\" operations from overcrowding the probationary queue during high-churn scans, thereby fixing the 0.00% hit rate on Trace 14 while preserving locality for stable workloads.\n\n2.  **Extended Ghost Registry Capacity**\n    Increase the capacity of the `ghost_registry` from `2x` to `4x` or `5x` the cache size. The global analysis indicates a direct correlation between ghost history size and loop detection scores (Traces 27 and 34). Since ghost entries are metadata-only and inexpensive, expanding this window allows the algorithm to detect and rescue items from much larger working sets that exceed the physical cache size.\n\n3.  **Probabilistic Probation Admission**\n    Introduce a probabilistic filter for new items when the Small queue is at capacity. In `update_after_insert`, if `len(s_queue) >= s_capacity` and the item is not in the ghost registry, admit the item with a low probability (e.g., 25%) and drop it otherwise. This \"Scan Resistance\" mechanism breaks the synchronization between eviction and insertion during scans, preventing the \"lock-out\" effect where useful data is unable to enter a thrashing probation queue.\n\n4.  **Tiered Promotion Frequencies (Tenancy Bonus)**\n    Differentiate the starting frequency of items entering the Main queue to improve retention stability. When promoting an item from the Ghost registry (a strong signal of recurrence), set `access_counts[key] = 2`. When promoting from the Small queue (a weaker signal), set `access_counts[key] = 1`. This gives proven items a \"buffer\" against immediate decay, stabilizing the Main queue against the aggressive eviction pressure noted in \"Ineffective Approaches.\"\n\n5.  **Expanded Probationary Allocation**\n    Increase the static allocation of the Small queue from `0.1` (10%) to `0.2` (20%) of the total cache capacity. Analysis of Gen 61 and Gen 65 suggests that the strict 10% partition creates a bottleneck that triggers excessive thrashing when combined with demotion traffic. A slightly larger probationary buffer allows new items more time to accumulate the hits necessary for promotion without significantly reducing the protected Main capacity.",
    "Based on the evaluation of the current best program (Gen 74, Score 0.25) and the global performance patterns, here are 5 actionable recommendations for future mutations. These recommendations aim to fix the 0.00% hit rate on scan traces (Trace 14) while preserving the high locality hit rates (Trace 28, 27) that the current \"Unconditional Demotion\" strategy achieves.\n\n1.  **Probabilistic Probation Admission (Scan Guard)**\n    Implement a probabilistic filter for *new* items entering the `s_queue` when it is full. In `update_after_insert`, if `len(s_queue) >= s_capacity` and the item is not in the ghost registry, admit it with a low probability (e.g., 25%) and drop it otherwise. This prevents scan traffic from flooding the probationary queue and flushing out potentially valuable \"demoted\" items that are waiting for a second chance, directly addressing the 0.00 score on Trace 14.\n\n2.  **Extended Ghost Registry Capacity**\n    Increase the `ghost_registry` capacity from `2x` to `4x` or `5x` of the cache size. The global analysis confirms a correlation between ghost size and loop detection scores (Traces 27 and 34). Expanding this metadata-only history is a low-cost mutation that allows the algorithm to recognize and rescue items from working sets that are significantly larger than the physical cache.\n\n3.  **Tenancy-Aware Promotion (Tenancy Bonus)**\n    Differentiate the initial `access_counts` value based on the promotion source. When promoting an item from the `ghost_registry` (a strong signal of recurrence), set `access_counts[key] = 2` (or 1). When promoting from the `s_queue` (a weaker signal), set `access_counts[key] = 0`. This \"tenancy bonus\" stabilizes confirmed recurring items in the Main queue against the aggressive eviction pressure, building on the success of the current frequency-aware logic.\n\n4.  **Higher Frequency Ceiling**\n    Increase the maximum cap for `access_counts` from `3` to `5` or `7`. The current cap of 3 may be too low to differentiate \"moderately hot\" items from \"extremely hot\" items, causing them to decay and face demotion too quickly during bursts of activity. A higher ceiling allows the Main queue to retain the core working set longer during localized churn, improving stability on traces like Trace 28.\n\n5.  **Lazy Promotion Threshold**\n    Raise the threshold for promotion from the Small queue to the Main queue. Instead of promoting immediately on the first hit (`if freq > 0`), require a higher frequency (e.g., `if freq > 1`) or use a counter check. This enforces a stricter filter, ensuring that only items with proven reuse (more than one access in probation) enter the protected Main queue, thereby reducing pollution from \"one-hit wonders.\"",
    "Based on the analysis of Generation 80-89 and the performance of the Current Best Program (Generation 74), here are 5 actionable recommendations for future mutations. These recommendations prioritize addressing the 0.00% hit rate on scan traces (Trace 14) while preserving and enhancing the strong static locality (Trace 28) identified in the successful programs.\n\n1.  **Ghost-Gated Admission Policy (Scan Resistance)**\n    Implement a \"Reject-to-Ghost\" policy for new items to solve the 0.00 score on Trace 14. In `update_after_insert`, if the `s_queue` is full and the item is *not* in the `ghost_registry`, do not admit it to the cache; instead, add it directly to the `ghost_registry` and return. This prevents one-time-use items (scans) from displacing the valuable \"second chance\" items demoted from the Main queue, effectively utilizing the metadata-only Ghost registry as a primary filter during congestion.\n\n2.  **Extended Ghost Registry Capacity**\n    Increase the `ghost_registry` capacity from `2x` to `4x` or `5x` of the cache size. This expansion is computationally cheap (metadata only) but essential to support the \"Ghost-Gated Admission\" policy (#1) and to better capture large looping patterns (Traces 27, 34) that exceed the current history horizon.\n\n3.  **Increased Frequency Ceiling**\n    Raise the maximum `access_counts` cap from `3` to `7`. The current low ceiling limits the algorithm's ability to distinguish between \"moderately warm\" and \"extremely hot\" items. A larger frequency range provides a deeper buffer for the core working set in the Main queue, preventing premature demotion during temporary bursts of churn and reinforcing the high hit rates on Trace 28.\n\n4.  **Lazy Promotion Threshold**\n    Strengthen the promotion criteria from the Small queue to the Main queue by requiring `freq > 1` (two hits) instead of the current `freq > 0` (one hit). Under this policy, items with only a single hit in probation are evicted to the Ghost registry rather than promoted. This acts as a stricter filter against \"one-hit wonders,\" ensuring the protected Main queue is reserved for items with stronger evidence of recurrence.\n\n5.  **Reduced Probation Queue Allocation**\n    If the \"Ghost-Gated Admission\" (#1) is implemented, the Small queue no longer needs to buffer large volumes of new traffic. Experiment with reducing the static `s_queue` allocation from 10% to 5% (and increasing Main to 95%). This maximizes the protected region for the heavy hitters (Trace 28) while relying on the Ghost registry to handle the initial filtering of new items.",
    "Based on the analysis of Generations 90-99 and the continued dominance of the Current Best Program (Generation 74), here are 5 actionable recommendations for future mutations. These recommendations focus on resolving the specific weakness on scan traces (Trace 14: 0.00%) while preserving the structural advantages that yield high locality scores.\n\n1.  **Ghost-Gated Admission Policy (Scan Resistance)**\n    Implement a conditional admission logic in `update_after_insert` to address the 0.00% score on Trace 14. If the `s_queue` is full and the new item is *not* present in the `ghost_registry`, bypass the cache entirely and insert the item directly into the `ghost_registry`. This ensures that one-time-use items (scans) never displace valid data in the `s_queue` or `m_queue`, reserving cache capacity for items that have demonstrated recurrence via a Ghost hit.\n\n2.  **Expanded Ghost Registry Capacity (5x)**\n    Increase the `ghost_registry` capacity from `2x` to `5x` (or larger) of the cache size. With the implementation of Ghost-Gated Admission (#1), the Ghost registry becomes the primary filter for all incoming traffic. A significantly larger metadata history is required to capture the working set of larger looping patterns and ensure that valuable items are not forgotten before they recur.\n\n3.  **Strict Promotion Threshold (Lazy Promotion)**\n    Raise the promotion criteria from `s_queue` to `m_queue` to require `freq > 1` (at least two hits while in probation) instead of `freq > 0`. Combined with the 10% probation allocation, this stricter filter ensures that only items with strong evidence of utility enter the protected `m_queue`, effectively filtering \"two-hit wonders\" that might otherwise pollute the main cache segment.\n\n4.  **Increased Frequency Ceiling**\n    Raise the `access_counts` cap from `3` to `7`. The current low cap limits the algorithm's ability to distinguish between \"warm\" items and \"hot\" core working set items in the `m_queue`. A higher ceiling allows for more granular decay (e.g., requiring more eviction cycles to demote a very popular item), which should further optimize the hit rate on high-locality traces like Trace 28.\n\n5.  **Enlarged Probation Queue Allocation (20%)**\n    Experiment with increasing the `s_capacity` from 10% to 20% *in conjunction with* Ghost-Gated Admission. Since the gating mechanism (#1) prevents scan noise from entering the `s_queue`, the items that *do* enter are of higher potential quality. A larger probation buffer gives these filtered items more time to accrue the hits necessary for promotion, potentially capturing medium-term loops that the tighter 10% window currently misses."
  ],
  "total_programs_meta_processed": 100
}
{"code": "# EVOLVE-BLOCK-START\n\nm_key_timestamp = dict()\n\ndef evict(cache_snapshot, obj):\n    '''\n    This function defines how the algorithm chooses the eviction victim.\n    - Args:\n        - `cache_snapshot`: A snapshot of the current cache state.\n        - `obj`: The new object that needs to be inserted into the cache.\n    - Return:\n        - `candid_obj_key`: The key of the cached object that will be evicted to make room for `obj`.\n    '''\n    candid_obj_key = None\n    min_ts = min(m_key_timestamp.values())\n    candid_obj_keys = list(key for key in cache_snapshot.cache if m_key_timestamp[key] == min_ts)\n    candid_obj_key = candid_obj_keys[0]\n    return candid_obj_key\n\ndef update_after_hit(cache_snapshot, obj):\n    '''\n    This function defines how the algorithm update the metadata it maintains immediately after a cache hit.\n    - Args:\n        - `cache_snapshot`: A snapshot of the current cache state.\n        - `obj`: The object accessed during the cache hit.\n    - Return: `None`\n    '''\n    global m_key_timestamp\n    assert obj.key in m_key_timestamp\n    m_key_timestamp[obj.key] = cache_snapshot.access_count\n\ndef update_after_insert(cache_snapshot, obj):\n    '''\n    This function defines how the algorithm updates the metadata it maintains immediately after inserting a new object into the cache.\n    - Args:\n        - `cache_snapshot`: A snapshot of the current cache state.\n        - `obj`: The object that was just inserted into the cache.\n    - Return: `None`\n    '''\n    global m_key_timestamp\n    assert obj.key not in m_key_timestamp\n    m_key_timestamp[obj.key] = cache_snapshot.access_count\n\ndef update_after_evict(cache_snapshot, obj, evicted_obj):\n    '''\n    This function defines how the algorithm updates the metadata it maintains immediately after evicting the victim.\n    - Args:\n        - `cache_snapshot`: A snapshot of the current cache state.\n        - `obj`: The object to be inserted into the cache.\n        - `evicted_obj`: The object that was just evicted from the cache.\n    - Return: `None`\n    '''\n    global m_key_timestamp\n    assert obj.key not in m_key_timestamp\n    assert evicted_obj.key in m_key_timestamp\n    m_key_timestamp.pop(evicted_obj.key)\n\n# EVOLVE-BLOCK-END", "metrics": {"alibaba_300.oracleGeneral.bin": 0.446244, "alibaba_353.oracleGeneral.bin": 0.41799, "alibaba_419.oracleGeneral.bin": 0.430398, "alibaba_448.oracleGeneral.bin": 0.387303, "alibaba_526.oracleGeneral.bin": 0.435471, "alibaba_684.oracleGeneral.bin": 0.43007, "alibaba_758.oracleGeneral.bin": 0.259569, "alibaba_802.oracleGeneral.bin": 0.498624, "alibaba_805.oracleGeneral.bin": 0.532356, "alibaba_816.oracleGeneral.bin": 0.531017, "alibaba_818.oracleGeneral.bin": 0.05, "alibaba_820.oracleGeneral.bin": 0.256661, "alibaba_821.oracleGeneral.bin": 0.023893, "alibaba_822.oracleGeneral.bin": 0.0, "alibaba_849.oracleGeneral.bin": 0.018406, "alibaba_860.oracleGeneral.bin": 0.018456, "alibaba_863.oracleGeneral.bin": 0.017908, "alibaba_868.oracleGeneral.bin": 0.020945, "alibaba_879.oracleGeneral.bin": 0.020391, "alibaba_890.oracleGeneral.bin": 0.264895, "alibaba_892.oracleGeneral.bin": 0.316618, "alibaba_914.oracleGeneral.bin": 0.024988, "alibaba_979.oracleGeneral.bin": 0.057382, "alibaba_980.oracleGeneral.bin": 0.057382, "tencent_17315.oracleGeneral.bin": 0.269774, "tencent_19195.oracleGeneral.bin": 0.25, "tencent_22680.oracleGeneral.bin": 0.656405, "tencent_2408.oracleGeneral.bin": 0.868047, "tencent_24971.oracleGeneral.bin": 0.020066, "tencent_25070.oracleGeneral.bin": 0.036364, "tencent_25073.oracleGeneral.bin": 0.038724, "tencent_25100.oracleGeneral.bin": 9.6e-05, "tencent_25103.oracleGeneral.bin": 3.6e-05, "tencent_25115.oracleGeneral.bin": 0.725664, "tencent_25136.oracleGeneral.bin": 0.070175, "tencent_25149.oracleGeneral.bin": 0.060018, "tencent_25155.oracleGeneral.bin": 0.009162, "tencent_25183.oracleGeneral.bin": 0.604328, "tencent_25204.oracleGeneral.bin": 0.121771, "tencent_25226.oracleGeneral.bin": 0.021902, "tencent_25243.oracleGeneral.bin": 0.02077, "tencent_25269.oracleGeneral.bin": 0.023482, "tencent_25294.oracleGeneral.bin": 0.042763, "tencent_25307.oracleGeneral.bin": 0.05, "tencent_25316.oracleGeneral.bin": 0.020965, "tencent_25330.oracleGeneral.bin": 0.021879, "tencent_25499.oracleGeneral.bin": 0.435583, "tencent_26011.oracleGeneral.bin": 0.03268, "run_time_stage2": 96.3415, "combined_score": 0.2066}}
